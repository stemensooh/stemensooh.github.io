(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return s});var r=n("30Go"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),a="[DEFAULT]",s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:a})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.e)(o.value,2),u=s[1],c=this.normalizeInstanceIdentifier(s[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=a),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=a),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=a),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var u=Object(r.g)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=Object(r.e)(c.value,2),h=l[1];a===this.normalizeInstanceIdentifier(l[0])&&h.resolve(s)}}catch(f){e={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return s},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var a=Object(r.g)(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===a?void 0:e),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=a),this.component?this.component.multipleInstances?t:a:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},"/uUt":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("Ji7U"),i=n("LK+K"),o=n("1OyB"),a=n("vuIU"),s=n("7o/Q");function u(t,e){return function(n){return n.lift(new c(t,e))}}var c=function(){function t(e,n){Object(o.a)(this,t),this.compare=e,this.keySelector=n}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.compare,this.keySelector))}}]),t}(),l=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r,i){var a;return Object(o.a)(this,n),(a=e.call(this,t)).keySelector=i,a.hasKey=!1,"function"==typeof r&&(a.compare=r),a}return Object(a.a)(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),n}(s.a)},0:function(t,e,n){t.exports=n("zUnb")},"0EUg":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("bHdf");function i(){return Object(r.a)(1)}},"1G5W":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("Ji7U"),i=n("LK+K"),o=n("1OyB"),a=n("vuIU"),s=n("zx2A");function u(t){return function(e){return e.lift(new c(t))}}var c=function(){function t(e){Object(o.a)(this,t),this.notifier=e}return Object(a.a)(t,[{key:"call",value:function(t,e){var n=new l(t),r=Object(s.c)(this.notifier,new s.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}]),t}(),l=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t){var r;return Object(o.a)(this,n),(r=e.call(this,t)).seenValue=!1,r}return Object(a.a)(n,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(s.b)},"1OyB":function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return r})},"1uah":function(t,e,n){"use strict";n.d(e,"b",function(){return f}),n.d(e,"a",function(){return d});var r=n("Ji7U"),i=n("LK+K"),o=n("1OyB"),a=n("vuIU"),s=n("yCtX"),u=n("DH7j"),c=n("7o/Q"),l=n("Lhse"),h=n("zx2A");function f(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return"function"==typeof r&&e.pop(),Object(s.a)(e,void 0).lift(new d(r))}var d=function(){function t(e){Object(o.a)(this,t),this.resultSelector=e}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new p(t,this.resultSelector))}}]),t}(),p=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r){var i;return arguments.length>2&&void 0!==arguments[2]||Object.create(null),Object(o.a)(this,n),(i=e.call(this,t)).resultSelector=r,i.iterators=[],i.active=0,i.resultSelector="function"==typeof r?r:void 0,i}return Object(a.a)(n,[{key:"_next",value:function(t){var e=this.iterators;Object(u.a)(t)?e.push(new b(t)):e.push("function"==typeof t[l.a]?new v(t[l.a]()):new y(this.destination,this,t))}},{key:"_complete",value:function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()}},{key:"notifyInactive",value:function(){this.active--,0===this.active&&this.destination.complete()}},{key:"checkIterators",value:function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++){var i=t[r];if("function"==typeof i.hasValue&&!i.hasValue())return}for(var o=!1,a=[],s=0;s<e;s++){var u=t[s],c=u.next();if(u.hasCompleted()&&(o=!0),c.done)return void n.complete();a.push(c.value)}this.resultSelector?this._tryresultSelector(a):n.next(a),o&&n.complete()}},{key:"_tryresultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(c.a),v=function(){function t(e){Object(o.a)(this,t),this.iterator=e,this.nextResult=e.next()}return Object(a.a)(t,[{key:"hasValue",value:function(){return!0}},{key:"next",value:function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t}},{key:"hasCompleted",value:function(){var t=this.nextResult;return Boolean(t&&t.done)}}]),t}(),b=function(){function t(e){Object(o.a)(this,t),this.array=e,this.index=0,this.length=0,this.length=e.length}return Object(a.a)(t,[{key:l.a,value:function(){return this}},{key:"next",value:function(t){var e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}},{key:"hasValue",value:function(){return this.array.length>this.index}},{key:"hasCompleted",value:function(){return this.array.length===this.index}}]),t}(),y=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r,i){var a;return Object(o.a)(this,n),(a=e.call(this,t)).parent=r,a.observable=i,a.stillUnsubscribed=!0,a.buffer=[],a.isComplete=!1,a}return Object(a.a)(n,[{key:l.a,value:function(){return this}},{key:"next",value:function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}},{key:"hasValue",value:function(){return this.buffer.length>0}},{key:"hasCompleted",value:function(){return 0===this.buffer.length&&this.isComplete}},{key:"notifyComplete",value:function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}},{key:"notifyNext",value:function(t){this.buffer.push(t),this.parent.checkIterators()}},{key:"subscribe",value:function(){return Object(h.c)(this.observable,new h.a(this))}}]),n}(h.b)},"25BE":function(t,e,n){"use strict";function r(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}n.d(e,"a",function(){return r})},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},"2Vo4":function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("1OyB"),i=n("vuIU"),o=n("ReuC"),a=n("foSv"),s=n("Ji7U"),u=n("LK+K"),c=n("XNiG"),l=n("9ppp"),h=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t){var i;return Object(r.a)(this,n),(i=e.call(this))._value=t,i}return Object(i.a)(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(t){var e=Object(o.a)(Object(a.a)(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new l.a;return this._value}},{key:"next",value:function(t){Object(o.a)(Object(a.a)(n.prototype),"next",this).call(this,this._value=t)}}]),n}(c.a)},"2WcH":function(t,e,n){"use strict";function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}n.d(e,"a",function(){return r})},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})}function s(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}},"32Ea":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("Ji7U"),i=n("LK+K"),o=n("1OyB"),a=n("vuIU"),s=n("7o/Q");function u(t){return function(e){return e.lift(new c(t))}}var c=function(){function t(e){Object(o.a)(this,t),this.predicate=e}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.predicate))}}]),t}(),l=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r){var i;return Object(o.a)(this,n),(i=e.call(this,t)).predicate=r,i.skipping=!0,i.index=0,i}return Object(a.a)(n,[{key:"_next",value:function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}},{key:"tryCallPredicate",value:function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(n){this.destination.error(n)}}}]),n}(s.a)},"3E0/":function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("Ji7U"),i=n("LK+K"),o=n("1OyB"),a=n("vuIU"),s=n("D0XW"),u=n("mlxB"),c=n("7o/Q"),l=n("WMd4");function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.a,n=Object(u.a)(t),r=n?+t-e.now():Math.abs(t);return function(t){return t.lift(new f(r,e))}}var f=function(){function t(e,n){Object(o.a)(this,t),this.delay=e,this.scheduler=n}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new d(t,this.delay,this.scheduler))}}]),t}(),d=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r,i){var a;return Object(o.a)(this,n),(a=e.call(this,t)).delay=r,a.scheduler=i,a.queue=[],a.active=!1,a.errored=!1,a}return Object(a.a)(n,[{key:"_schedule",value:function(t){this.active=!0,this.destination.add(t.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}},{key:"scheduleNotification",value:function(t){if(!0!==this.errored){var e=this.scheduler,n=new p(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}}},{key:"_next",value:function(t){this.scheduleNotification(l.a.createNext(t))}},{key:"_error",value:function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(l.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){for(var e=t.source,n=e.queue,r=t.scheduler,i=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1}}]),n}(c.a),p=function t(e,n){Object(o.a)(this,t),this.time=e,this.notification=n}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("1OyB"),i=n("vuIU"),o=n("Ji7U"),a=n("LK+K"),s=function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(t,i){var o;return Object(r.a)(this,n),(o=e.call(this,t,i)).scheduler=t,o.work=i,o.pending=!1,o}return Object(i.a)(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(t,i){return Object(r.a)(this,n),e.call(this)}return Object(i.a)(n,[{key:"schedule",value:function(t){return this}}]),n}(n("quSY").a))},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"4I5i":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}()},"5+tZ":function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return d});var r=n("Ji7U"),i=n("LK+K"),o=n("1OyB"),a=n("vuIU"),s=n("lJxs"),u=n("Cfvw"),c=n("zx2A");function l(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(r){return r.pipe(l(function(n,r){return Object(u.a)(t(n,r)).pipe(Object(s.a)(function(t,i){return e(n,t,r,i)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new h(t,n))})}var h=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;Object(o.a)(this,t),this.project=e,this.concurrent=n}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new f(t,this.project,this.concurrent))}}]),t}(),f=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return Object(o.a)(this,n),(i=e.call(this,t)).project=r,i.concurrent=a,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return Object(a.a)(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new c.a(this),n=this.destination;n.add(e);var r=Object(c.c)(t,e);r!==e&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(c.b),d=l},"5yfJ":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=n("HDdC"),i=n("KqfI"),o=new r.a(i.a);function a(){return o}},"6Uf2":function(t,e,n){"use strict";(function(t){var e=n("zIRd"),r=n("/6Yf"),i=n("qOnz"),o=n("30Go"),a=n("q/0M"),s="";function u(t){s=t}var c,l=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(i.I)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(i.C)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),h=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(i.h)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),f=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new l(e)}}catch(n){}return new h},d=f("localStorage"),p=f("sessionStorage"),v=new a.b("@firebase/database"),b=(c=1,function(){return c++}),y=function(t){var e=Object(i.H)(t),n=new i.c;n.update(e);var r=n.digest();return i.f.encodeByteArray(r)},g=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",o=0;o<e.length;o++){var a=e[o];Array.isArray(a)||a&&"object"==typeof a&&"number"==typeof a.length?r+=t.apply(null,a):r+="object"==typeof a?Object(i.I)(a):a,r+=" "}return r},m=null,w=!0,_=function(t,e){Object(i.d)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(v.logLevel=a.a.VERBOSE,m=v.log.bind(v),e&&p.set("logging_enabled",!0)):"function"==typeof t?m=t:(m=null,p.remove("logging_enabled"))},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===w&&(w=!1,null===m&&!0===p.get("logging_enabled")&&_(!0)),m){var n=g.apply(null,t);m(n)}},k=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];O.apply(void 0,Object(o.f)([t],Object(o.e)(e)))}},j=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+g.apply(void 0,Object(o.f)([],Object(o.e)(t)));v.error(n)},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+g.apply(void 0,Object(o.f)([],Object(o.e)(t)));throw v.error(n),new Error(n)},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+g.apply(void 0,Object(o.f)([],Object(o.e)(t)));v.warn(n)},T=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},E="[MIN_NAME]",C="[MAX_NAME]",x=function(t,e){if(t===e)return 0;if(t===E||e===C)return-1;if(e===E||t===C)return 1;var n=F(t),r=F(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},A=function(t,e){return t===e?0:t<e?-1:1},N=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(i.I)(e))},D=function t(e){if("object"!=typeof e||null===e)return Object(i.I)(e);var n=[];for(var r in e)n.push(r);n.sort();for(var o="{",a=0;a<n.length;a++)0!==a&&(o+=","),o+=Object(i.I)(n[a]),o+=":",o+=t(e[n[a]]);return o+"}"},R=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function P(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var L=function(t){var e,n,r,o,a;Object(i.d)(!T(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(o=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-o)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},M=new RegExp("^-?(0*)\\d{1,10}$"),F=function(t){if(M.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},V=function(t){try{t()}catch(e){setTimeout(function(){throw I("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},U=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},q=function(){function t(t,e){var n=this;this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(function(t){return n.appCheck=t})}return t.prototype.getToken=function(t){var e=this;return this.appCheck?this.appCheck.getToken(t):new Promise(function(n,r){setTimeout(function(){e.appCheck?e.getToken(t).then(n,r):n(null)},0)})},t.prototype.addTokenChangeListener=function(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(function(e){return e.addTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){I('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}(),B=function(){function t(t,e,n){var r=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(function(t){return r.auth_=t})}return t.prototype.getToken=function(t){var e=this;return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(O("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):new Promise(function(n,r){setTimeout(function(){e.auth_?e.getToken(t).then(n,r):n(null)},0)})},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)})},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';I(t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),H=function(){function t(t){this.accessToken=t}return t.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(t){t(this.accessToken)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}(),W=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,z="websocket",K="long_polling",G=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=d.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&d.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},t}();function Q(t,e,n){var r;if(Object(i.d)("string"==typeof e,"typeof type must == string"),Object(i.d)("object"==typeof n,"typeof params must == object"),e===z)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==K)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var o=[];return P(n,function(t,e){o.push(t+"="+e)}),r+o.join("&")}var Y=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(i.h)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(i.k)(this.counters_)},t}(),J={},Z={};function X(t){var e=t.toString();return J[e]||(J[e]=new Y),J[e]}var $=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&V(function(){n.onMessage_(t[e])})},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),tt="start",et="close",nt=function(){function t(t,e,n,r,i,o,a){var s=this;this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=k(t),this.stats_=X(e),this.urlFn=function(t){return s.appCheckToken&&(t.ac=s.appCheckToken),Q(e,K,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new $(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if(Object(i.x)()||"complete"===document.readyState)t();else{var e=!1,n=function n(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new rt(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(o.e)(t,5),i=r[0],a=r[1],s=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===tt)n.id=a,n.password=s;else{if(i!==et)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(o.e)(t,2),i=r[0],a=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),n.appCheckToken&&(t.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&W.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(Object(i.x)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(i.I)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(i.g)(e),r=R(n,1840),o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(i.x)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(i.I)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),rt=function(){function t(e,n,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(i.x)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=b(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){O("frame writing exception"),u.stack&&O(u.stack),O(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||O("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(i),r()})},t.prototype.addTag=function(t,e){var n=this;Object(i.x)()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){O("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}},Math.floor(1))},t}(),it=null;"undefined"!=typeof MozWebSocket?it=MozWebSocket:"undefined"!=typeof WebSocket&&(it=WebSocket);var ot=function(){function t(e,n,r,i,o,a,s){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=k(this.connId),this.stats_=X(n),this.connURL=t.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n,r){var o={v:"5"};return!Object(i.x)()&&"undefined"!=typeof location&&location.hostname&&W.test(location.hostname)&&(o.r="f"),e&&(o.s=e),n&&(o.ls=n),r&&(o.ac=r),Q(t,z,o)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,d.set("previous_websocket_failure",!0);try{if(Object(i.x)()){var r={headers:{"User-Agent":"Firebase/5/"+s+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(r.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var o=process.env,a=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(r.proxy={origin:a}),this.mySock=new it(this.connURL,[],r)}else this.mySock=new it(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(c){this.log_("Error instantiating WebSocket.");var u=c.message||c.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==it&&!t.forceDisallow_},t.previouslyFailed=function(){return d.isInMemoryStorage||!0===d.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){d.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(i.C)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(Object(i.d)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=Object(i.I)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=R(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),at=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[nt,ot]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=ot&&ot.isAvailable(),a=i&&!ot.previouslyFailed();if(e.webSocketOnly&&(i||I("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[ot];else{var s=this.transports_=[];try{for(var u=Object(o.g)(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),st=function(){function t(t,e,n,r,i,o,a,s,u,c){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=k("c:"+this.id+":"),this.transportManager_=new at(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=U(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=N("t",t),n=N("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=N("t",t),n=N("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=N("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?j("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):j("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&I("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),U(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):U(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(d.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),ut=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.refreshAppCheckToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),ct=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(i.d)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(o.f)([],Object(o.e)(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(i.d)(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),lt=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(i.v)()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return Object(o.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(i.d)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(ct),ht=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function ft(){return new ht("")}function dt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function pt(t){return t.pieces_.length-t.pieceNum_}function vt(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new ht(t.pieces_,e)}function bt(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function yt(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function gt(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ht(e,0)}function mt(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ht)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ht(n,0)}function wt(t){return t.pieceNum_>=t.pieces_.length}function _t(t,e){var n=dt(t),r=dt(e);if(null===n)return e;if(n===r)return _t(vt(t),vt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Ot(t,e){for(var n=yt(t,0),r=yt(e,0),i=0;i<n.length&&i<r.length;i++){var o=x(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function kt(t,e){if(pt(t)!==pt(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function jt(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(pt(t)>pt(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var St=function(t,e){this.errorPrefix_=e,this.parts_=yt(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(i.G)(this.parts_[n]);It(this)};function It(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Tt(t))}function Tt(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var Et,Ct,xt=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return Object(o.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(i.d)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(ct),At=1e3,Nt=function(t){function e(n,r,o,a,s,u,c,l){var h=t.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=o,h.onConnectStatus_=a,h.onServerInfoUpdate_=s,h.authTokenProvider_=u,h.appCheckTokenProvider_=c,h.authOverride_=l,h.id=e.nextPersistentConnectionId_++,h.log_=k("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=At,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!Object(i.x)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return xt.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&lt.getInstance().on("online",h.onOnline_,h),h}return Object(o.c)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,o={r:r,a:t,b:e};this.log_(Object(i.I)(o)),Object(i.d)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this;this.initConnection_();var n=new i.a,r={p:t._path.toString(),q:t._queryObject},o={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var t=e.outstandingGets_[a];void 0!==t&&o===t&&(delete e.outstandingGets_[a],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(a),n.promise},e.prototype.listen=function(t,e,n,r){this.initConnection_();var o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),Object(i.d)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(i.d)(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(a).set(o,s),this.connected_&&this.sendListen_(s)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Object(i.h)(t,"w")){var n=Object(i.F)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',o=e._path.toString();I("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+o+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(i.p)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(i.B)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(e){var n=e.s,r=e.d||"error";"ok"===n?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(n,r)})},e.prototype.unlisten=function(t,e){var n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(i.d)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){this.initConnection_();var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(i.I)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):j("Unrecognized action received from server: "+Object(i.I)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(i.d)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=At,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=At,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=At),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return Object(o.b)(this,void 0,void 0,function(){var t,n,r,a,s,u,c,l,h,f,d,p,v,b=this;return Object(o.d)(this,function(y){switch(y.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,this.realtime_={close:l=function(){c?c.close():(u=!0,r())},sendRequest:function(t){Object(i.d)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(t)}},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)])];case 2:return f=o.e.apply(void 0,[y.sent(),2]),d=f[0],p=f[1],u?O("getToken() completed but was canceled"):(O("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=p&&p.token,c=new st(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,function(t){I(t+" ("+b.repoInfo_.toString()+")"),b.interrupt("server_kill")},s)),[3,4];case 3:return v=y.sent(),this.log_("Failed to get token: "+v),u||(this.repoInfo_.nodeAdmin&&I(v),l()),[3,4];case 4:return[2]}})})},e.prototype.interrupt=function(t){O("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){O("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(i.t)(this.interruptReasons_)&&(this.reconnectDelay_=At,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return D(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new ht(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){O("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,e){O("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Object(o.g)(this.listens.values()),a=i.next();!a.done;a=i.next()){var s=a.value;try{for(var u=(n=void 0,Object(o.g)(s.values())),c=u.next();!c.done;c=u.next())this.sendListen_(c.value)}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(d){t={error:d}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(i.x)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+s.replace(/\./g,"-")]=1,Object(i.v)()?t["framework.cordova"]=1:Object(i.y)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=lt.getInstance().currentlyOnline();return Object(i.t)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(ut),Dt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Rt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Dt(E,t),r=new Dt(E,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Dt.MIN},t}(),Pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Et},set:function(t){Et=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return x(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(i.e)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Dt.MIN},e.prototype.maxPost=function(){return new Dt(C,Et)},e.prototype.makePost=function(t,e){return Object(i.d)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Dt(t,Et)},e.prototype.toString=function(){return".key"},e}(Rt),Lt=new Pt,Mt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Ft=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Ut.EMPTY_NODE,this.right=null!=o?o:Ut.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Ut.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Ut.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Vt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ft(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Ut=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ft.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ft.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Mt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Mt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Mt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Mt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Vt,t}();function qt(t,e){return x(t.name,e.name)}function Bt(t,e){return x(t,e)}var Ht,Wt,zt,Kt,Gt,Qt=function(t){return"number"==typeof t?"number:"+L(t):"string:"+t},Yt=function(t){if(t.isLeafNode()){var e=t.val();Object(i.d)("string"==typeof e||"number"==typeof e||"object"==typeof e&&Object(i.h)(e,".sv"),"Priority must be a string or number.")}else Object(i.d)(t===Ct||t.isEmpty(),"priority of unexpected type.");Object(i.d)(t===Ct||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Jt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(i.d)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Yt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return Ht},set:function(t){Ht=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return wt(e)?this:".priority"===dt(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=dt(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(i.d)(".priority"!==r||1===pt(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(vt(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Qt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?L(this.value_):this.value_,this.lazyHash_=y(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(i.d)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(n),a=t.VALUE_TYPE_ORDER.indexOf(r);return Object(i.d)(o>=0,"Unknown leaf type: "+n),Object(i.d)(a>=0,"Unknown leaf type: "+r),o===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-o},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Zt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?x(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Dt.MIN},e.prototype.maxPost=function(){return new Dt(C,new Jt("[PRIORITY-POST]",zt))},e.prototype.makePost=function(t,e){var n=Wt(t);return new Dt(e,new Jt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Rt)),Xt=Math.log(2),$t=function(){function t(t){this.count=parseInt(Math.log(t+1)/Xt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),te=function(t,e,n,r){t.sort(e);var i=function e(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=t[r],a=n?n(o):o,new Ft(a,o.node,Ft.BLACK,null,null);var u=parseInt(s/2,10)+r,c=e(r,u),l=e(u+1,i);return o=t[u],a=n?n(o):o,new Ft(a,o.node,Ft.BLACK,c,l)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e;var c=i(o+1,s),l=t[o],h=n?n(l):l;u(new Ft(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?s(h,Ft.BLACK):(s(h,Ft.BLACK),s(h,Ft.RED))}return o}(new $t(t.length));return new Ut(r||e,o)},ee={},ne=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(i.d)(ee&&Zt,"ChildrenNode.ts has not been loaded"),Kt=Kt||new t({".priority":ee},{".priority":Zt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(i.F)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ut?e:null},t.prototype.hasIndex=function(t){return Object(i.h)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(i.d)(e!==Lt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,a=[],s=!1,u=n.getIterator(Dt.Wrap),c=u.getNext();c;)s=s||e.isDefinedOn(c.node),a.push(c),c=u.getNext();r=s?te(a,e.getCompare()):ee;var l=e.toString(),h=Object(o.a)({},this.indexSet_);h[l]=e;var f=Object(o.a)({},this.indexes_);return f[l]=r,new t(f,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(i.D)(this.indexes_,function(t,o){var a=Object(i.F)(r.indexSet_,o);if(Object(i.d)(a,"Missing index implementation for "+o),t===ee){if(a.isDefinedOn(e.node)){for(var s=[],u=n.getIterator(Dt.Wrap),c=u.getNext();c;)c.name!==e.name&&s.push(c),c=u.getNext();return s.push(e),te(s,a.getCompare())}return ee}var l=n.get(e.name),h=t;return l&&(h=h.remove(new Dt(e.name,l))),h.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(i.D)(this.indexes_,function(t){if(t===ee)return t;var r=n.get(e.name);return r?t.remove(new Dt(e.name,r)):t}),this.indexSet_)},t}(),re=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Yt(this.priorityNode_),this.children_.isEmpty()&&Object(i.d)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Gt||(Gt=new t(new Ut(Bt),null,ne.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Gt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Gt:e},t.prototype.getChild=function(t){var e=dt(t);return null===e?this:this.getImmediateChild(e).getChild(vt(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(i.d)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Dt(e,n),o=void 0,a=void 0;n.isEmpty()?(o=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=o.isEmpty()?Gt:this.priorityNode_;return new t(o,s,a)},t.prototype.updateChild=function(t,e){var n=dt(t);if(null===n)return e;Object(i.d)(".priority"!==dt(t)||1===pt(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(vt(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Zt,function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Qt(this.getPriority().val())+":"),this.forEachChild(Zt,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":y(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Dt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Dt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Dt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,Dt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,Dt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ie?-1:0},t.prototype.withIndex=function(e){if(e===Lt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Lt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Zt),r=e.getIterator(Zt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Lt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),ie=new(function(t){function e(){return t.call(this,new Ut(Bt),re.EMPTY_NODE,ne.Default)||this}return Object(o.c)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return re.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(re));function oe(t,e){if(void 0===e&&(e=null),null===t)return re.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Object(i.d)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Jt(t,oe(e));if(t instanceof Array){var n=re.EMPTY_NODE;return P(t,function(e,r){if(Object(i.h)(t,e)&&"."!==e.substring(0,1)){var o=oe(r);!o.isLeafNode()&&o.isEmpty()||(n=n.updateImmediateChild(e,o))}}),n.updatePriority(oe(e))}var r=[],o=!1;if(P(t,function(t,e){if("."!==t.substring(0,1)){var n=oe(e);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),r.push(new Dt(t,n)))}}),0===r.length)return re.EMPTY_NODE;var a=te(r,qt,function(t){return t.name},Bt);if(o){var s=te(r,Zt.getCompare());return new re(a,oe(e),new ne({".priority":s},{".priority":Zt}))}return new re(a,oe(e),ne.Default)}Object.defineProperties(Dt,{MIN:{value:new Dt(E,re.EMPTY_NODE)},MAX:{value:new Dt(C,ie)}}),Pt.__EMPTY_NODE=re.EMPTY_NODE,Jt.__childrenNodeConstructor=re,Ct=ie,zt=ie,Wt=oe;var ae,se,ue=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(i.d)(!wt(e)&&".priority"!==dt(e),"Can't create PathIndex with empty path or .priority key"),n}return Object(o.c)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?x(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=oe(t),r=re.EMPTY_NODE.updateChild(this.indexPath_,n);return new Dt(e,r)},e.prototype.maxPost=function(){var t=re.EMPTY_NODE.updateChild(this.indexPath_,ie);return new Dt(C,t)},e.prototype.toString=function(){return yt(this.indexPath_,0).join("/")},e}(Rt),ce=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?x(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Dt.MIN},e.prototype.maxPost=function(){return Dt.MAX},e.prototype.makePost=function(t,e){var n=oe(t);return new Dt(e,n)},e.prototype.toString=function(){return".value"},e}(Rt)),le="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",he=(ae=0,se=[],function(t){var e,n=t===ae;ae=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=le.charAt(t%64),t=Math.floor(t/64);Object(i.d)(0===t,"Cannot push at time == 0");var o=r.join("");if(n){for(e=11;e>=0&&63===se[e];e--)se[e]=0;se[e]++}else for(e=0;e<12;e++)se[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)o+=le.charAt(se[e]);return Object(i.d)(20===o.length,"nextPushId: Length should be 20."),o}),fe=function(t){if("2147483647"===t)return"-";var e=F(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return C;var o=le.charAt(le.indexOf(n[i])+1);return n[i]=o,n.slice(0,i+1).join("")},de=function(t){if("-2147483648"===t)return E;var e=F(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=le.charAt(le.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function pe(t){return{type:"value",snapshotNode:t}}function ve(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function be(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ye(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var ge=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,o,a){Object(i.d)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=a&&(n.isEmpty()?t.hasChild(e)?a.trackChildChange(be(e,s)):Object(i.d)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(ve(e,n)):a.trackChildChange(ye(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Zt,function(t,r){e.hasChild(t)||n.trackChildChange(be(t,r))}),e.isLeafNode()||e.forEachChild(Zt,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(ye(e,r,i))}else n.trackChildChange(ve(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?re.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),me=function(){function t(e){this.indexedFilter_=new ge(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Dt(e,n))||(n=re.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=re.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(re.EMPTY_NODE);var i=this;return e.forEachChild(Zt,function(t,e){i.matches(new Dt(t,e))||(r=r.updateImmediateChild(t,re.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),we=function(){function t(t){this.rangedFilter_=new me(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Dt(e,n))||(n=re.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=re.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=re.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(re.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,re.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,o){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(t,e){return s(e,t)}}else a=this.index_.getCompare();var u=t;Object(i.d)(u.numChildren()===this.limit_,"");var c=new Dt(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(e)){for(var f=u.getImmediateChild(e),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===e||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=o&&o.trackChildChange(ye(e,n,f)),u.updateImmediateChild(e,n);null!=o&&o.trackChildChange(be(e,f));var v=u.updateImmediateChild(e,re.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=o&&o.trackChildChange(ve(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?t:h&&a(l,c)>=0?(null!=o&&(o.trackChildChange(be(l.name,l.node)),o.trackChildChange(ve(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,re.EMPTY_NODE)):t},t}(),_e=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Zt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return Object(i.d)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(i.d)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:E},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(i.d)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(i.d)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:C},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(i.d)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Zt},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function Oe(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function ke(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function je(t,e){var n=t.copy();return n.index_=e,n}function Se(t){var e,n={};return t.isDefault()||(t.index_===Zt?e="$priority":t.index_===ce?e="$value":t.index_===Lt?e="$key":(Object(i.d)(t.index_ instanceof ue,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=Object(i.I)(e),t.startSet_&&(n.startAt=Object(i.I)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+Object(i.I)(t.indexStartName_))),t.endSet_&&(n.endAt=Object(i.I)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+Object(i.I)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}function Ie(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Zt&&(e.i=t.index_.toString()),e}var Te=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=k("p:rest:"),o.listens_={},o}return Object(o.c)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(i.d)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,r,o){var a=this,s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=Se(t._queryParams);this.restRequest_(s+".json",l,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&a.onDataUpdate_(s,n,!1,r),Object(i.F)(a.listens_,u)===c&&o(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=Se(t._queryParams),r=t._path.toString(),o=new i.a;return this.restRequest_(r+".json",n,function(t,n){var i=n;404===t&&(i=null,t=null),null===t?(e.onDataUpdate_(r,i,!1,null),o.resolve(i)):o.reject(new Error(i))}),o.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;return void 0===e&&(e={}),e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var s=Object(o.e)(a,2),u=s[0],c=s[1];u&&u.accessToken&&(e.auth=u.accessToken),c&&c.token&&(e.ac=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(i.E)(e);r.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var t=null;if(h.status>=200&&h.status<300){try{t=Object(i.C)(h.responseText)}catch(e){I("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,t)}else 401!==h.status&&404!==h.status&&I("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()})},e}(ut),Ee=function(){function t(){this.rootNode_=re.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();function Ce(){return{value:null,children:new Map}}function xe(t,e,n){if(wt(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=dt(e);t.children.has(r)||t.children.set(r,Ce()),xe(t.children.get(r),e=vt(e),n)}}function Ae(t,e){if(wt(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(Zt,function(e,n){xe(t,new ht(e),n)}),Ae(t,e)}if(t.children.size>0){var r=dt(e);return e=vt(e),t.children.has(r)&&Ae(t.children.get(r),e)&&t.children.delete(r),0===t.children.size}return!0}function Ne(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach(function(t,n){e(n,t)})}(t,function(t,r){Ne(r,new ht(e.toString()+"/"+t),n)})}var De=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(o.a)({},t);return this.last_&&P(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Re=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new De(t);var n=1e4+2e4*Math.random();U(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;P(e,function(e,o){o>0&&Object(i.h)(t.statsToReport_,e)&&(n[e]=o,r=!0)}),r&&this.server_.reportStats(n),U(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Pe=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({});function Le(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Me,Fe=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Pe.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(wt(this.path)){if(null!=this.affectedTree.value)return Object(i.d)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ht(e));return new t(ft(),n,this.revert)}return Object(i.d)(dt(this.path)===e,"operationForChild called for unrelated child."),new t(vt(this.path),this.affectedTree,this.revert)},t}(),Ve=function(){function t(t,e){this.source=t,this.path=e,this.type=Pe.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return wt(this.path)?new t(this.source,ft()):new t(this.source,vt(this.path))},t}(),Ue=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Pe.OVERWRITE}return t.prototype.operationForChild=function(e){return wt(this.path)?new t(this.source,ft(),this.snap.getImmediateChild(e)):new t(this.source,vt(this.path),this.snap)},t}(),qe=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Pe.MERGE}return t.prototype.operationForChild=function(e){if(wt(this.path)){var n=this.children.subtree(new ht(e));return n.isEmpty()?null:n.value?new Ue(this.source,ft(),n.value):new t(this.source,ft(),n)}return Object(i.d)(dt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,vt(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Be=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(wt(t))return this.isFullyInitialized()&&!this.filtered_;var e=dt(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),He=function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()};function We(t,e,n,r,o,a){var s=r.filter(function(t){return t.type===n});s.sort(function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw Object(i.e)("Should only compare child_ events.");var r=new Dt(e.childName,e.snapshotNode),o=new Dt(n.childName,n.snapshotNode);return t.index_.compare(r,o)}(t,e,n)}),s.forEach(function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,a);o.forEach(function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))})})}function ze(t,e){return{eventCache:t,serverCache:e}}function Ke(t,e,n,r){return ze(new Be(e,n,r),t.serverCache)}function Ge(t,e,n,r){return ze(t.eventCache,new Be(e,n,r))}function Qe(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ye(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Je=function(){function t(t,e){void 0===e&&(Me||(Me=new Ut(A)),e=Me),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return P(e,function(t,e){n=n.set(new ht(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:ft(),value:this.value};if(wt(t))return null;var n=dt(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(vt(t),e);return null!=i?{path:mt(new ht(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(wt(e))return this;var n=dt(e),r=this.children.get(n);return null!==r?r.subtree(vt(e)):new t(null)},t.prototype.set=function(e,n){if(wt(e))return new t(n,this.children);var r=dt(e),i=(this.children.get(r)||new t(null)).set(vt(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(wt(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=dt(e),r=this.children.get(n);if(r){var i=r.remove(vt(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(wt(t))return this.value;var e=dt(t),n=this.children.get(e);return n?n.get(vt(t)):null},t.prototype.setTree=function(e,n){if(wt(e))return n;var r,i=dt(e),o=(this.children.get(i)||new t(null)).setTree(vt(e),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(ft(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(mt(t,r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,ft(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(wt(t))return null;var i=dt(t),o=this.children.get(i);return o?o.findOnPath_(vt(t),mt(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,ft(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(wt(e))return this;this.value&&r(n,this.value);var i=dt(e),o=this.children.get(i);return o?o.foreachOnPath_(vt(e),mt(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(ft(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(mt(t,n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t}(),Ze=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new Je(null))},t}();function Xe(t,e,n){if(wt(e))return new Ze(new Je(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=_t(i,e);return o=o.updateChild(a,n),new Ze(t.writeTree_.set(i,o))}var s=new Je(n),u=t.writeTree_.setTree(e,s);return new Ze(u)}function $e(t,e,n){var r=t;return P(n,function(t,n){r=Xe(r,mt(e,t),n)}),r}function tn(t,e){if(wt(e))return Ze.empty();var n=t.writeTree_.setTree(e,new Je(null));return new Ze(n)}function en(t,e){return null!=nn(t,e)}function nn(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(_t(n.path,e)):null}function rn(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Zt,function(t,n){e.push(new Dt(t,n))}):t.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new Dt(t,n.value))}),e}function on(t,e){if(wt(e))return t;var n=nn(t,e);return new Ze(null!=n?new Je(n):t.writeTree_.subtree(e))}function an(t){return t.writeTree_.isEmpty()}function sn(t,e){return un(ft(),t.writeTree_,e)}function un(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(e,o){".priority"===e?(Object(i.d)(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=un(mt(t,e),o,n)}),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(mt(t,".priority"),r)),n}function cn(t,e){return wn(e,t)}function ln(t,e){if(t.snap)return jt(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&jt(mt(t.path,n),e))return!0;return!1}function hn(t){return t.visible}function fn(t,e,n){for(var r=Ze.empty(),o=0;o<t.length;++o){var a=t[o];if(e(a)){var s=a.path,u=void 0;if(a.snap)jt(n,s)?r=Xe(r,u=_t(n,s),a.snap):jt(s,n)&&(u=_t(s,n),r=Xe(r,ft(),a.snap.getChild(u)));else{if(!a.children)throw Object(i.e)("WriteRecord should have .snap or .children");if(jt(n,s))r=$e(r,u=_t(n,s),a.children);else if(jt(s,n))if(wt(u=_t(s,n)))r=$e(r,ft(),a.children);else{var c=Object(i.F)(a.children,dt(u));if(c){var l=c.getChild(vt(u));r=Xe(r,ft(),l)}}}}}return r}function dn(t,e,n,r,i){if(r||i){var o=on(t.visibleWrites,e);return!i&&an(o)?n:i||null!=n||en(o,ft())?sn(fn(t.allWrites,function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(jt(t.path,e)||jt(e,t.path))},e),n||re.EMPTY_NODE):null}var a=nn(t.visibleWrites,e);if(null!=a)return a;var s=on(t.visibleWrites,e);return an(s)?n:null!=n||en(s,ft())?sn(s,n||re.EMPTY_NODE):null}function pn(t,e,n,r){return dn(t.writeTree,t.treePath,e,n,r)}function vn(t,e){return function(t,e,n){var r=re.EMPTY_NODE,i=nn(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Zt,function(t,e){r=r.updateImmediateChild(t,e)}),r;if(n){var o=on(t.visibleWrites,e);return n.forEachChild(Zt,function(t,e){var n=sn(on(o,new ht(t)),e);r=r.updateImmediateChild(t,n)}),rn(o).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}return rn(on(t.visibleWrites,e)).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}(t.writeTree,t.treePath,e)}function bn(t,e,n,r){return function(t,e,n,r,o){Object(i.d)(r||o,"Either existingEventSnap or existingServerSnap must exist");var a=mt(e,n);if(en(t.visibleWrites,a))return null;var s=on(t.visibleWrites,a);return an(s)?o.getChild(n):sn(s,o.getChild(n))}(t.writeTree,t.treePath,e,n,r)}function yn(t,e){return function(t,e){return nn(t.visibleWrites,e)}(t.writeTree,mt(t.treePath,e))}function gn(t,e,n){return function(t,e,n,r){var i=mt(e,n),o=nn(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?sn(on(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function mn(t,e){return wn(mt(t.treePath,e),t.writeTree)}function wn(t,e){return{treePath:t,writeTree:e}}var _n=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(i.d)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Object(i.d)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(n,ye(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(n,be(n,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(n,ve(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw Object(i.e)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,ye(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),On=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),kn=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Be(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return gn(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ye(this.viewCache_),i=function(t,e,n,r,i,o){return function(t,e,n,r,i,o,a){var s,u=on(t.visibleWrites,e),c=nn(u,ft());if(null!=c)s=c;else{if(null==n)return[];s=sn(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();d&&l.length<1;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(t.writeTree,t.treePath,e,n,0,i,o)}(this.writes_,r,e,0,n,t);return 0===i.length?null:i[0]},t}();function jn(t,e,n,r,o,a){var s=e.eventCache;if(null!=yn(r,n))return e;var u=void 0,c=void 0;if(wt(n))if(Object(i.d)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var l=Ye(e),h=vn(r,l instanceof re?l:re.EMPTY_NODE);u=t.filter.updateFullNode(e.eventCache.getNode(),h,a)}else{var f=pn(r,Ye(e));u=t.filter.updateFullNode(e.eventCache.getNode(),f,a)}else{var d=dt(n);if(".priority"===d){Object(i.d)(1===pt(n),"Can't have a priority with additional path components");var p=s.getNode(),v=bn(r,n,p,c=e.serverCache.getNode());u=null!=v?t.filter.updatePriority(p,v):s.getNode()}else{var b=vt(n),y=void 0;if(s.isCompleteForChild(d)){c=e.serverCache.getNode();var g=bn(r,n,s.getNode(),c);y=null!=g?s.getNode().getImmediateChild(d).updateChild(b,g):s.getNode().getImmediateChild(d)}else y=gn(r,d,e.serverCache);u=null!=y?t.filter.updateChild(s.getNode(),d,y,b,o,a):s.getNode()}}return Ke(e,u,s.isFullyInitialized()||wt(n),t.filter.filtersNodes())}function Sn(t,e,n,r,i,o,a,s){var u,c=e.serverCache,l=a?t.filter:t.filter.getIndexedFilter();if(wt(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=dt(n);if(!c.isCompleteForPath(n)&&pt(n)>1)return e;var d=vt(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,On,null)}var v=Ge(e,u,c.isFullyInitialized()||wt(n),l.filtersNodes());return jn(t,v,n,i,new kn(i,v,o),s)}function In(t,e,n,r,i,o,a){var s,u,c=e.eventCache,l=new kn(i,e,o);if(wt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,a),s=Ke(e,u,!0,t.filter.filtersNodes());else{var h=dt(n);if(".priority"===h)u=t.filter.updatePriority(e.eventCache.getNode(),r),s=Ke(e,u,c.isFullyInitialized(),c.isFiltered());else{var f=vt(n),d=c.getNode().getImmediateChild(h),p=void 0;if(wt(f))p=r;else{var v=l.getCompleteChild(h);p=null!=v?".priority"===bt(f)&&v.getChild(gt(f)).isEmpty()?v:v.updateChild(f,r):re.EMPTY_NODE}s=d.equals(p)?e:Ke(e,t.filter.updateChild(c.getNode(),h,p,f,l,a),c.isFullyInitialized(),t.filter.filtersNodes())}}return s}function Tn(t,e){return t.eventCache.isCompleteForChild(e)}function En(t,e,n){return n.foreach(function(t,n){e=e.updateChild(t,n)}),e}function Cn(t,e,n,r,i,o,a,s){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var u,c=e;u=wt(n)?r:new Je(null).setTree(n,r);var l=e.serverCache.getNode();return u.children.inorderTraversal(function(n,r){if(l.hasChild(n)){var u=En(0,e.serverCache.getNode().getImmediateChild(n),r);c=Sn(t,c,new ht(n),u,i,o,a,s)}}),u.children.inorderTraversal(function(n,r){var u=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=En(0,e.serverCache.getNode().getImmediateChild(n),r);c=Sn(t,c,new ht(n),h,i,o,a,s)}}),c}var xn,An=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new ge(r.getIndex()),o=(n=r).loadsAllData()?new ge(n.getIndex()):n.hasLimit()?new we(n):new me(n);this.processor_=function(t){return{filter:t}}(o);var a=e.serverCache,s=e.eventCache,u=i.updateFullNode(re.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(re.EMPTY_NODE,s.getNode(),null),l=new Be(u,a.isFullyInitialized(),i.filtersNodes()),h=new Be(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=ze(h,l),this.eventGenerator_=new He(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function Nn(t,e){var n=Ye(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!wt(e)&&!n.getImmediateChild(dt(e)).isEmpty())?n.getChild(e):null}function Dn(t){return 0===t.eventRegistrations_.length}function Rn(t,e,n){var r=[];if(n){Object(i.d)(null==e,"A cancel should cancel all event registrations.");var o=t.query._path;t.eventRegistrations_.forEach(function(t){var e=t.createCancelEvent(n,o);e&&r.push(e)})}if(e){for(var a=[],s=0;s<t.eventRegistrations_.length;++s){var u=t.eventRegistrations_[s];if(u.matches(e)){if(e.hasAnyCallback()){a=a.concat(t.eventRegistrations_.slice(s+1));break}}else a.push(u)}t.eventRegistrations_=a}else t.eventRegistrations_=[];return r}function Pn(t,e,n,r){e.type===Pe.MERGE&&null!==e.source.queryId&&(Object(i.d)(Ye(t.viewCache_),"We should always have a full cache before handling merges"),Object(i.d)(Qe(t.viewCache_),"Missing event cache, even though we have a server cache"));var o,a,s=t.viewCache_,u=function(t,e,n,r,o){var a,s,u=new _n;if(n.type===Pe.OVERWRITE){var c=n;c.source.fromUser?a=In(t,e,c.path,c.snap,r,o,u):(Object(i.d)(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.serverCache.isFiltered()&&!wt(c.path),a=Sn(t,e,c.path,c.snap,r,o,s,u))}else if(n.type===Pe.MERGE){var l=n;l.source.fromUser?a=function(t,e,n,r,i,o,a){var s=e;return r.foreach(function(r,u){var c=mt(n,r);Tn(e,dt(c))&&(s=In(t,s,c,u,i,o,a))}),r.foreach(function(r,u){var c=mt(n,r);Tn(e,dt(c))||(s=In(t,s,c,u,i,o,a))}),s}(t,e,l.path,l.children,r,o,u):(Object(i.d)(l.source.fromServer,"Unknown source."),s=l.source.tagged||e.serverCache.isFiltered(),a=Cn(t,e,l.path,l.children,r,o,s,u))}else if(n.type===Pe.ACK_USER_WRITE){var h=n;a=h.revert?function(t,e,n,r,o,a){var s;if(null!=yn(r,n))return e;var u=new kn(r,e,o),c=e.eventCache.getNode(),l=void 0;if(wt(n)||".priority"===dt(n)){var h=void 0;if(e.serverCache.isFullyInitialized())h=pn(r,Ye(e));else{var f=e.serverCache.getNode();Object(i.d)(f instanceof re,"serverChildren would be complete if leaf node"),h=vn(r,f)}l=t.filter.updateFullNode(c,h=h,a)}else{var d=dt(n),p=gn(r,d,e.serverCache);null==p&&e.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?t.filter.updateChild(c,d,p,vt(n),u,a):e.eventCache.getNode().hasChild(d)?t.filter.updateChild(c,d,re.EMPTY_NODE,vt(n),u,a):c).isEmpty()&&e.serverCache.isFullyInitialized()&&(s=pn(r,Ye(e))).isLeafNode()&&(l=t.filter.updateFullNode(l,s,a))}return s=e.serverCache.isFullyInitialized()||null!=yn(r,ft()),Ke(e,l,s,t.filter.filtersNodes())}(t,e,h.path,r,o,u):function(t,e,n,r,i,o,a){if(null!=yn(i,n))return e;var s=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(wt(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Sn(t,e,n,u.getNode().getChild(n),i,o,s,a);if(wt(n)){var c=new Je(null);return u.getNode().forEachChild(Lt,function(t,e){c=c.set(new ht(t),e)}),Cn(t,e,n,c,i,o,s,a)}return e}var l=new Je(null);return r.foreach(function(t,e){var r=mt(n,t);u.isCompleteForPath(r)&&(l=l.set(t,u.getNode().getChild(r)))}),Cn(t,e,n,l,i,o,s,a)}(t,e,h.path,h.affectedTree,r,o,u)}else{if(n.type!==Pe.LISTEN_COMPLETE)throw Object(i.e)("Unknown operation type: "+n.type);a=function(t,e,n,r,i){var o=e.serverCache;return jn(t,Ge(e,o.getNode(),o.isFullyInitialized()||wt(n),o.isFiltered()),n,r,On,i)}(t,e,n.path,r,u)}var f=u.getChanges();return function(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Qe(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(pe(Qe(e)))}}(e,a,f),{viewCache:a,changes:f}}(t.processor_,s,e,n,r);return o=t.processor_,a=u.viewCache,Object(i.d)(a.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),Object(i.d)(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),Object(i.d)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,Ln(t,u.changes,u.viewCache.eventCache.getNode(),null)}function Ln(t,e,n,r){return function(t,e,n,r){var i=[],o=[];return e.forEach(function(e){"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push({type:"child_moved",snapshotNode:e.snapshotNode,childName:e.childName})}),We(t,i,"child_removed",e,r,n),We(t,i,"child_added",e,r,n),We(t,i,"child_moved",o,r,n),We(t,i,"child_changed",e,r,n),We(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}var Mn,Fn=function(){this.views=new Map};function Vn(t,e,n,r){var a,s,u=e.source.queryId;if(null!==u){var c=t.views.get(u);return Object(i.d)(null!=c,"SyncTree gave us an op for an invalid query."),Pn(c,e,n,r)}var l=[];try{for(var h=Object(o.g)(t.views.values()),f=h.next();!f.done;f=h.next())l=l.concat(Pn(c=f.value,e,n,r))}catch(d){a={error:d}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}return l}function Un(t,e,n,r,i){var o=t.views.get(e._queryIdentifier);if(!o){var a=pn(n,i?r:null),s=!1;a?s=!0:r instanceof re?(a=vn(n,r),s=!1):(a=re.EMPTY_NODE,s=!1);var u=ze(new Be(a,s,!1),new Be(r,i,!1));return new An(e,u)}return o}function qn(t){var e,n,r=[];try{for(var i=Object(o.g)(t.views.values()),a=i.next();!a.done;a=i.next()){var s=a.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Bn(t,e){var n,r,i=null;try{for(var a=Object(o.g)(t.views.values()),s=a.next();!s.done;s=a.next())i=i||Nn(s.value,e)}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i}function Hn(t,e){return e._queryParams.loadsAllData()?Kn(t):t.views.get(e._queryIdentifier)}function Wn(t,e){return null!=Hn(t,e)}function zn(t){return null!=Kn(t)}function Kn(t){var e,n;try{for(var r=Object(o.g)(t.views.values()),i=r.next();!i.done;i=r.next()){var a=i.value;if(a.query._queryParams.loadsAllData())return a}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var Gn=1,Qn=function(t){this.listenProvider_=t,this.syncPointTree_=new Je(null),this.pendingWriteTree_={visibleWrites:Ze.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Yn(t,e,n,r,o){return function(t,e,n,r,o){Object(i.d)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:o}),o&&(t.visibleWrites=Xe(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,o),o?er(t,new Ue({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Jn(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function(t,e){var n=t.allWrites.findIndex(function(t){return t.writeId===e});Object(i.d)(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var o=r.visible,a=!1,s=t.allWrites.length-1;o&&s>=0;){var u=t.allWrites[s];u.visible&&(s>=n&&ln(u,r.path)?o=!1:jt(r.path,u.path)&&(a=!0)),s--}return!!o&&(a?(function(t){t.visibleWrites=fn(t.allWrites,hn,ft()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=tn(t.visibleWrites,r.path):P(r.children,function(e){t.visibleWrites=tn(t.visibleWrites,mt(r.path,e))}),!0))}(t.pendingWriteTree_,e)){var o=new Je(null);return null!=r.snap?o=o.set(ft(),!0):P(r.children,function(t){o=o.set(new ht(t),!0)}),er(t,new Fe(r.path,o,n))}return[]}function Zn(t,e,n){return er(t,new Ue({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Xn(t,e,n,r){var a=e._path,s=t.syncPointTree_.get(a),u=[];if(s&&("default"===e._queryIdentifier||Wn(s,e))){var c=function(t,e,n,r){var a,s,u=e._queryIdentifier,c=[],l=[],h=zn(t);if("default"===u)try{for(var f=Object(o.g)(t.views.entries()),d=f.next();!d.done;d=f.next()){var p,v=Object(o.e)(d.value,2),b=v[0];l=l.concat(Rn(p=v[1],n,r)),Dn(p)&&(t.views.delete(b),p.query._queryParams.loadsAllData()||c.push(p.query))}}catch(y){a={error:y}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(a)throw a.error}}else(p=t.views.get(u))&&(l=l.concat(Rn(p,n,r)),Dn(p)&&(t.views.delete(u),p.query._queryParams.loadsAllData()||c.push(p.query)));return h&&!zn(t)&&c.push(new(Object(i.d)(xn,"Reference.ts has not been loaded"),xn)(e._repo,e._path)),{removed:c,events:l}}(s,e,n,r);0===s.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(a));var l=c.removed;u=c.events;var h=-1!==l.findIndex(function(t){return t._queryParams.loadsAllData()}),f=t.syncPointTree_.findOnPath(a,function(t,e){return zn(e)});if(h&&!f){var d=t.syncPointTree_.subtree(a);if(!d.isEmpty())for(var p=function(t){return t.fold(function(t,e,n){if(e&&zn(e))return[Kn(e)];var r=[];return e&&(r=qn(e)),P(n,function(t,e){r=r.concat(e)}),r})}(d),v=0;v<p.length;++v){var b=p[v],y=b.query,g=ir(t,b);t.listenProvider_.startListening(lr(y),or(t,y),g.hashFn,g.onComplete)}}!f&&l.length>0&&!r&&(h?t.listenProvider_.stopListening(lr(e),null):l.forEach(function(e){var n=t.queryToTagMap.get(ar(e));t.listenProvider_.stopListening(lr(e),n)})),function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=ar(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,l)}return u}function $n(t,e,n){var r=e._path,o=null,a=!1;t.syncPointTree_.foreachOnPath(r,function(t,e){var n=_t(t,r);o=o||Bn(e,n),a=a||zn(e)});var s,u=t.syncPointTree_.get(r);u?(a=a||zn(u),o=o||Bn(u,ft())):(u=new Fn,t.syncPointTree_=t.syncPointTree_.set(r,u)),null!=o?s=!0:(s=!1,o=re.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=Bn(e,ft());n&&(o=o.updateImmediateChild(t,n))}));var c=Wn(u,e);if(!c&&!e._queryParams.loadsAllData()){var l=ar(e);Object(i.d)(!t.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=Gn++;t.queryToTagMap.set(l,h),t.tagToQueryMap.set(h,l)}var f=function(t,e,n,r,i,o){var a=Un(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),function(t,e){t.eventRegistrations_.push(e)}(a,n),function(t,e){var n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Zt,function(t,e){r.push(ve(t,e))}),n.isFullyInitialized()&&r.push(pe(n.getNode())),Ln(t,r,n.getNode(),e)}(a,n)}(u,e,n,cn(t.pendingWriteTree_,r),o,s);if(!c&&!a){var d=Hn(u,e);f=f.concat(function(t,e,n){var r=e._path,o=or(t,e),a=ir(t,n),s=t.listenProvider_.startListening(lr(e),o,a.hashFn,a.onComplete),u=t.syncPointTree_.subtree(r);if(o)Object(i.d)(!zn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(t,e,n){if(!wt(t)&&e&&zn(e))return[Kn(e).query];var r=[];return e&&(r=r.concat(qn(e).map(function(t){return t.query}))),P(n,function(t,e){r=r.concat(e)}),r}),l=0;l<c.length;++l){var h=c[l];t.listenProvider_.stopListening(lr(h),or(t,h))}return s}(t,e,d))}return f}function tr(t,e,n){var r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,function(t,n){var r=Bn(n,_t(t,e));if(r)return r});return dn(r,e,i,n,!0)}function er(t,e){return nr(e,t.syncPointTree_,null,cn(t.pendingWriteTree_,ft()))}function nr(t,e,n,r){if(wt(t.path))return rr(t,e,n,r);var i=e.get(ft());null==n&&null!=i&&(n=Bn(i,ft()));var o=[],a=dt(t.path),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=mn(r,a);o=o.concat(nr(s,u,c,l))}return i&&(o=o.concat(Vn(i,t,r,n))),o}function rr(t,e,n,r){var i=e.get(ft());null==n&&null!=i&&(n=Bn(i,ft()));var o=[];return e.children.inorderTraversal(function(e,i){var a=n?n.getImmediateChild(e):null,s=mn(r,e),u=t.operationForChild(e);u&&(o=o.concat(rr(u,i,a,s)))}),i&&(o=o.concat(Vn(i,t,r,n))),o}function ir(t,e){var n=e.query,r=or(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||re.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=sr(t,n);if(r){var i=ur(r),o=i.path,a=i.queryId,s=_t(o,e);return cr(t,o,new Ve(Le(a),s))}return[]}(t,n._path,r):function(t,e){return er(t,new Ve({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(e,n);return Xn(t,n,null,i)}}}function or(t,e){var n=ar(e);return t.queryToTagMap.get(n)}function ar(t){return t._path.toString()+"$"+t._queryIdentifier}function sr(t,e){return t.tagToQueryMap.get(e)}function ur(t){var e=t.indexOf("$");return Object(i.d)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ht(t.substr(0,e))}}function cr(t,e,n){var r=t.syncPointTree_.get(e);return Object(i.d)(r,"Missing sync point for query tag that we're tracking"),Vn(r,n,cn(t.pendingWriteTree_,e),null)}function lr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Object(i.d)(Mn,"Reference.ts has not been loaded"),Mn)(t._repo,t._path):t}var hr=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),fr=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=mt(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return tr(this.syncTree_,this.path_)},t}(),dr=function(t,e,n){return t&&"object"==typeof t?(Object(i.d)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?pr(t[".sv"],e,n):"object"==typeof t[".sv"]?vr(t[".sv"],e):void Object(i.d)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},pr=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(i.d)(!1,"Unexpected server value: "+t)}},vr=function(t,e,n){t.hasOwnProperty("increment")||Object(i.d)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&Object(i.d)(!1,"Unexpected increment value: "+r);var o=e.node();if(Object(i.d)(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;var a=o.getValue();return"number"!=typeof a?r:a+r},br=function(t,e,n,r){return gr(e,new fr(n,t),r)},yr=function(t,e,n){return gr(t,new hr(e),n)};function gr(t,e,n){var r,i=t.getPriority().val(),o=dr(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var a=t,s=dr(a.getValue(),e,n);return s!==a.getValue()||o!==a.getPriority().val()?new Jt(s,oe(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Jt(o))),u.forEachChild(Zt,function(t,i){var o=gr(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))}),r}var mr=function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n};function wr(t,e){for(var n=e instanceof ht?e:new ht(e),r=t,o=dt(n);null!==o;){var a=Object(i.F)(r.node.children,o)||{children:{},childCount:0};r=new mr(o,r,a),o=dt(n=vt(n))}return r}function _r(t){return t.node.value}function Or(t,e){t.node.value=e,Tr(t)}function kr(t){return t.node.childCount>0}function jr(t,e){P(t.node.children,function(n,r){e(new mr(n,t,r))})}function Sr(t,e,n,r){n&&!r&&e(t),jr(t,function(t){Sr(t,e,!0,r)}),n&&r&&e(t)}function Ir(t){return new ht(null===t.parent?t.name:Ir(t.parent)+"/"+t.name)}function Tr(t){null!==t.parent&&function(t,e,n){var r=function(t){return void 0===_r(t)&&!kr(t)}(n),o=Object(i.h)(t.node.children,e);r&&o?(delete t.node.children[e],t.node.childCount--,Tr(t)):r||o||(t.node.children[e]=n.node,t.node.childCount++,Tr(t))}(t.parent,t.name,t)}var Er=/[\[\].#$\/\u0000-\u001F\u007F]/,Cr=/[\[\].#$\u0000-\u001F\u007F]/,xr=10485760,Ar=function(t){return"string"==typeof t&&0!==t.length&&!Er.test(t)},Nr=function(t){return"string"==typeof t&&0!==t.length&&!Cr.test(t)},Dr=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!T(t)||t&&"object"==typeof t&&Object(i.h)(t,".sv")},Rr=function(t,e,n,r){r&&void 0===e||Pr(Object(i.m)(t,"value"),e,n)},Pr=function t(e,n,r){var o=r instanceof ht?new St(r,e):r;if(void 0===n)throw new Error(e+"contains undefined "+Tt(o));if("function"==typeof n)throw new Error(e+"contains a function "+Tt(o)+" with contents = "+n.toString());if(T(n))throw new Error(e+"contains "+n.toString()+" "+Tt(o));if("string"==typeof n&&n.length>xr/3&&Object(i.G)(n)>xr)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+Tt(o)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var a=!1,s=!1;if(P(n,function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!Ar(n)))throw new Error(e+" contains an invalid key ("+n+") "+Tt(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var u,c;!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Object(i.G)(e),It(t)}(o,n),t(e,r,o),c=(u=o).parts_.pop(),u.byteLength_-=Object(i.G)(c),u.parts_.length>0&&(u.byteLength_-=1)}),a&&s)throw new Error(e+' contains ".value" child '+Tt(o)+" in addition to actual children.")}},Lr=function(t,e,n,r){if(!r||void 0!==e){var o=Object(i.m)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");var a=[];P(e,function(t,e){var r=new ht(t);if(Pr(o,e,mt(n,r)),".priority"===bt(r)&&!Dr(e))throw new Error(o+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)}),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=yt(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Ar(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Ot);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&jt(a,r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(o,a)}},Mr=function(t,e,n){if(!n||void 0!==e){if(T(e))throw new Error(Object(i.m)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Dr(e))throw new Error(Object(i.m)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Fr=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(i.m)(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Vr=function(t,e,n,r){if(!(r&&void 0===n||Ar(n)))throw new Error(Object(i.m)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ur=function(t,e,n,r){if(!(r&&void 0===n||Nr(n)))throw new Error(Object(i.m)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},qr=function(t,e){if(".info"===dt(e))throw new Error(t+" failed = Can't modify data under /.info/")},Br=function(t,e){var n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Ar(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Nr(t)}(n))throw new Error(Object(i.m)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Hr=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(i.m)(t,e)+"must be a boolean.")},Wr=function(){this.eventLists_=[],this.recursionDepth_=0};function zr(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||kt(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Kr(t,e,n){zr(t,n),Qr(t,function(t){return kt(t,e)})}function Gr(t,e,n){zr(t,n),Qr(t,function(t){return jt(t,e)||jt(e,t)})}function Qr(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];i&&(e(i.path)?(Yr(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function Yr(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();m&&O("event: "+n.toString()),V(r)}}}var Jr="repo_interrupt",Zr=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Wr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ce(),this.transactionQueueTree_=new mr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Xr(t){var e=t.infoData_.getNode(new ht(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function $r(t){return(e=(e={timestamp:Xr(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function ti(t,e,n,r,o){t.dataUpdateCount++;var a=new ht(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var s=[];if(o)if(r){var u=Object(i.D)(n,function(t){return oe(t)});s=function(t,e,n,r){var i=sr(t,r);if(i){var o=ur(i),a=o.path,s=o.queryId,u=_t(a,e),c=Je.fromObject(n);return cr(t,a,new qe(Le(s),u,c))}return[]}(t.serverSyncTree_,a,u,o)}else{var c=oe(n);s=function(t,e,n,r){var i=sr(t,r);if(null!=i){var o=ur(i),a=o.path,s=o.queryId,u=_t(a,e);return cr(t,a,new Ue(Le(s),u,n))}return[]}(t.serverSyncTree_,a,c,o)}else if(r){var l=Object(i.D)(n,function(t){return oe(t)});s=function(t,e,n){var r=Je.fromObject(n);return er(t,new qe({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,a,l)}else{var h=oe(n);s=Zn(t.serverSyncTree_,a,h)}var f=a;s.length>0&&(f=di(t,a)),Gr(t.eventQueue_,f,s)}function ei(t,e){ni(t,"connected",e),!1===e&&function(t){ci(t,"onDisconnectEvents");var e=$r(t),n=Ce();Ne(t.onDisconnect_,ft(),function(r,i){var o=br(r,i,t.serverSyncTree_,e);xe(n,r,o)});var r=[];Ne(n,ft(),function(e,n){r=r.concat(Zn(t.serverSyncTree_,e,n));var i=gi(t,e);di(t,i)}),t.onDisconnect_=Ce(),Gr(t.eventQueue_,ft(),r)}(t)}function ni(t,e,n){var r=new ht("/.info/"+e),i=oe(n);t.infoData_.updateSnapshot(r,i);var o=Zn(t.infoSyncTree_,r,i);Gr(t.eventQueue_,r,o)}function ri(t){return t.nextWriteId_++}function ii(t,e,n,r,i){ci(t,"set",{path:e.toString(),value:n,priority:r});var o=$r(t),a=oe(n,r),s=tr(t.serverSyncTree_,e),u=yr(a,s,o),c=ri(t),l=Yn(t.serverSyncTree_,e,u,c,!0);zr(t.eventQueue_,l),t.server_.put(e.toString(),a.val(!0),function(n,r){var o="ok"===n;o||I("set at "+e+" failed: "+n);var a=Jn(t.serverSyncTree_,c,!o);Gr(t.eventQueue_,e,a),li(0,i,n,r)});var h=gi(t,e);di(t,h),Gr(t.eventQueue_,h,[])}function oi(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(r,i){"ok"===r&&Ae(t.onDisconnect_,e),li(0,n,r,i)})}function ai(t,e,n,r){var i=oe(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),function(n,o){"ok"===n&&xe(t.onDisconnect_,e,i),li(0,r,n,o)})}function si(t,e,n){var r;r=".info"===dt(e._path)?Xn(t.infoSyncTree_,e,n):Xn(t.serverSyncTree_,e,n),Kr(t.eventQueue_,e._path,r)}function ui(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Jr)}function ci(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),O.apply(void 0,Object(o.f)([r],Object(o.e)(e)))}function li(t,e,n,r){e&&V(function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}})}function hi(t,e,n){return tr(t.serverSyncTree_,e,n)||re.EMPTY_NODE}function fi(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||yi(t,e),_r(e)){var n=vi(t,e);Object(i.d)(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return 0===t.status})&&function(t,e,n){for(var r=n.map(function(t){return t.currentWriteId}),o=hi(t,e,r),a=o,s=o.hash(),u=0;u<n.length;u++){var c=n[u];Object(i.d)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=_t(e,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=e;t.server_.put(f.toString(),h,function(r){ci(t,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(e){n[e].status=2,i=i.concat(Jn(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push(function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)}),n[e].unwatcher()},s=0;s<n.length;s++)a(s);for(yi(t,wr(t.transactionQueueTree_,e)),fi(t,t.transactionQueueTree_),Gr(t.eventQueue_,e,i),s=0;s<o.length;s++)V(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)n[s].status=3===n[s].status?4:0;else for(I("transaction at "+f.toString()+" failed: "+r),s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r;di(t,e)}},s)}(t,Ir(e),n)}else kr(e)&&jr(e,function(e){fi(t,e)})}function di(t,e){var n=pi(t,e),r=Ir(n);return function(t,e,n){if(0!==e.length){for(var r=[],o=[],a=e.filter(function(t){return 0===t.status}).map(function(t){return t.currentWriteId}),s=function(s){var u,c=e[s],l=_t(n,c.path),h=!1;if(Object(i.d)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,u=c.abortReason,o=o.concat(Jn(t.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)h=!0,u="maxretry",o=o.concat(Jn(t.serverSyncTree_,c.currentWriteId,!0));else{var f=hi(t,c.path,a);c.currentInputSnapshot=f;var d=e[s].update(f.val());if(void 0!==d){Pr("transaction failed: Data returned ",d,c.path);var p=oe(d);"object"==typeof d&&null!=d&&Object(i.h)(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=c.currentWriteId,b=$r(t),y=yr(p,f,b);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=y,c.currentWriteId=ri(t),a.splice(a.indexOf(v),1),o=(o=o.concat(Yn(t.serverSyncTree_,c.path,y,c.currentWriteId,c.applyLocally))).concat(Jn(t.serverSyncTree_,v,!0))}else h=!0,u="nodata",o=o.concat(Jn(t.serverSyncTree_,c.currentWriteId,!0))}Gr(t.eventQueue_,n,o),o=[],h&&(e[s].status=2,setTimeout(e[s].unwatcher,Math.floor(0)),e[s].onComplete&&r.push("nodata"===u?function(){return e[s].onComplete(null,!1,e[s].currentInputSnapshot)}:function(){return e[s].onComplete(new Error(u),!1,null)}))},u=0;u<e.length;u++)s(u);for(yi(t,t.transactionQueueTree_),u=0;u<r.length;u++)V(r[u]);fi(t,t.transactionQueueTree_)}}(t,vi(t,n),r),r}function pi(t,e){var n,r=t.transactionQueueTree_;for(n=dt(e);null!==n&&void 0===_r(r);)r=wr(r,n),n=dt(e=vt(e));return r}function vi(t,e){var n=[];return bi(t,e,n),n.sort(function(t,e){return t.order-e.order}),n}function bi(t,e,n){var r=_r(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);jr(e,function(e){bi(t,e,n)})}function yi(t,e){var n=_r(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Or(e,n.length>0?n:void 0)}jr(e,function(e){yi(t,e)})}function gi(t,e){var n=Ir(pi(t,e)),r=wr(t.transactionQueueTree_,e);return function(t,e,n){for(var r=t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(r,function(e){mi(t,e)}),mi(t,r),Sr(r,function(e){mi(t,e)}),n}function mi(t,e){var n=_r(e);if(n){for(var r=[],o=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(Object(i.d)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):(Object(i.d)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),o=o.concat(Jn(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===a?Or(e,void 0):n.length=a+1,Gr(t.eventQueue_,Ir(e),o),s=0;s<r.length;s++)V(r[s])}}var wi=function(t,e){var n=_i(t),r=n.namespace;return"firebase.com"===n.domain&&S(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||S("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&I("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new G(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new ht(n.pathString)}},_i=function(t){var e="",n="",r="",i="",a="",s=!0,u="https",c=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(u=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,f)));var d=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=Object(o.g)(t.split("&")),a=i.next();!a.done;a=i.next()){var s=a.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):I("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,f)));(l=e.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(e.substring(l+1),10)):l=e.length;var p=e.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),a=r}"ns"in d&&(a=d.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:a}},Oi=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(i.I)(this.snapshot.exportVal())},t}(),ki=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),ji=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return Object(i.d)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),Si=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t=new i.a;return oi(this._repo,this._path,t.wrapCallback(function(){})),t.promise},t.prototype.remove=function(){qr("OnDisconnect.remove",this._path);var t=new i.a;return ai(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},t.prototype.set=function(t){qr("OnDisconnect.set",this._path),Rr("OnDisconnect.set",t,this._path,!1);var e=new i.a;return ai(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t.prototype.setWithPriority=function(t,e){qr("OnDisconnect.setWithPriority",this._path),Rr("OnDisconnect.setWithPriority",t,this._path,!1),Mr("OnDisconnect.setWithPriority",e,!1);var n=new i.a;return function(t,e,n,r,i){var o=oe(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),function(n,r){"ok"===n&&xe(t.onDisconnect_,e,o),li(0,i,n,r)})}(this._repo,this._path,t,e,n.wrapCallback(function(){})),n.promise},t.prototype.update=function(t){qr("OnDisconnect.update",this._path),Lr("OnDisconnect.update",t,this._path,!1);var e=new i.a;return function(t,e,n,r){if(Object(i.t)(n))return O("onDisconnect().update() called with empty data.  Don't do anything."),void li(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,function(i,o){"ok"===i&&P(n,function(n,r){var i=oe(r);xe(t.onDisconnect_,mt(e,n),i)}),li(0,r,i,o)})}(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t}(),Ii=function(){function t(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(t.prototype,"key",{get:function(){return wt(this._path)?null:bt(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new xi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=Ie(this._queryParams),e=D(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return Ie(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!((e=Object(i.n)(e))instanceof t))return!1;var n=this._repo===e._repo,r=kt(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+function(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)},t}();function Ti(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Ei(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Lt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==E)throw new Error(r);if("string"!=typeof e)throw new Error(o)}if(t.hasEnd()){if(t.getIndexEndName()!==C)throw new Error(r);if("string"!=typeof n)throw new Error(o)}}else if(t.getIndex()===Zt){if(null!=e&&!Dr(e)||null!=n&&!Dr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(i.d)(t.getIndex()instanceof ue||t.getIndex()===ce,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ci(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var xi=function(t){function e(e,n){return t.call(this,e,n,new _e,!1)||this}return Object(o.c)(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=gt(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(Ii),Ai=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new ht(e),r=Ri(this.ref,e);return new t(this._node.getChild(n),r,Zt)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(r,i){return e(new t(i,Ri(n.ref,r),Zt))})},t.prototype.hasChild=function(t){var e=new ht(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function Ni(t,e){return(t=Object(i.n)(t))._checkNotDeleted("ref"),void 0!==e?Ri(t._root,e):t._root}function Di(t,e){(t=Object(i.n)(t))._checkNotDeleted("refFromURL");var n=wi(e,t._repo.repoInfo_.nodeAdmin);Br("refFromURL",n);var r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||S("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),Ni(t,n.path.toString())}function Ri(t,e){var n;return null===dt((t=Object(i.n)(t))._path)?((n=e)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ur("child","path",n,!1)):Ur("child","path",e,!1),new xi(t._repo,mt(t._path,e))}function Pi(t,e){t=Object(i.n)(t),qr("push",t._path),Rr("push",e,t._path,!0);var n,r=Xr(t._repo),o=he(r),a=Ri(t,o),s=Ri(t,o);return n=null!=e?Mi(s,e).then(function(){return s}):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function Li(t){return qr("remove",t._path),Mi(t,null)}function Mi(t,e){t=Object(i.n)(t),qr("set",t._path),Rr("set",e,t._path,!1);var n=new i.a;return ii(t._repo,t._path,e,null,n.wrapCallback(function(){})),n.promise}function Fi(t,e){t=Object(i.n)(t),qr("setPriority",t._path),Mr("setPriority",e,!1);var n=new i.a;return ii(t._repo,mt(t._path,".priority"),e,null,n.wrapCallback(function(){})),n.promise}function Vi(t,e,n){if(qr("setWithPriority",t._path),Rr("setWithPriority",e,t._path,!1),Mr("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new i.a;return ii(t._repo,t._path,e,n,r.wrapCallback(function(){})),r.promise}function Ui(t,e){Lr("update",e,t._path,!1);var n=new i.a;return function(t,e,n,r){ci(t,"update",{path:e.toString(),value:n});var o=!0,a=$r(t),s={};if(P(n,function(n,r){o=!1,s[n]=br(mt(e,n),oe(r),t.serverSyncTree_,a)}),o)O("update() called with empty data.  Don't do anything."),li(0,r,"ok",void 0);else{var u=ri(t),c=function(t,e,n,r){!function(t,e,n,r){Object(i.d)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=$e(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);var o=Je.fromObject(n);return er(t,new qe({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,o))}(t.serverSyncTree_,e,s,u);zr(t.eventQueue_,c),t.server_.merge(e.toString(),n,function(n,i){var o="ok"===n;o||I("update at "+e+" failed: "+n);var a=Jn(t.serverSyncTree_,u,!o),s=a.length>0?di(t,e):e;Gr(t.eventQueue_,s,a),li(0,r,n,i)}),P(n,function(n){var r=gi(t,mt(e,n));di(t,r)}),Gr(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(function(){})),n.promise}var qi=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new Oi("value",this,new Ai(t.snapshotNode,new xi(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new ki(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),Bi=function(){function t(t,e){this.eventType=t,this.callbackContext=e}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return this.eventType===("children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new ki(this,t,e):null},t.prototype.createEvent=function(t,e){Object(i.d)(null!=t.childName,"Child events should have a childName.");var n=Ri(new xi(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new Oi(t.type,this,new Ai(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){return e instanceof t&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function Hi(t,e,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(e,n){si(t._repo,t,c),a(e,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new ji(n,o||void 0),c="value"===e?new qi(u):new Bi(e,u);return function(t,e,n){var r;r=".info"===dt(e._path)?$n(t.infoSyncTree_,e,n):$n(t.serverSyncTree_,e,n),Kr(t.eventQueue_,e._path,r)}(t._repo,t,c),function(){return si(t._repo,t,c)}}function Wi(t,e,n,r){return Hi(t,"value",e,n,r)}function zi(t,e,n,r){return Hi(t,"child_added",e,n,r)}function Ki(t,e,n,r){return Hi(t,"child_changed",e,n,r)}function Gi(t,e,n,r){return Hi(t,"child_moved",e,n,r)}function Qi(t,e,n,r){return Hi(t,"child_removed",e,n,r)}function Yi(t,e,n){var r=null,i=n?new ji(n):null;"value"===e?r=new qi(i):e&&(r=new Bi(e,i)),si(t._repo,t,r)}var Ji=function(){},Zi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.c)(e,t),e.prototype._apply=function(t){Rr("endAt",this._value,t._path,!0);var e=ke(t._queryParams,this._value,this._key);if(Ci(e),Ei(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ii(t._repo,t._path,e,t._orderByCalled)},e}(Ji);function Xi(t,e){return Vr("endAt","key",e,!0),new Zi(t,e)}var $i=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.c)(e,t),e.prototype._apply=function(t){Rr("endBefore",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===Lt?("string"==typeof n&&(n=de(n)),i=ke(e,n,r)):i=ke(e,n,null==r?E:de(r)),i.endBeforeSet_=!0,i);if(Ci(o),Ei(o),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ii(t._repo,t._path,o,t._orderByCalled)},e}(Ji);function to(t,e){return Vr("endBefore","key",e,!0),new $i(t,e)}var eo=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.c)(e,t),e.prototype._apply=function(t){Rr("startAt",this._value,t._path,!0);var e=Oe(t._queryParams,this._value,this._key);if(Ci(e),Ei(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ii(t._repo,t._path,e,t._orderByCalled)},e}(Ji);function no(t,e){return void 0===t&&(t=null),Vr("startAt","key",e,!0),new eo(t,e)}var ro=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.c)(e,t),e.prototype._apply=function(t){Rr("startAfter",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===Lt?("string"==typeof n&&(n=fe(n)),i=Oe(e,n,r)):i=Oe(e,n,null==r?C:fe(r)),i.startAfterSet_=!0,i);if(Ci(o),Ei(o),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ii(t._repo,t._path,o,t._orderByCalled)},e}(Ji);function io(t,e){return Vr("startAfter","key",e,!0),new ro(t,e)}var oo=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(o.c)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ii(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="l",n),t._orderByCalled);var e,n},e}(Ji);function ao(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new oo(t)}var so=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(o.c)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ii(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="r",n),t._orderByCalled);var e,n},e}(Ji);function uo(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new so(t)}var co=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return Object(o.c)(e,t),e.prototype._apply=function(t){Ti(t,"orderByChild");var e=new ht(this._path);if(wt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ue(e),r=je(t._queryParams,n);return Ei(r),new Ii(t._repo,t._path,r,!0)},e}(Ji);function lo(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ur("orderByChild","path",t,!1),new co(t)}var ho=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype._apply=function(t){Ti(t,"orderByKey");var e=je(t._queryParams,Lt);return Ei(e),new Ii(t._repo,t._path,e,!0)},e}(Ji);function fo(){return new ho}var po=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype._apply=function(t){Ti(t,"orderByPriority");var e=je(t._queryParams,Zt);return Ei(e),new Ii(t._repo,t._path,e,!0)},e}(Ji);function vo(){return new po}var bo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype._apply=function(t){Ti(t,"orderByValue");var e=je(t._queryParams,ce);return Ei(e),new Ii(t._repo,t._path,e,!0)},e}(Ji);function yo(){return new bo}var go=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.c)(e,t),e.prototype._apply=function(t){if(Rr("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Zi(this._value,this._key)._apply(new eo(this._value,this._key)._apply(t))},e}(Ji);function mo(t,e){return Vr("equalTo","key",e,!0),new go(t,e)}function wo(t){for(var e,n,r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];var s=Object(i.n)(t);try{for(var u=Object(o.g)(r),c=u.next();!c.done;c=u.next()){var l=c.value;s=l._apply(s)}}catch(h){e={error:h}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return s}!function(t){Object(i.d)(!xn,"__referenceConstructor has already been defined"),xn=t}(xi),function(t){Object(i.d)(!Mn,"__referenceConstructor has already been defined"),Mn=t}(xi);var _o={},Oo=!1;function ko(t,e,n,r,i){var o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||S("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),O("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var a,s=wi(o,i),u=s.repoInfo,c=void 0;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,u=(s=wi(o="http://"+c+"?ns="+u.namespace,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new H(H.OWNER):new B(t.name,t.options,e);Br("Invalid Firebase Database URL",s),wt(s.path)||S("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(t,e,n,r){var i=_o[e.name];i||(_o[e.name]=i={});var o=i[t.toURLString()];return o&&S("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Zr(t,Oo,n,r),i[t.toURLString()]=o,o}(u,t,l,new q(t.name,n));return new jo(h,t)}var jo=function(){function t(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(function(t,e,n){if(t.stats_=X(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Te(t.repoInfo_,function(e,n,r,i){ti(t,e,n,r,i)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(function(){return ei(t,!0)},0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(i.I)(n)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}t.persistentConnection_=new Nt(t.repoInfo_,e,function(e,n,r,i){ti(t,e,n,r,i)},function(e){ei(t,e)},function(e){!function(t,e){P(e,function(e,n){ni(t,e,n)})}(t,e)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}var r,o;t.authTokenProvider_.addTokenChangeListener(function(e){t.server_.refreshAuthToken(e)}),t.appCheckProvider_.addTokenChangeListener(function(e){t.server_.refreshAppCheckToken(e.token)}),t.statsReporter_=(r=function(){return new Re(t.stats_,t.server_)},o=t.repoInfo_.toString(),Z[o]||(Z[o]=r()),Z[o]),t.infoData_=new Ee,t.infoSyncTree_=new Qn({startListening:function(e,n,r,i){var o=[],a=t.infoData_.getNode(e._path);return a.isEmpty()||(o=Zn(t.infoSyncTree_,e._path,a),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),ni(t,"connected",!1),t.serverSyncTree_=new Qn({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,function(n,r){var o=i(n,r);Gr(t.eventQueue_,e._path,o)}),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new xi(this._repo,ft())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){var t,e,n;return null!==this._rootInternal&&(t=this._repo,(n=_o[e=this.app.name])&&n[t.key]===t||S("Database "+e+"("+t.repoInfo_+") has already been deleted."),ui(t),delete n[t.key],this._repoInternal=null,this._rootInternal=null),Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&S("Cannot call "+t+" on a deleted database.")},t}();function So(t){(t=Object(i.n)(t))._checkNotDeleted("goOffline"),ui(t._repo)}function Io(t){var e;(t=Object(i.n)(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume(Jr)}var To={".sv":"timestamp"},Eo=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function Co(t,e,n){var r;if(t=Object(i.n)(t),qr("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var o=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,a=new i.a,s=Wi(t,function(){});return function(e,n,r,o,s,u){ci(e,"transaction on "+n);var c={path:n,update:r,onComplete:function(e,n,r){var i=null;e?a.reject(e):(i=new Ai(r,new xi(t._repo,t._path),Zt),a.resolve(new Eo(n,i)))},status:null,order:b(),applyLocally:u,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=hi(e,n,void 0);c.currentInputSnapshot=l;var h=c.update(l.val());if(void 0===h)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{Pr("transaction failed: Data returned ",h,c.path),c.status=0;var f=wr(e.transactionQueueTree_,n),d=_r(f)||[];d.push(c),Or(f,d);var p=void 0;"object"==typeof h&&null!==h&&Object(i.h)(h,".priority")?(p=Object(i.F)(h,".priority"),Object(i.d)(Dr(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(tr(e.serverSyncTree_,n)||re.EMPTY_NODE).getPriority().val();var v=$r(e),y=oe(h,p),g=yr(y,l,v);c.currentOutputSnapshotRaw=y,c.currentOutputSnapshotResolved=g,c.currentWriteId=ri(e);var m=Yn(e.serverSyncTree_,n,g,c.currentWriteId,c.applyLocally);Gr(e.eventQueue_,n,m),fi(e,e.transactionQueueTree_)}}(t._repo,t._path,e,0,s,o),a.promise}var xo=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){Object(i.J)("OnDisconnect.cancel",0,1,arguments.length),Object(i.K)("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.remove=function(t){Object(i.J)("OnDisconnect.remove",0,1,arguments.length),Object(i.K)("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.set=function(t,e){Object(i.J)("OnDisconnect.set",1,2,arguments.length),Object(i.K)("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},t.prototype.setWithPriority=function(t,e,n){Object(i.J)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(i.K)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(t,e);return n&&r.then(function(){return n(null)},function(t){return n(t)}),r},t.prototype.update=function(t,e){if(Object(i.J)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,I("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(i.K)("OnDisconnect.update","onComplete",e,!0);var o=this._delegate.update(t);return e&&o.then(function(){return e(null)},function(t){return e(t)}),o},t}(),Ao=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(i.J)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),No=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return Object(i.J)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return Object(i.J)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return Object(i.J)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return Object(i.J)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return Object(i.J)("DataSnapshot.child",0,1,arguments.length),e=String(e),Ur("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return Object(i.J)("DataSnapshot.hasChild",1,1,arguments.length),Ur("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return Object(i.J)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return Object(i.J)("DataSnapshot.forEach",1,1,arguments.length),Object(i.K)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(r){return e(new t(n._database,r))})},t.prototype.hasChildren=function(){return Object(i.J)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(i.J)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return Object(i.J)("DataSnapshot.ref",0,0,arguments.length),new Ro(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Do=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,r,o){var a,s=this;Object(i.J)("Query.on",2,4,arguments.length),Object(i.K)("Query.on","callback",n,!1);var u=t.getCancelAndContextArgs_("Query.on",r,o),c=function(t,e){n.call(u.context,new No(s.database,t),e)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(e){case"value":return Wi(this._delegate,c,l),n;case"child_added":return zi(this._delegate,c,l),n;case"child_removed":return Qi(this._delegate,c,l),n;case"child_changed":return Ki(this._delegate,c,l),n;case"child_moved":return Gi(this._delegate,c,l),n;default:throw new Error(Object(i.m)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if(Object(i.J)("Query.off",0,3,arguments.length),Fr("Query.off",t,!0),Object(i.K)("Query.off","callback",e,!0),Object(i.L)("Query.off","context",n,!0),e){var r=function(){};r.userCallback=e,r.context=n,Yi(this._delegate,t,r)}else Yi(this._delegate,t)},t.prototype.get=function(){var t=this;return function(t){return function(t,e){var n=function(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,function(t,e){var i=_t(t,n);r=r||Bn(e,i)});var i=t.syncPointTree_.get(n);i?r=r||Bn(i,ft()):(i=new Fn,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,a=o?new Be(r,!0,!1):null;return Qe(Un(i,e,cn(t.pendingWriteTree_,e._path),o?a.getNode():re.EMPTY_NODE,o).viewCache_)}(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then(function(n){var r=oe(n).withIndex(e._queryParams.getIndex()),i=Zn(t.serverSyncTree_,e._path,r);return Kr(t.eventQueue_,e._path,i),Promise.resolve(r)},function(n){return ci(t,"get for query "+Object(i.I)(e)+" failed: "+n),Promise.reject(new Error(n))})}((t=Object(i.n)(t))._repo,t).then(function(e){return new Ai(e,new xi(t._repo,t._path),t._queryParams.getIndex())})}(this._delegate).then(function(e){return new No(t.database,e)})},t.prototype.once=function(e,n,r,o){var a=this;Object(i.J)("Query.once",1,4,arguments.length),Object(i.K)("Query.once","callback",n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,o),u=new i.a,c=function(t,e){var r=new No(a.database,t);n&&n.call(s.context,r,e),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(t){s.cancel&&s.cancel.call(s.context,t),u.reject(t)};switch(e){case"value":Wi(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":zi(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":Qi(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":Ki(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":Gi(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error(Object(i.m)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},t.prototype.limitToFirst=function(e){return Object(i.J)("Query.limitToFirst",1,1,arguments.length),new t(this.database,wo(this._delegate,ao(e)))},t.prototype.limitToLast=function(e){return Object(i.J)("Query.limitToLast",1,1,arguments.length),new t(this.database,wo(this._delegate,uo(e)))},t.prototype.orderByChild=function(e){return Object(i.J)("Query.orderByChild",1,1,arguments.length),new t(this.database,wo(this._delegate,lo(e)))},t.prototype.orderByKey=function(){return Object(i.J)("Query.orderByKey",0,0,arguments.length),new t(this.database,wo(this._delegate,fo()))},t.prototype.orderByPriority=function(){return Object(i.J)("Query.orderByPriority",0,0,arguments.length),new t(this.database,wo(this._delegate,vo()))},t.prototype.orderByValue=function(){return Object(i.J)("Query.orderByValue",0,0,arguments.length),new t(this.database,wo(this._delegate,yo()))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),Object(i.J)("Query.startAt",0,2,arguments.length),new t(this.database,wo(this._delegate,no(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),Object(i.J)("Query.startAfter",0,2,arguments.length),new t(this.database,wo(this._delegate,io(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),Object(i.J)("Query.endAt",0,2,arguments.length),new t(this.database,wo(this._delegate,Xi(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),Object(i.J)("Query.endBefore",0,2,arguments.length),new t(this.database,wo(this._delegate,to(e,n)))},t.prototype.equalTo=function(e,n){return Object(i.J)("Query.equalTo",1,2,arguments.length),new t(this.database,wo(this._delegate,mo(e,n)))},t.prototype.toString=function(){return Object(i.J)("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return Object(i.J)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(Object(i.J)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,Object(i.K)(t,"cancel",r.cancel,!0),r.context=n,Object(i.L)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Object(i.m)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return new Ro(this.database,new xi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),Ro=function(t){function e(e,n){var r=t.call(this,e,new Ii(n._repo,n._path,new _e,!1))||this;return r.database=e,r._delegate=n,r}return Object(o.c)(e,t),e.prototype.getKey=function(){return Object(i.J)("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return Object(i.J)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new e(this.database,Ri(this._delegate,t))},e.prototype.getParent=function(){Object(i.J)("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return Object(i.J)("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){Object(i.J)("Reference.set",1,2,arguments.length),Object(i.K)("Reference.set","onComplete",e,!0);var n=Mi(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.update=function(t,e){if(Object(i.J)("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,I("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}qr("Reference.update",this._delegate._path),Object(i.K)("Reference.update","onComplete",e,!0);var o=Ui(this._delegate,t);return e&&o.then(function(){return e(null)},function(t){return e(t)}),o},e.prototype.setWithPriority=function(t,e,n){Object(i.J)("Reference.setWithPriority",2,3,arguments.length),Object(i.K)("Reference.setWithPriority","onComplete",n,!0);var r=Vi(this._delegate,t,e);return n&&r.then(function(){return n(null)},function(t){return n(t)}),r},e.prototype.remove=function(t){Object(i.J)("Reference.remove",0,1,arguments.length),Object(i.K)("Reference.remove","onComplete",t,!0);var e=Li(this._delegate);return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},e.prototype.transaction=function(t,e,n){var r=this;Object(i.J)("Reference.transaction",1,3,arguments.length),Object(i.K)("Reference.transaction","transactionUpdate",t,!1),Object(i.K)("Reference.transaction","onComplete",e,!0),Hr("Reference.transaction","applyLocally",n,!0);var o=Co(this._delegate,t,{applyLocally:n}).then(function(t){return new Ao(t.committed,new No(r.database,t.snapshot))});return e&&o.then(function(t){return e(null,t.committed,t.snapshot)},function(t){return e(t,!1,null)}),o},e.prototype.setPriority=function(t,e){Object(i.J)("Reference.setPriority",1,2,arguments.length),Object(i.K)("Reference.setPriority","onComplete",e,!0);var n=Fi(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.push=function(t,n){var r=this;Object(i.J)("Reference.push",0,2,arguments.length),Object(i.K)("Reference.push","onComplete",n,!0);var o=Pi(this._delegate,t),a=o.then(function(t){return new e(r.database,t)});n&&a.then(function(){return n(null)},function(t){return n(t)});var s=new e(this.database,o);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},e.prototype.onDisconnect=function(){return qr("Reference.onDisconnect",this._delegate._path),new xo(new Si(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Do),Po=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={}),(t=Object(i.n)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&S("Cannot call useEmulator() after instance has already been initialized.");var o=t._repoInternal,a=void 0;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&S('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new H(H.OWNER);else if(r.mockUserToken){var s="string"==typeof r.mockUserToken?r.mockUserToken:Object(i.i)(r.mockUserToken,t.app.options.projectId);a=new H(s)}!function(t,e,n,r){t.repoInfo_=new G(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}(o,e,n,a)}(this._delegate,t,e,n)},t.prototype.ref=function(t){if(Object(i.J)("database.ref",0,1,arguments.length),t instanceof Ro){var e=Di(this._delegate,t.toString());return new Ro(this,e)}return e=Ni(this._delegate,t),new Ro(this,e)},t.prototype.refFromURL=function(t){var e="database.refFromURL";Object(i.J)(e,1,1,arguments.length);var n=Di(this._delegate,t);return new Ro(this,n)},t.prototype.goOffline=function(){return Object(i.J)("database.goOffline",0,0,arguments.length),So(this._delegate)},t.prototype.goOnline=function(){return Object(i.J)("database.goOnline",0,0,arguments.length),Io(this._delegate)},t.ServerValue={TIMESTAMP:To,increment:function(t){return function(t){return{".sv":{increment:t}}}(t)}},t}(),Lo=Object.freeze({__proto__:null,forceLongPolling:function(){ot.forceDisallow(),nt.forceAllow()},forceWebSockets:function(){nt.forceDisallow()},isWebSocketsAvailable:function(){return ot.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new De(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce(function(t,e){return Math.max(e.length,t)},0);P(n,function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)})}}(t._delegate._repo,e)},statsIncrementCounter:function(t,e){!function(t,e){t.stats_.incrementCounter(e),t.statsReporter_.statsToReport_[e]=!0}(t._delegate._repo,e)},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t._delegate._repo,e)},initStandalone:function(t){var e=t.app,n=t.url,i=t.customAuthImpl,o=t.namespace,a=t.nodeAdmin,s=void 0!==a&&a;u(t.version);var c=new r.c("auth-internal",new r.b("database-standalone"));return c.setComponent(new r.a("auth-internal",function(){return i},"PRIVATE")),{instance:new Po(ko(e,c,void 0,n,s),e),namespace:o}}}),Mo=Nt;Nt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Nt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Fo=Object.freeze({__proto__:null,DataConnection:Mo,RealTimeConnection:st,hijackHash:function(t){var e=Nt.prototype.put;return Nt.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Nt.prototype.put=e}},ConnectionTarget:G,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){Oo=t}}),Vo=Po.ServerValue;!function(e){u(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new r.a("database",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Po(ko(r,i,o,n),r)},"PUBLIC").setServiceProps({Reference:Ro,Query:Do,Database:Po,DataSnapshot:No,enableLogging:_,INTERNAL:Lo,ServerValue:Vo,TEST_ACCESS:Fo}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.11.0"),Object(i.x)()&&(t.exports=n)}(e.a)}).call(this,n("3UD+")(t))},"6nsN":function(t,e,n){"use strict";n.r(e);var r=n("zIRd");(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function i(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var a=n.setTimeout;r.prototype.c=function(t){a(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new r;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e(function(t,e){i=t,o=e});return this.Ra(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var r=o(t),a=r.next();!a.done;a=r.next())i(a.value).Ra(e,n)})},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e(function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Ra(o(a.length-1),e),r=n.next()}while(!r.done)})},e});var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&u.test(t)?t:""}function h(){}function f(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function d(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==f(t)}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function b(t){return Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++g)}var y="closure_uid_"+(1e9*Math.random()>>>0),g=0;function m(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:w).apply(null,arguments)}function O(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var k=Date.now;function j(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function S(t){return t}function I(t,e,n){this.code=C+t,this.message=e||x[t]||"",this.a=n||null}function T(t){var e=t&&t.code;return e?new I(e.substring(C.length),t.message,t.serverResponse):null}j(I,Error),I.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},I.prototype.toJSON=function(){return this.w()};var E,C="auth/",x={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},A={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function N(t){for(var e in A)if(A[e].id===t)return{firebaseEndpoint:(t=A[e]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function D(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function R(t){if(Error.captureStackTrace)Error.captureStackTrace(this,R);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function P(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");R.call(this,n+t[r])}function L(t,e){throw new P("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function M(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function F(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function V(){this.b=this.a=null}E=N("__EID__")?"__EID__":void 0,j(R,Error),R.prototype.name="CustomError",j(P,R),P.prototype.name="AssertionError",M.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var U=new M(function(){return new B},function(t){t.reset()});function q(){var t=ge,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function B(){this.next=this.b=this.a=null}V.prototype.add=function(t,e){var n=U.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var H=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},W=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},z=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},K=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},G=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function Q(t,e){return 0<=H(t,e)}function Y(t,e){var n;return(n=0<=(e=H(t,e)))&&Array.prototype.splice.call(t,e,1),n}function J(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function Z(t){return Array.prototype.concat.apply([],arguments)}function X(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var $,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,rt=/>/g,it=/"/g,ot=/'/g,at=/\x00/g,st=/[\x00&<>"']/;function ut(t,e){return-1!=t.indexOf(e)}function ct(t,e){return t<e?-1:t>e?1:0}t:{var lt=s.navigator;if(lt){var ht=lt.userAgent;if(ht){$=ht;break t}}$=""}function ft(t){return ut($,t)}function dt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pt(t){for(var e in t)return!1;return!0}function vt(t){var e,n={};for(e in t)n[e]=t[e];return n}var bt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<bt.length;o++)n=bt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function gt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(v(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function mt(t,e){this.a=t===kt&&e||"",this.b=Ot}function wt(t){return t instanceof mt&&t.constructor===mt&&t.b===Ot?t.a:(L("expected object of type Const, got '"+t+"'"),"type_error:Const")}mt.prototype.ta=!0,mt.prototype.sa=function(){return this.a},mt.prototype.toString=function(){return"Const{"+this.a+"}"};var _t,Ot={},kt={};function jt(){if(void 0===_t){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:S,createScript:S,createScriptURL:S})}catch(n){s.console&&s.console.error(n.message)}_t=t}else _t=t}return _t}function St(t,e){this.a=e===xt?t:""}function It(t){return t instanceof St&&t.constructor===St?t.a:(L("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function Tt(t,e){var n=wt(t);if(!Ct.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=jt();return new St(t=e?e.createScriptURL(t):t,xt)}(t=n.replace(Et,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof mt?wt(t):encodeURIComponent(String(t))}))}St.prototype.ta=!0,St.prototype.sa=function(){return this.a.toString()},St.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Et=/%{(\w+)}/g,Ct=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,xt={};function At(t,e){this.a=e===Ft?t:""}function Nt(t){return t instanceof At&&t.constructor===At?t.a:(L("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}At.prototype.ta=!0,At.prototype.sa=function(){return this.a.toString()},At.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Dt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Rt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Pt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Lt(t){if(t instanceof At)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),Pt.test(t))t=new At(t,Ft);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Rt);t=e&&Dt.test(e[1])?new At(t,Ft):null}return t}function Mt(t){return t instanceof At?t:(t="object"==typeof t&&t.ta?t.sa():String(t),Pt.test(t)||(t="about:invalid#zClosurez"),new At(t,Ft))}var Ft={},Vt=new At("about:invalid#zClosurez",Ft);function Ut(t,e,n){this.a=n===qt?t:""}Ut.prototype.ta=!0,Ut.prototype.sa=function(){return this.a.toString()},Ut.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var qt={};function Bt(t,e,n,r){return t=t instanceof At?t:Mt(t),e=e||s,n=n instanceof mt?wt(n):n||"",e.open(Nt(t),n,r,void 0)}function Ht(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Wt(t){return st.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(at,"&#0;"))),t}function zt(t){return zt[" "](t),t}zt[" "]=h;var Kt,Gt,Qt=ft("Opera"),Yt=ft("Trident")||ft("MSIE"),Jt=ft("Edge"),Zt=Jt||Yt,Xt=ft("Gecko")&&!(ut($.toLowerCase(),"webkit")&&!ft("Edge"))&&!(ft("Trident")||ft("MSIE"))&&!ft("Edge"),$t=ut($.toLowerCase(),"webkit")&&!ft("Edge");function te(){var t=s.document;return t?t.documentMode:void 0}t:{var ee="",ne=(Gt=$,Xt?/rv:([^\);]+)(\)|;)/.exec(Gt):Jt?/Edge\/([\d\.]+)/.exec(Gt):Yt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Gt):$t?/WebKit\/(\S+)/.exec(Gt):Qt?/(?:Version)[ \/]?(\S+)/.exec(Gt):void 0);if(ne&&(ee=ne?ne[1]:""),Yt){var re=te();if(null!=re&&re>parseFloat(ee)){Kt=String(re);break t}}Kt=ee}var ie={};function oe(t){return function(t,e){var n=ie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=tt(String(Kt)).split("."),r=tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=ct(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ct(0==a[2].length,0==s[2].length)||ct(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var ae=s.document&&Yt&&(te()||parseInt(Kt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Gt){}var se=!Yt||9<=Number(ae);function ue(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ce(t,e){dt(e,function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:fe.hasOwnProperty(n)?t.setAttribute(fe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var le,he,fe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function de(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||v(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(v(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){a="function"==typeof o.item;break t}}a=!1}W(a?X(o):o,r)}}}function pe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ve(t){s.setTimeout(function(){throw t},0)}function be(t,e){he||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);he=function(){t.then(me)}}else he=function(){var t=me;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!ft("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(le||(le=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ft("Presto")&&(t=function(){var t=pe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=_(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ft("Trident")&&!ft("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Hb;n.Hb=null,t()}},function(t){r.next={Hb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),le(t)):s.setImmediate(t)}}(),ye||(he(),ye=!0),ge.add(t,e)}var ye=!1,ge=new V;function me(){for(var t;t=q();){try{t.a.call(t.b)}catch(e){ve(e)}F(U,t)}ye=!1}function we(t,e){if(this.a=_e,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,function(t){Re(n,Oe,t)},function(t){if(!(t instanceof qe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Re(n,ke,t)})}catch(r){Re(this,ke,r)}}var _e=0,Oe=2,ke=3;function je(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}je.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Se=new M(function(){return new je},function(t){t.reset()});function Ie(t,e,n){var r=Se.get();return r.g=t,r.b=e,r.f=n,r}function Te(t){if(t instanceof we)return t;var e=new we(h);return Re(e,Oe,t),e}function Ee(t){return new we(function(e,n){n(t)})}function Ce(t,e,n){Pe(t,e,n,null)||be(O(e,t))}function xe(t){return new we(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ce(t[o],O(i,o,!0),O(i,o,!1));else e(r)})}function Ae(t,e){if(t.a==_e)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==_e&&1==r?Ae(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Me(n),Fe(n,i,ke,e)))}t.c=null}else Re(t,ke,e)}function Ne(t,e){t.b||t.a!=Oe&&t.a!=ke||Le(t),t.f?t.f.next=e:t.b=e,t.f=e}function De(t,e,n,r){var i=Ie(null,null,null);return i.a=new we(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof qe?o(e):t(i)}catch(a){o(a)}}:o}),i.a.c=t,Ne(t,i),i.a}function Re(t,e,n){t.a==_e&&(t===n&&(e=ke,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Pe(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Le(t),e!=ke||n instanceof qe||function(t,e){t.g=!0,be(function(){t.g&&Ue.call(null,e)})}(t,n)))}function Pe(t,e,n,r){if(t instanceof we)return Ne(t,Ie(e||h,n||null,r)),!0;if(D(t))return t.then(e,n,r),!0;if(v(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(i,t))},o)}catch(s){o(s)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Le(t){t.h||(t.h=!0,be(t.gc,t))}function Me(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Fe(t,e,n,r){if(n==ke&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ve(e,n,r);else try{e.c?e.g.call(e.f):Ve(e,n,r)}catch(i){Ue.call(null,i)}F(Se,e)}function Ve(t,e,n){e==Oe?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}we.prototype.then=function(t,e,n){return De(this,p(t)?t:null,p(e)?e:null,n)},we.prototype.$goog_Thenable=!0,(t=we.prototype).oa=function(t,e){return(t=Ie(t,t,e)).c=!0,Ne(this,t),this},t.o=function(t,e){return De(this,null,t,e)},t.cancel=function(t){if(this.a==_e){var e=new qe(t);be(function(){Ae(this,e)},this)}},t.$c=function(t){this.a=_e,Re(this,Oe,t)},t.ad=function(t){this.a=_e,Re(this,ke,t)},t.gc=function(){for(var t;t=Me(this);)Fe(this,t,this.a,this.i);this.h=!1};var Ue=ve;function qe(t){R.call(this,t)}function Be(){0!=He&&(We[b(this)]=this),this.ya=this.ya,this.pa=this.pa}j(qe,R),qe.prototype.name="cancel";var He=0,We={};function ze(t){if(!t.ya&&(t.ya=!0,t.Da(),0!=He)){var e=b(t);if(0!=He&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete We[e]}}Be.prototype.ya=!1,Be.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ke=Object.freeze||function(t){return t},Ge=!Yt||9<=Number(ae),Qe=Yt&&!oe("9"),Ye=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",h,e),s.removeEventListener("test",h,e)}catch(n){}return t}();function Je(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ze(t,e){if(Je.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Xt){t:{try{zt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Xe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Je.prototype.preventDefault=function(){this.defaultPrevented=!0},j(Ze,Je);var Xe=Ke({2:"touch",3:"pen",4:"mouse"});Ze.prototype.preventDefault=function(){Ze.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Qe)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Ze.prototype.g=function(){return this.a};var $e="closure_listenable_"+(1e6*Math.random()|0),tn=0;function en(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Wa=i,this.key=++tn,this.wa=this.Qa=!1}function nn(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function rn(t){this.src=t,this.a={},this.b=0}function on(t,e){var n=e.type;n in t.a&&Y(t.a[n],e)&&(nn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function an(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==r)return i}return-1}rn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=an(t,e,r,i);return-1<a?(e=t[a],n||(e.Qa=!1)):((e=new en(e,this.src,o,!!r,i)).Qa=n,t.push(e)),e};var sn="closure_lm_"+(1e6*Math.random()|0),un={};function cn(t,e,n,r,i){if(r&&r.once)hn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=wn(n),t&&t[$e]?On(t,e,n,v(r)?!!r.capture:!!r,i):ln(t,e,n,!1,r,i)}function ln(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=gn(t);if(s||(t[sn]=s=new rn(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=yn,e=Ge?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ye||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(pn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else n=wn(n),t&&t[$e]?kn(t,e,n,v(r)?!!r.capture:!!r,i):ln(t,e,n,!0,r,i)}function fn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)fn(t,e[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=wn(n),t&&t[$e]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=an(o=t.a[e],n,r,i))&&(nn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=gn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=an(e,n,r,i)),(n=-1<t?e[t]:null)&&dn(n))}function dn(t){if("number"!=typeof t&&t&&!t.wa){var e=t.src;if(e&&e[$e])on(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gn(e))?(on(n,t),0==n.b&&(n.src=null,e[sn]=null)):nn(t)}}}function pn(t){return t in un?un[t]:un[t]="on"+t}function vn(t,e,n,r){var i=!0;if((t=gn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=bn(o,r),i=i&&!1!==o)}return i}function bn(t,e){var n=t.listener,r=t.Wa||t.src;return t.Qa&&dn(t),n.call(r,e)}function yn(t,e){if(t.wa)return!0;if(!Ge){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ze(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=vn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=vn(r[i],t,!1,e),n=n&&o}return n}return bn(t,new Ze(e,this))}function gn(t){return(t=t[sn])instanceof rn?t:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function wn(t){return p(t)?t:(t[mn]||(t[mn]=function(e){return t.handleEvent(e)}),t[mn])}function _n(){Be.call(this),this.v=new rn(this),this.bc=this,this.hb=null}function On(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function kn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function jn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&on(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Sn(t,e,n){if(p(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function In(t){var e=null;return new we(function(n,r){-1==(e=Sn(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).o(function(t){throw s.clearTimeout(e),t})}function Tn(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"==typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function En(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(d(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Cn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Cn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function xn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];An(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)An(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function An(t,e){return Object.prototype.hasOwnProperty.call(t,e)}j(_n,Be),_n.prototype[$e]=!0,_n.prototype.addEventListener=function(t,e,n,r){cn(this,t,e,n,r)},_n.prototype.removeEventListener=function(t,e,n,r){fn(this,t,e,n,r)},_n.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var r=t.type||t;if("string"==typeof t)t=new Je(t,n);else if(t instanceof Je)t.target=t.target||n;else{var i=t;yt(t=new Je(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=jn(a,r,!0,t)&&i}if(i=jn(a=t.b=n,r,!0,t)&&i,i=jn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=jn(a=t.b=e[o],r,!1,t)&&i;return i},_n.prototype.Da=function(){if(_n.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)nn(n[r]);delete e.a[t],e.b--}}this.hb=null},(t=Cn.prototype).X=function(){xn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return xn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return An(this.b,t)?this.b[t]:e},t.set=function(t,e){An(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Nn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Dn?(this.i=void 0!==e?e:t.i,Rn(this,t.c),this.l=t.l,this.a=t.a,Pn(this,t.g),this.f=t.f,Ln(this,er(t.b)),this.h=t.h):t&&(n=String(t).match(Nn))?(this.i=!!e,Rn(this,n[1]||"",!0),this.l=qn(n[2]||""),this.a=qn(n[3]||"",!0),Pn(this,n[4]),this.f=qn(n[5]||"",!0),Ln(this,n[6]||"",!0),this.h=qn(n[7]||"")):(this.i=!!e,this.b=new Yn(null,this.i))}function Rn(t,e,n){t.c=n?qn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Pn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Ln(t,e,n){e instanceof Yn?(t.b=e,function(t,e){e&&!t.f&&(Jn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Xn(this,e),tr(this,n,t))},t)),t.f=e}(t.b,t.i)):(n||(e=Bn(e,Gn)),t.b=new Yn(e,t.i))}function Mn(t,e,n){t.b.set(e,n)}function Fn(t,e){return t.b.get(e)}function Vn(t){return t instanceof Dn?new Dn(t):new Dn(t,void 0)}function Un(t,e,n,r){var i=new Dn(null,void 0);return t&&Rn(i,t),e&&(i.a=e),n&&Pn(i,n),r&&(i.f=r),i}function qn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Bn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Hn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Hn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Dn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Bn(e,Wn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Bn(e,Wn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Bn(n,"/"==n.charAt(0)?Kn:zn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Bn(n,Qn)),t.join("")},Dn.prototype.resolve=function(t){var e=new Dn(this),n=!!t.c;n?Rn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Pn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ut(i,"./")||ut(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Ln(e,er(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Wn=/[#\/\?@]/g,zn=/[#\?:]/g,Kn=/[#\?]/g,Gn=/[#\?@]/g,Qn=/#/g;function Yn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Jn(t){t.a||(t.a=new Cn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Zn(t){var e=En(t);if(void 0===e)throw Error("Keys are undefined");var n=new Yn(null,void 0);t=Tn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?tr(n,i,o):n.add(i,o)}return n}function Xn(t,e){Jn(t),e=nr(t,e),An(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,An((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&xn(t)))}function $n(t,e){return Jn(t),e=nr(t,e),An(t.a.b,e)}function tr(t,e,n){Xn(t,e),0<n.length&&(t.c=null,t.a.set(nr(t,e),X(n)),t.b+=n.length)}function er(t){var e=new Yn;return e.c=t.c,t.a&&(e.a=new Cn(t.a),e.b=t.b),e}function nr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function rr(t){var e=[];return or(new ir,t,e),e.join("")}function ir(){}function or(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),or(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),ur(r,n),n.push(":"),or(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":ur(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Yn.prototype).add=function(t,e){Jn(this),this.c=null,t=nr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Jn(this),this.a.forEach(function(n,r){W(n,function(n){t.call(e,n,r,this)},this)},this)},t.Y=function(){Jn(this);for(var t=this.a.X(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.X=function(t){Jn(this);var e=[];if("string"==typeof t)$n(this,t)&&(e=Z(e,this.a.get(nr(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=Z(e,t[n])}return e},t.set=function(t,e){return Jn(this),this.c=null,$n(this,t=nr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.X(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var ar={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},sr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ur(t,e){e.push('"',t.replace(sr,function(t){var e=ar[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ar[t]=e),e}),'"')}function cr(){var t=Cr();return Yt&&!!ae&&11==ae||/Edge\/\d+/.test(t)}function lr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function hr(t,e){e=e||s.window;var n="about:blank";t&&(n=Nt(Lt(t)||Vt)),e.location.href=n}function fr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<fr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function dr(t){return!!((t=(t||Cr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function pr(t){t=t||s.window;try{t.close()}catch(e){}}function vr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Cr().toLowerCase(),r&&(e.target=r,ut(n,"crios/")&&(e.target="_blank")),Ir(Cr())==jr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof At?n:Lt(void 0!==n.href?n.href:String(n))||Vt,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((ft("iPhone")&&!ft("iPod")&&!ft("iPad")||ft("iPad")||ft("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(gt(a=pe(document,"A"),"HTMLAnchorElement"),e=e instanceof At?e:Mt(e),a.href=Nt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=Bt("",r,n,a),t=Nt(e),a&&(Zt&&ut(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Wt(t)+'">',t=new Ut(t=(r=jt())?r.createHTML(t):t,null,qt),r=a.document)&&(r.write(function(t){return t instanceof Ut&&t.constructor===Ut?t.a:(L("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}(t)),r.close())):(a=Bt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var br=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yr=/^[^@]+@[^@]+$/;function gr(){var t=null;return new we(function(e){"complete"==s.document.readyState?e():(t=function(){e()},hn(window,"load",t))}).o(function(e){throw fn(window,"load",t),e})}function mr(t){return t=t||Cr(),!("file:"!==Rr()&&"ionic:"!==Rr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function wr(){var t=s.window;try{return!(!t||t==t.top)}catch(e){return!1}}function _r(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function Or(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":_r()?"Worker":"Browser"}function kr(){var t=Or();return"ReactNative"===t||"Node"===t}var jr="Firefox",Sr="Chrome";function Ir(t){var e=t.toLowerCase();return ut(e,"opera/")||ut(e,"opr/")||ut(e,"opios/")?"Opera":ut(e,"iemobile")?"IEMobile":ut(e,"msie")||ut(e,"trident/")?"IE":ut(e,"edge/")?"Edge":ut(e,"firefox/")?jr:ut(e,"silk/")?"Silk":ut(e,"blackberry")?"Blackberry":ut(e,"webos")?"Webos":!ut(e,"safari/")||ut(e,"chrome/")||ut(e,"crios/")||ut(e,"android")?!ut(e,"chrome/")&&!ut(e,"crios/")||ut(e,"edge/")?ut(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Sr:"Safari"}var Tr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Er(t,e){e=e||[];var n,r=[],i={};for(n in Tr)i[Tr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Or())?r=Ir(i=Cr()):"Worker"===r&&(r=Ir(i=Cr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Cr(){return s.navigator&&s.navigator.userAgent||""}function xr(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Ar(){try{var t=s.localStorage,e=Vr();if(t)return t.setItem(e,"1"),t.removeItem(e),!cr()||!!s.indexedDB}catch(n){return _r()&&!!s.indexedDB}return!1}function Nr(){return(Dr()||"chrome-extension:"===Rr()||mr())&&!kr()&&Ar()&&!_r()}function Dr(){return"http:"===Rr()||"https:"===Rr()}function Rr(){return s.location&&s.location.protocol||null}function Pr(t){return!dr(t=t||Cr())&&Ir(t)!=jr}function Lr(t){return void 0===t?null:rr(t)}function Mr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Fr(t){if(null!==t)return JSON.parse(t)}function Vr(t){return t||Math.floor(1e9*Math.random()).toString()}function Ur(t){return"Safari"!=Ir(t=t||Cr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function qr(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Br(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Cr(),e=Or(),this.b=dr(t)||"ReactNative"===e}function Hr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Wr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function zr(){return!(!xr("fireauth.oauthhelper",s)&&!xr("fireauth.iframe",s))}Br.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Dr()&&"chrome-extension:"!==Rr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Kr,Gr={};function Qr(t){Gr[t]||(Gr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Yr={};Object.defineProperty(Yr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Yr,"abcd",{configurable:!0,enumerable:!0,value:2}),Kr=2==Yr.abcd}catch(Gt){Kr=!1}function Jr(t,e,n){Kr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Zr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Jr(t,n,e[n])}function Xr(t){var e={};return Zr(e,t),e}function $r(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Jr(e,n,$r(t[n]));return e}function ti(t){var e=t&&(t[oi]?"phone":null);if(!(e&&t&&t[ii]))throw new I("internal-error","Internal assert: invalid MultiFactorInfo object");Jr(this,"uid",t[ii]),Jr(this,"displayName",t[ni]||null);var n=null;t[ri]&&(n=new Date(t[ri]).toUTCString()),Jr(this,"enrollmentTime",n),Jr(this,"factorId",e)}function ei(t){try{var e=new ai(t)}catch(n){e=null}return e}ti.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ni="displayName",ri="enrolledAt",ii="mfaEnrollmentId",oi="phoneInfo";function ai(t){ti.call(this,t),Jr(this,"phoneNumber",t[oi])}function si(t){var e={},n=t[hi],r=t[di],i=t[pi];if(t=ei(t[fi]),!i||i!=ci&&i!=li&&!n||i==li&&!r||i==ui&&!t)throw Error("Invalid checkActionCode response!");i==li?(e[bi]=n||null,e[gi]=n||null,e[vi]=r):(e[bi]=r||null,e[gi]=r||null,e[vi]=n||null),e[yi]=t||null,Jr(this,wi,i),Jr(this,mi,$r(e))}j(ai,ti),ai.prototype.w=function(){var t=ai.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ui="REVERT_SECOND_FACTOR_ADDITION",ci="EMAIL_SIGNIN",li="VERIFY_AND_CHANGE_EMAIL",hi="email",fi="mfaInfo",di="newEmail",pi="requestType",vi="email",bi="fromEmail",yi="multiFactorInfo",gi="previousEmail",mi="data",wi="operation";function _i(t){var e=Fn(t=Vn(t),Oi)||null,n=Fn(t,ki)||null,r=Fn(t,Ii)||null;if(r=r&&Ei[r]||null,!e||!n||!r)throw new I("argument-error",Oi+", "+ki+"and "+Ii+" are required in a valid action code URL.");Zr(this,{apiKey:e,operation:r,code:n,continueUrl:Fn(t,ji)||null,languageCode:Fn(t,Si)||null,tenantId:Fn(t,Ti)||null})}var Oi="apiKey",ki="oobCode",ji="continueUrl",Si="languageCode",Ii="mode",Ti="tenantId",Ei={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ui,signIn:ci,verifyAndChangeEmail:li,verifyEmail:"VERIFY_EMAIL"};function Ci(t){try{return new _i(t)}catch(e){return null}}function xi(t){var e=t[Pi];if(void 0===e)throw new I("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new I("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ai];if(n&&"object"==typeof n){e=n[Fi];var r=n[Li];if(n=n[Mi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new I("argument-error",Li+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new I("argument-error",Mi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new I("argument-error",Fi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new I("missing-android-pkg-name")}}else if(void 0!==n)throw new I("argument-error",Ai+" property must be a non null object when specified.");if(this.f=null,(e=t[Ri])&&"object"==typeof e){if("string"==typeof(e=e[Vi])&&e.length)this.f=e;else if(void 0!==e)throw new I("argument-error",Vi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new I("argument-error",Ri+" property must be a non null object when specified.");if(void 0!==(e=t[Di])&&"boolean"!=typeof e)throw new I("argument-error",Di+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ni])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new I("argument-error",Ni+" property must be a non empty string when specified.");this.i=t||null}var Ai="android",Ni="dynamicLinkDomain",Di="handleCodeInApp",Ri="iOS",Pi="url",Li="installApp",Mi="minimumVersion",Fi="packageName",Vi="bundleId";function Ui(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var qi=null;function Bi(t){var e=Wi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Hi(t){try{return new Bi(t)}catch(e){return null}}function Wi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=function(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=qi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!qi){qi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===qi[o]&&(qi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,function(t){e.push(t)}),e}(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var a=r[e++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else o=r[e++],a=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(u){}return null}Bi.prototype.T=function(){return this.f},Bi.prototype.l=function(){return this.c},Bi.prototype.toString=function(){return this.h};var zi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ki=["client_id","response_type","scope","redirect_uri","state"],Gi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Ki},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Ki},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Ki},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:zi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Qi(t){for(var e in Gi)if(Gi[e].fa==t)return Gi[e];return null}function Yi(t){var e={};e["facebook.com"]=to,e["google.com"]=no,e["github.com"]=eo,e["twitter.com"]=ro;var n=t&&t[Zi];try{if(n)return e[n]?new e[n](t):new $i(t);if(void 0!==t[Ji])return new Xi(t)}catch(r){}return null}var Ji="idToken",Zi="providerId";function Xi(t){var e=t[Zi];if(!e&&t[Ji]){var n=Hi(t[Ji]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Jr(this,"providerId",e),Jr(this,"isNewUser",n)}function $i(t){Xi.call(this,t),Jr(this,"profile",$r((t=Fr(t.rawUserInfo||"{}"))||{}))}function to(t){if($i.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if($i.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",this.profile&&this.profile.login||null)}function no(t){if($i.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(t){if($i.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",t.screenName||null)}function io(t){var e=Vn(t),n=Fn(e,"link"),r=Fn(Vn(n),"link");return e=Fn(e,"deep_link_id"),Fn(Vn(e),"link")||e||r||n||t}function oo(t,e){if(!t&&!e)throw new I("internal-error","Internal assert: no raw session string available");if(t&&e)throw new I("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?ao:so}j($i,Xi),j(to,$i),j(eo,$i),j(no,$i),j(ro,$i);var ao="enroll",so="signin";function uo(){}function co(t,e){return t.then(function(t){if(t[Ja]){var n=Hi(t[Ja]);if(!n||e!=n.i)throw new I("user-mismatch");return t}throw new I("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==C+"user-not-found"?new I("user-mismatch"):t})}function lo(t,e){if(!e)throw new I("internal-error","failed to construct a credential");this.a=e,Jr(this,"providerId",t),Jr(this,"signInMethod",t)}function ho(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function fo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new lo(t.providerId,t.pendingToken)}catch(e){}return null}function po(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Jr(this,"idToken",e.idToken),e.accessToken&&Jr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Jr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new I("internal-error","failed to construct a credential");Jr(this,"accessToken",e.oauthToken),Jr(this,"secret",e.oauthTokenSecret)}Jr(this,"providerId",t),Jr(this,"signInMethod",n)}function vo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Zn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function bo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new po(t.providerId,e,t.signInMethod)}catch(n){}}return null}function yo(t,e){this.Qc=e||[],Zr(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=(Qi(t)||{}).Ja||null,this.pb=null}function go(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new I("argument-error",'SAML provider IDs must be prefixed with "saml."');yo.call(this,t,[])}function mo(t){yo.call(this,t,Ki),this.a=[]}function wo(){mo.call(this,"facebook.com")}function _o(t){if(!t)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new wo).credential({accessToken:e})}function Oo(){mo.call(this,"github.com")}function ko(t){if(!t)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new Oo).credential({accessToken:e})}function jo(){mo.call(this,"google.com"),this.Ca("profile")}function So(t,e){var n=t;return v(t)&&(n=t.idToken,e=t.accessToken),(new jo).credential({idToken:n,accessToken:e})}function Io(){yo.call(this,"twitter.com",zi)}function To(t,e){var n=t;if(v(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new I("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new po("twitter.com",n,"twitter.com")}function Eo(t,e,n){this.a=t,this.f=e,Jr(this,"providerId","password"),Jr(this,"signInMethod",n===xo.EMAIL_LINK_SIGN_IN_METHOD?xo.EMAIL_LINK_SIGN_IN_METHOD:xo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Co(t){return t&&t.email&&t.password?new Eo(t.email,t.password,t.signInMethod):null}function xo(){Zr(this,{providerId:"password",isOAuthProvider:!1})}function Ao(t,e){if(!(e=No(e)))throw new I("argument-error","Invalid email link!");return new Eo(t,e.code,xo.EMAIL_LINK_SIGN_IN_METHOD)}function No(t){return(t=Ci(t=io(t)))&&t.operation===ci?t:null}function Do(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new I("internal-error");this.a=t,Jr(this,"providerId","phone"),this.fa="phone",Jr(this,"signInMethod","phone")}function Ro(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return W(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new Do(e)}return null}function Po(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function Lo(t){try{this.a=t||r.a.auth()}catch(e){throw new I("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Zr(this,{providerId:"phone",isOAuthProvider:!1})}function Mo(t,e){if(!t)throw new I("missing-verification-id");if(!e)throw new I("missing-verification-code");return new Do({fb:t,eb:e})}function Fo(t){if(t.temporaryProof&&t.phoneNumber)return new Do({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return So(o,n);case"facebook.com":return _o(n);case"github.com":return ko(n);case"twitter.com":return To(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new lo(e,a):new po(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new mo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Vo(t){if(!t.isOAuthProvider)throw new I("invalid-oauth-provider")}function Uo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new I("invalid-auth-event");if(this.g&&this.a)throw new I("invalid-auth-event");if(this.g&&!this.f)throw new I("invalid-auth-event")}function qo(t){return(t=t||{}).type?new Uo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&T(t.error),t.postBody,t.tenantId):null}function Bo(){this.b=null,this.a=[]}oo.prototype.Ha=function(){return Te(this.a?this.a:this.b)},oo.prototype.w=function(){return this.type==ao?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},uo.prototype.ka=function(){},uo.prototype.b=function(){},uo.prototype.c=function(){},uo.prototype.w=function(){},lo.prototype.ka=function(t){return ys(t,ho(this))},lo.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,gs(t,n)},lo.prototype.c=function(t,e){return co(ms(t,ho(this)),e)},lo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},po.prototype.ka=function(t){return ys(t,vo(this))},po.prototype.b=function(t,e){var n=vo(this);return n.idToken=e,gs(t,n)},po.prototype.c=function(t,e){return co(ms(t,vo(this)),e)},po.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},yo.prototype.Ka=function(t){return this.Jb=vt(t),this},j(go,yo),j(mo,yo),mo.prototype.Ca=function(t){return Q(this.a,t)||this.a.push(t),this},mo.prototype.Rb=function(){return X(this.a)},mo.prototype.credential=function(t,e){var n;if(!(n=v(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new I("argument-error","credential failed: must provide the ID token and/or the access token.");return new po(this.providerId,n,this.providerId)},j(wo,mo),Jr(wo,"PROVIDER_ID","facebook.com"),Jr(wo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),j(Oo,mo),Jr(Oo,"PROVIDER_ID","github.com"),Jr(Oo,"GITHUB_SIGN_IN_METHOD","github.com"),j(jo,mo),Jr(jo,"PROVIDER_ID","google.com"),Jr(jo,"GOOGLE_SIGN_IN_METHOD","google.com"),j(Io,yo),Jr(Io,"PROVIDER_ID","twitter.com"),Jr(Io,"TWITTER_SIGN_IN_METHOD","twitter.com"),Eo.prototype.ka=function(t){return this.signInMethod==xo.EMAIL_LINK_SIGN_IN_METHOD?tu(t,Ts,{email:this.a,oobCode:this.f}):tu(t,Ys,{email:this.a,password:this.f})},Eo.prototype.b=function(t,e){return this.signInMethod==xo.EMAIL_LINK_SIGN_IN_METHOD?tu(t,Es,{idToken:e,email:this.a,oobCode:this.f}):tu(t,qs,{idToken:e,email:this.a,password:this.f})},Eo.prototype.c=function(t,e){return co(this.ka(t),e)},Eo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Zr(xo,{PROVIDER_ID:"password"}),Zr(xo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Zr(xo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Do.prototype.ka=function(t){return t.gb(Po(this))},Do.prototype.b=function(t,e){var n=Po(this);return n.idToken=e,tu(t,Zs,n)},Do.prototype.c=function(t,e){var n=Po(this);return n.operation="REAUTH",co(t=tu(t,Xs,n),e)},Do.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Lo.prototype.gb=function(t,e){var n=this.a.a;return Te(e.verify()).then(function(r){if("string"!=typeof r)throw new I("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=v(t)?t.session:null,o=v(t)?t.phoneNumber:t;return(i&&i.type==ao?i.Ha().then(function(t){return function(t,e){return tu(t,Hs,e).then(function(t){return t.phoneSessionInfo.sessionInfo})}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})}):i&&i.type==so?i.Ha().then(function(e){return function(t,e){return tu(t,Ws,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})}):function(t,e){return tu(t,Vs,e)}(n,{phoneNumber:o,recaptchaToken:r})).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new I("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Zr(Lo,{PROVIDER_ID:"phone"}),Zr(Lo,{PHONE_SIGN_IN_METHOD:"phone"}),Uo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Uo.prototype.T=function(){return this.h},Uo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Ho,Wo=null;function zo(t){var e="unauthorized-domain",n=void 0,r=Vn(t);t=r.a,"chrome-extension"==(r=r.c)?n=Ht("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ht("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",I.call(this,e,n)}function Ko(t,e,n){I.call(this,t,n),(t=e||{}).Kb&&Jr(this,"email",t.Kb),t.ea&&Jr(this,"phoneNumber",t.ea),t.credential&&Jr(this,"credential",t.credential),t.$b&&Jr(this,"tenantId",t.$b)}function Go(t){if(t.code){var e=t.code||"";0==e.indexOf(C)&&(e=e.substring(C.length));var n={credential:Fo(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new I(e,t.message||void 0);return new Ko(e,n,t.message)}return null}function Qo(){}function Yo(){}function Jo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Zo(){}function Xo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.qc,this),this.a.onerror=_(this.Tb,this),this.a.onprogress=_(this.rc,this),this.a.ontimeout=_(this.vc,this)}function $o(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ta(t,e,n){this.reset(t,e,n,void 0,void 0)}function ea(t){this.f=t,this.b=this.c=this.a=null}function na(t,e){this.name=t,this.value=e}j(zo,I),j(Ko,I),Ko.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&yt(t,e),t},Ko.prototype.toJSON=function(){return this.w()},Qo.prototype.c=null,j(Yo,Qo),Yo.prototype.a=function(){var t=Jo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Yo.prototype.b=function(){var t={};return Jo(this)&&(t[0]=!0,t[1]=!0),t},Ho=new Yo,j(Zo,Qo),Zo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Xo;throw Error("Unsupported browser")},Zo.prototype.b=function(){return{}},(t=Xo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,$o(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",$o(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,$o(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ta.prototype.a=null,ta.prototype.reset=function(t,e,n,r,i){r||k(),delete this.a},na.prototype.toString=function(){return this.name};var ra=new na("SEVERE",1e3),ia=new na("WARNING",900),oa=new na("CONFIG",700),aa=new na("FINE",500);function sa(t){return t.c?t.c:t.a?sa(t.a):(L("Root logger has no level set."),null)}ea.prototype.log=function(t,e,n){if(t.value>=sa(this).value)for(p(e)&&(e=e()),t=new ta(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ua={},ca=null;function la(t){var e;if(ca||(ca=new ea(""),ua[""]=ca,ca.c=oa),!(e=ua[t])){e=new ea(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=la(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ua[t]=e}return e}function ha(t,e){t&&t.log(aa,e,void 0)}function fa(t){this.f=t}function da(t){_n.call(this),this.u=t,this.h=void 0,this.readyState=pa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=la("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}j(fa,Qo),fa.prototype.a=function(){return new da(this.f)},fa.prototype.b=function(t){return function(){return t}}({}),j(da,_n);var pa=0;function va(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function ba(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ya(t)}function ya(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ga(t){_n.call(this),this.headers=new Cn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=ma,this.u=this.S=!1}(t=da.prototype).open=function(t,e){if(this.readyState!=pa)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ya(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ba(this)),this.readyState=pa},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ya(this)),this.a&&(this.readyState=3,ya(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,va(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ba(this):ya(this),3==this.readyState&&va(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,ba(this))},t.sc=function(t){this.a&&(this.response=t,ba(this))},t.Va=function(t){var e=this.i;e&&e.log(ia,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ba(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(ia,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(ia,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(da.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),j(ga,_n);var ma="";ga.prototype.b=la("goog.net.XhrIo");var wa=/^https?$/i,_a=["POST","PUT"];function Oa(t){return"content-type"==t.toLowerCase()}function ka(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ja(t),Ia(t)}function ja(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Sa(t){if(t.c&&void 0!==a)if(t.C[1]&&4==Ea(t)&&2==Ca(t))ha(t.b,xa(t,"Local request error detected and ignored"));else if(t.i&&4==Ea(t))Sn(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==Ea(t)){ha(t.b,xa(t,"Request complete")),t.c=!1;try{var e,n=Ca(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Nn)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!wa.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Ea(t)?t.a.statusText:""}catch(l){ha(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Ca(t)+"]",ja(t)}}finally{Ia(t)}}}function Ia(t,e){if(t.a){Ta(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(ra,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Ta(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function Ea(t){return t.a?t.a.readyState:0}function Ca(t){try{return 2<Ea(t)?t.a.status:-1}catch(e){return-1}}function xa(t,e){return e+" ["+t.P+" "+t.l+" "+Ca(t)+"]"}function Aa(t){var e=Ba;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Na(t,e,n){t.a=!0,t.c=n,t.f=!e,La(t)}function Da(t){if(t.a){if(!t.v)throw new Ma(t);t.v=!1}}function Ra(t,e,n,r){t.g.push([e,n,r]),t.a&&La(t)}function Pa(t){return G(t.g,function(t){return p(t[1])})}function La(t){if(t.h&&t.a&&Pa(t)){var e=t.h,n=Ua[e];n&&(s.clearTimeout(n.a),delete Ua[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(D(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Pa(t)||(n=!0)}}t.c=e,r&&(u=_(t.m,t,!0),r=_(t.m,t,!1),e instanceof Aa?(Ra(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new Va(e),Ua[e.a]=e,t.h=e.a)}function Ma(){R.call(this)}function Fa(){R.call(this)}function Va(t){this.a=s.setTimeout(_(this.c,this),0),this.b=t}(t=ga.prototype).Ma=function(){void 0!==a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ha(this.b,xa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ha(this.b,xa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ia(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ia(this,!0)),ga.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?Sa(this):this.Jc())},t.Jc=function(){Sa(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ma:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ra,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ha(this.b,"Can not get response: "+e.message),null}},Aa.prototype.cancel=function(t){if(this.a)this.c instanceof Aa&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Fa(this),Da(this),Na(this,!1,t))}},Aa.prototype.m=function(t,e){this.i=!1,Na(this,t,e)},Aa.prototype.then=function(t,e,n){var r,i,o=new we(function(t,e){r=t,i=e});return Ra(this,r,function(t){t instanceof Fa?o.cancel():i(t)}),o.then(t,e,n)},Aa.prototype.$goog_Thenable=!0,j(Ma,R),Ma.prototype.message="Deferred has already fired",Ma.prototype.name="AlreadyCalledError",j(Fa,R),Fa.prototype.message="Deferred was canceled",Fa.prototype.name="CanceledError",Va.prototype.c=function(){throw delete Ua[this.a],this.b};var Ua={};function qa(t){var e={},n=e.document||document,r=It(t).toString(),i=pe(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new Aa(o),u=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(u=window.setTimeout(function(){Ha(i,!0);var t=new Ka(za,"Timeout reached for loading script "+r);Da(a),Na(a,!1,t)},h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ha(i,e.xd||!1,u),Da(a),Na(a,!0,null))},i.onerror=function(){Ha(i,!0,u);var t=new Ka(Wa,"Error while loading script "+r);Da(a),Na(a,!1,t)},yt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ce(i,o),function(t,e){gt(t,"HTMLScriptElement"),t.src=It(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=l(e.document):(null===c&&(c=l(s.document)),e=c),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Ba(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&Ha(t,!0,this.Ma)}}function Ha(t,e,n){null!=n&&s.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Wa=0,za=1;function Ka(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),R.call(this,n),this.code=t}function Ga(t){this.f=t}function Qa(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Za,this.g=vt(t.secureTokenHeaders||Xa),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||$a,this.a=vt(t.firebaseHeaders||ts),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Or(),!(n=s.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!_r())throw new I("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=_r()?new fa(self):kr()?new Ga(n):new Zo,this.b=null}j(Ka,R),j(Ga,Qo),Ga.prototype.a=function(){return new this.f},Ga.prototype.b=function(){return{}};var Ya,Ja="idToken",Za=new Br(3e4,6e4),Xa={"Content-Type":"application/x-www-form-urlencoded"},$a=new Br(3e4,6e4),ts={"Content-Type":"application/json"};function es(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ns(t,e){e&&(t.l=rs("https://securetoken.googleapis.com/v1/token",e),t.h=rs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=rs("https://identitytoolkit.googleapis.com/v2/",e))}function rs(t,e){return t=Vn(t),e=Vn(e.url),t.f=t.a+t.f,Rn(t,e.c),t.a=e.a,Pn(t,e.g),t.toString()}function is(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function os(t,e,n,r,i,o,a){(function(){var t=Cr();return!((t=Ir(t)!=Sr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Yt&&ae&&!(9<ae))})()||_r()?t=_(t.u,t):(Ya||(Ya=new we(function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(s[ss]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ra(t,null,e,void 0)}(qa(Tt(as,{onload:ss})),function(){e(Error("CORS_UNSUPPORTED"))}))}(t,e)})),t=_(t.s,t)),t(e,n,r,i,o,a)}Qa.prototype.T=function(){return this.b},Qa.prototype.u=function(t,e,n,r,i,o){if(_r()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new I("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ga(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout(function(){a.dispatchEvent("timeout")},o)}On(a,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ha(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),kn(a,"ready",function(){u&&clearTimeout(u),ze(this)}),kn(a,"timeout",function(){u&&clearTimeout(u),ze(this),e&&e(null)}),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Ho.a(),t.C=function(t){return t.c||(t.c=t.b())}(t.D?t.D:Ho),t.a.onreadystatechange=_(t.Wb,t);try{ha(t.b,xa(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(a){return ha(t.b,xa(t,"Error opening Xhr: "+a.message)),void ka(t,a)}e=r||"";var o=new Cn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"==typeof t)W(t,e,void 0);else for(var n=En(t),r=Tn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){o.set(e,t)}),i=function(t){t:{for(var e=Oa,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!Q(_a,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Ta(t),0<t.g&&(t.u=function(t){return Yt&&oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ha(t.b,xa(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=_(t.Ma,t)):t.s=Sn(t.Ma,t.g,t)),ha(t.b,xa(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){ha(t.b,xa(t,"Send error: "+a.message)),ka(t,a)}}(a,t,n,r,i)};var as=new mt(kt,"https://apis.google.com/js/client.js?onload=%{onload}"),ss="__fcb"+Math.floor(1e6*Math.random()).toString();function us(t){if("string"!=typeof(t=t.email)||!yr.test(t))throw new I("invalid-email")}function cs(t){"email"in t&&us(t)}function ls(t){if(!t[Ja]){if(t.mfaPendingCredential)throw new I("multi-factor-auth-required",null,vt(t));throw new I("internal-error")}}function hs(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new I("internal-error")}else{if(!t.sessionInfo)throw new I("missing-verification-id");if(!t.code)throw new I("missing-verification-code")}}Qa.prototype.s=function(t,e,n,r,i){var o=this;Ya.then(function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Qa.prototype.Ab=function(){return tu(this,Bs,{})},Qa.prototype.Cb=function(t,e){return tu(this,Us,{idToken:t,email:e})},Qa.prototype.Db=function(t,e){return tu(this,qs,{idToken:t,password:e})};var fs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ds(t){if(!t.phoneVerificationInfo)throw new I("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new I("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new I("missing-verification-code")}function ps(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new I("internal-error")}function vs(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&$n(t=new Yn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function bs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Go(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Go(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Go(t)):t.errorMessage&&(e=eu(t.errorMessage)),e)throw e;ls(t)}function ys(t,e){return e.returnIdpCredential=!0,tu(t,zs,e)}function gs(t,e){return e.returnIdpCredential=!0,tu(t,Gs,e)}function ms(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,tu(t,Ks,e)}function ws(t){if(!t.oobCode)throw new I("invalid-action-code")}(t=Qa.prototype).Eb=function(t,e){var n={idToken:t},r=[];return dt(fs,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),tu(this,Us,n)},t.wb=function(t,e){return yt(t={requestType:"PASSWORD_RESET",email:t},e),tu(this,Ps,t)},t.xb=function(t,e){return yt(t={requestType:"EMAIL_SIGNIN",email:t},e),tu(this,Ns,t)},t.vb=function(t,e){return yt(t={requestType:"VERIFY_EMAIL",idToken:t},e),tu(this,Ds,t)},t.Fb=function(t,e,n){return yt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),tu(this,Rs,t)},t.gb=function(t){return tu(this,Js,t)},t.ob=function(t,e){return tu(this,Fs,{oobCode:t,newPassword:e})},t.Sa=function(t){return tu(this,Os,{oobCode:t})},t.kb=function(t){return tu(this,_s,{oobCode:t})};var _s={endpoint:"setAccountInfo",A:ws,Z:"email",B:!0},Os={endpoint:"resetPassword",A:ws,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new I("internal-error")},B:!0},ks={endpoint:"signupNewUser",A:function(t){if(us(t),!t.password)throw new I("weak-password")},G:ls,V:!0,B:!0},js={endpoint:"createAuthUri",B:!0},Ss={endpoint:"deleteAccount",O:["idToken"]},Is={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new I("internal-error")}},Ts={endpoint:"emailLinkSignin",O:["email","oobCode"],A:us,G:ls,V:!0,B:!0},Es={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:us,G:ls,V:!0},Cs={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:ds,G:ls,B:!0,Na:!0},xs={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:ds,G:ls,B:!0,Na:!0},As={endpoint:"getAccountInfo"},Ns={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new I("internal-error");us(t)},Z:"email",B:!0},Ds={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new I("internal-error")},Z:"email",B:!0},Rs={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new I("internal-error")},Z:"email",B:!0},Ps={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new I("internal-error");us(t)},Z:"email",B:!0},Ls={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Ms={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new I("internal-error")}},Fs={endpoint:"resetPassword",A:ws,Z:"email",B:!0},Vs={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Us={endpoint:"setAccountInfo",O:["idToken"],A:cs,V:!0},qs={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(cs(t),!t.password)throw new I("weak-password")},G:ls,V:!0},Bs={endpoint:"signupNewUser",G:ls,V:!0,B:!0},Hs={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new I("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new I("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},Ws={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},zs={endpoint:"verifyAssertion",A:ps,Za:vs,G:bs,V:!0,B:!0},Ks={endpoint:"verifyAssertion",A:ps,Za:vs,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new I("user-not-found");if(t.errorMessage)throw eu(t.errorMessage);ls(t)},V:!0,B:!0},Gs={endpoint:"verifyAssertion",A:function(t){if(ps(t),!t.idToken)throw new I("internal-error")},Za:vs,G:bs,V:!0},Qs={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new I("invalid-custom-token")},G:ls,V:!0,B:!0},Ys={endpoint:"verifyPassword",A:function(t){if(us(t),!t.password)throw new I("wrong-password")},G:ls,V:!0,B:!0},Js={endpoint:"verifyPhoneNumber",A:hs,G:ls,B:!0},Zs={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new I("internal-error");hs(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Go(t);ls(t)}},Xs={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:hs,G:ls,B:!0},$s={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ja]^!!t.refreshToken)throw new I("internal-error")},B:!0,Na:!0};function tu(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.O))return Ee(new I("internal-error"));var r,i=!!e.Na,o=e.Vb||"POST";return Te(n).then(e.A).then(function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,a){var s=Vn(e+n);Mn(s,"key",t.c),a&&Mn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Mn(s,c,i[c]);return new we(function(e,n){os(t,s.toString(),function(t){t?t.error?n(nu(t,o||{})):e(t):n(new I("network-request-failed"))},r,u?void 0:rr(Mr(i)),t.a,t.v.get())})}(t,i?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)}).then(function(t){return r=t,e.Za?e.Za(n,r):r}).then(e.G).then(function(){if(!e.Z)return r;if(!(e.Z in r))throw new I("internal-error");return r[e.Z]})}function eu(t){return nu({error:{errors:[{message:t}],code:400,message:t}})}function nu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new I(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",yt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new I(r[i],e);return!e&&t&&(e=Lr(t)),new I("internal-error",e)}function ru(t){this.b=t,this.a=null,this.sb=function(t){return(su||(su=new we(function(t,e){function n(){qr(),xr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){qr(),e(Error("Network Error"))},timeout:ou.get()})}if(xr("gapi.iframes.Iframe"))t();else if(xr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){xr("gapi.load")?n():e(Error("Network Error"))},Te(qa(r=Tt(iu,{onload:r}))).o(function(){e(Error("Network Error"))})}}).o(function(t){throw su=null,t}))).then(function(){return new we(function(e,n){xr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:xr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},au.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var iu=new mt(kt,"https://apis.google.com/js/api.js?onload=%{onload}"),ou=new Br(3e4,6e4),au=new Br(5e3,15e3),su=null;function uu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Un((t=Vn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Un("https",this.l,null,"/__/auth/iframe"),this.a=t,Mn(this.a,"apiKey",this.h),Mn(this.a,"appName",this.i),this.b=null,this.c=[]}function cu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function lu(t){try{return r.a.app(t).auth().Ga()}catch(e){return[]}}function hu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function fu(t){var e=lr();return function(t){return tu(t,Ls,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Vn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Vn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:br.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new zo(lr())})}function du(t){return t.m||(t.m=gr().then(function(){if(!t.u){var e=t.c,n=t.i,r=lu(t.b),i=new uu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=X(r||[]),t.u=i.toString()}t.v=new ru(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.sb.then(function(){t.a.register("authEvent",e,xr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.v,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=qo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Te(n)}return n.status="ERROR",Te(n)})}(t)})),t.m}function pu(t){return t.l||(t.C=t.c?Er(t.c,lu(t.b)):null,t.l=new Qa(t.g,N(t.i),t.C),t.f&&ns(t.l,t.f)),t.l}function vu(t,e,n,r,i,o,a,s,u,c,l,h){return(t=new cu(t,e,n,r,i,h)).l=o,t.g=a,t.i=s,t.b=vt(u||null),t.f=c,t.zb(l).toString()}function bu(t){if(this.a=t||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new I("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function yu(t){this.b=t,this.a={},this.f=_(this.c,this)}uu.prototype.toString=function(){return this.f?Mn(this.a,"v",this.f):Xn(this.a.b,"v"),this.b?Mn(this.a,"eid",this.b):Xn(this.a.b,"eid"),this.c.length?Mn(this.a,"fw",this.c.join(",")):Xn(this.a.b,"fw"),this.a.toString()},cu.prototype.zb=function(t){return this.h=t,this},cu.prototype.toString=function(){if(this.v){var t=Vn(this.v.url);t=Un(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Un("https",this.u,null,"/__/auth/handler");if(Mn(t,"apiKey",this.s),Mn(t,"appName",this.c),Mn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=r.a.app(this.c).auth().la()}catch(u){n=null}for(var i in e.pb=n,Mn(t,"providerId",this.a.providerId),e=Mr((n=this.a).Jb))e[i]=e[i].toString();i=n.Qc,e=vt(e);for(var o=0;o<i.length;o++){var a=i[o];a in e&&delete e[a]}n.qb&&n.pb&&!e[n.qb]&&(e[n.qb]=n.pb),pt(e)||Mn(t,"customParameters",Lr(e))}if("function"==typeof this.a.Rb&&(n=this.a.Rb()).length&&Mn(t,"scopes",n.join(",")),this.l?Mn(t,"redirectUrl",this.l):Xn(t.b,"redirectUrl"),this.g?Mn(t,"eventId",this.g):Xn(t.b,"eventId"),this.i?Mn(t,"v",this.i):Xn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Fn(t,s)&&Mn(t,s,this.b[s]);return this.h?Mn(t,"tid",this.h):Xn(t.b,"tid"),this.f?Mn(t,"eid",this.f):Xn(t.b,"eid"),(s=lu(this.c)).length&&Mn(t,"fw",s.join(",")),t.toString()},(t=hu.prototype).Pb=function(t,e,n){var r=new I("popup-closed-by-user"),i=new I("web-storage-unsupported"),o=this,a=!1;return this.ma().then(function(){(function(t){var e={type:"webStorageSupport"};return du(t).then(function(){return function(t,e){return t.sb.then(function(){return new we(function(n){t.a.send(e.type,e,n,xr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.v,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&pr(t),e(i),a=!0)})}).o(function(){}).then(function(){if(!a)return function(t){return new we(function(e){return function n(){In(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!a)return In(n).then(function(){e(r)})})},t.Yb=function(){var t=Cr();return!Pr(t)&&!Ur(t)},t.Ub=function(){return!1},t.Nb=function(t,e,n,r,i,o,a,s){if(!t)return Ee(new I("popup-blocked"));if(a&&!Pr())return this.ma().o(function(e){pr(t),i(e)}),r(),Te();this.a||(this.a=fu(pu(this)));var u=this;return this.a.then(function(){var e=u.ma().o(function(e){throw pr(t),i(e),e});return r(),e}).then(function(){Vo(n),a||hr(vu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},t.Ob=function(t,e,n,r){this.a||(this.a=fu(pu(this)));var i=this;return this.a.then(function(){Vo(e),hr(vu(i.s,i.g,i.b,t,e,lr(),n,i.c,void 0,i.i,r,i.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},t.ma=function(){var t=this;return du(this).then(function(){return t.v.sb}).o(function(){throw t.a=null,new I("network-request-failed")})},t.ac=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ta=function(t){J(this.h,function(e){return e==t})},(t=bu.prototype).get=function(t){return Te(this.a.getItem(t)).then(function(t){return t&&Fr(t)})},t.set=function(t,e){return Te(this.a.setItem(t,Lr(e)))},t.U=function(t){return Te(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var gu,mu=[];function wu(t,e,n){pt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function _u(t){this.a=t}function Ou(t){this.c=t,this.b=!1,this.a=[]}function ku(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Ee(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new we(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},l),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return ju(t,c),e}).o(function(e){throw ju(t,c),e})}function ju(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),J(t.a,function(t){return t==e})}}function Su(){if(!Cu())throw new I("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;_r()&&self?(this.v=function(){var t=_r()?self:null;if(W(mu,function(n){n.b==t&&(e=n)}),!e){var e=new yu(t);mu.push(e)}return e}(),wu(this.v,"keyChanged",function(e,n){return Ru(t).then(function(e){return 0<e.length&&W(t.a,function(t){t(e)}),{keyProcessed:Q(e,n.key)}})}),wu(this.v,"ping",function(){return Te(["keyChanged"])})):function(){var t=s.navigator;return t&&t.serviceWorker?Te().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):Te(null)}().then(function(e){(t.h=e)&&(t.g=new Ou(new _u(e)),ku(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&Q(e[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function Iu(t){return new we(function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new we(function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return Iu(t)}).then(function(t){e(t)}).o(function(t){n(t)})}})}function Tu(t){return t.i||(t.i=Iu(t)),t.i}function Eu(t,e){var n=0;return new we(function r(i,o){Tu(t).then(e).then(i).o(function(e){if(!(3<++n))return Tu(t).then(function(e){return e.close(),t.i=void 0,r(i,o)}).o(function(t){o(t)});o(e)})})}function Cu(){try{return!!s.indexedDB}catch(Gt){return!1}}function xu(t){return t.objectStore("firebaseLocalStorage")}function Au(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Nu(t){return new we(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Du(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?ku(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):Te()}function Ru(t){return Tu(t).then(function(t){var e=xu(Au(t,!1));return e.getAll?Nu(e.getAll()):new we(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=fr(t.c,n),t.c=n}return r})}function Pu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Lu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Te().then(function(){if(Cu()){var t=Vr(),r="__sak"+t;return gu||(gu=new Su),(n=gu).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){W(e.a,function(e){e(t)})}),t})}function Mu(){this.a={},this.type="inMemory"}function Fu(){if(!function(){var t="Node"==Or();if(!(t=Vu()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Or())throw new I("internal-error","The LocalStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=Vu()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function Vu(){try{var t=s.localStorage,e=Vr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Uu(){this.type="nullStorage"}function qu(){if(!function(){var t="Node"==Or();if(!(t=Bu()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Or())throw new I("internal-error","The SessionStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=Bu()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Bu(){try{var t=s.sessionStorage,e=Vr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Hu(){var t={};t.Browser=Ku,t.Node=Gu,t.ReactNative=Qu,t.Worker=Yu,this.a=t[Or()]}yu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];W(r,function(e){i.push(Te().then(function(){return e(t.origin,t.data.data)}))}),xe(i).then(function(r){var i=[];W(r,function(t){i.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})}),W(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},_u.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Ou.prototype.close=function(){for(;0<this.a.length;)ju(this,this.a[0]);this.b=!0},(t=Su.prototype).set=function(t,e){var n=this,r=!1;return Eu(this,function(e){return Nu((e=xu(Au(e,!0))).get(t))}).then(function(i){return Eu(n,function(o){if(o=xu(Au(o,!0)),i)return i.value=e,Nu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Nu(o.add(a))})}).then(function(){return n.c[t]=e,Du(n,t)}).oa(function(){r&&n.b--})},t.get=function(t){return Eu(this,function(e){return Nu(xu(Au(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.U=function(t){var e=this,n=!1;return Eu(this,function(r){return n=!0,e.b++,Nu(xu(Au(r,!0)).delete(t))}).then(function(){return delete e.c[t],Du(e,t)}).oa(function(){n&&e.b--})},t.ca=function(t){0==this.a.length&&function(t){Pu(t),function e(){t.f=setTimeout(function(){t.l=Ru(t).then(function(e){0<e.length&&W(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ia=function(t){J(this.a,function(e){return e==t}),0==this.a.length&&Pu(this)},(t=Lu.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.U=function(t){return this.b.then(function(e){return e.U(t)})},t.ca=function(t){this.a.push(t)},t.ia=function(t){J(this.a,function(e){return e==t})},(t=Mu.prototype).get=function(t){return Te(this.a[t])},t.set=function(t,e){return this.a[t]=e,Te()},t.U=function(t){return delete this.a[t],Te()},t.ca=function(){},t.ia=function(){},(t=Fu.prototype).get=function(t){var e=this;return Te().then(function(){return Fr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Te().then(function(){var r=Lr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return Te().then(function(){e.a.removeItem(t)})},t.ca=function(t){s.window&&cn(s.window,"storage",t)},t.ia=function(t){s.window&&fn(s.window,"storage",t)},(t=Uu.prototype).get=function(){return Te(null)},t.set=function(){return Te()},t.U=function(){return Te()},t.ca=function(){},t.ia=function(){},(t=qu.prototype).get=function(t){var e=this;return Te().then(function(){return Fr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Te().then(function(){var r=Lr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return Te().then(function(){e.a.removeItem(t)})},t.ca=function(){},t.ia=function(){};var Wu,zu,Ku={F:Fu,cb:qu},Gu={F:Fu,cb:qu},Qu={F:bu,cb:Uu},Yu={F:Fu,cb:Uu},Ju={rd:"local",NONE:"none",td:"session"};function Zu(){var t=!(Ur(Cr())||!wr()),e=Pr(),n=Ar();this.m=t,this.h=e,this.l=n,this.a={},Wu||(Wu=new Hu),t=Wu;try{this.g=!cr()&&zr()||!s.indexedDB?new t.a.F:new Lu(_r()?new Mu:new t.a.F)}catch(r){this.g=new Mu,this.h=!0}try{this.i=new t.a.cb}catch(r){this.i=new Mu}this.v=new Mu,this.f=_(this.Zb,this),this.b={}}function Xu(){return zu||(zu=new Zu),zu}function $u(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function tc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ec(t,e,n){return n=tc(e,n),"local"==e.F&&(t.b[n]=null),$u(t,e.F).U(n)}function nc(t){t.c&&(clearInterval(t.c),t.c=null)}function rc(t){this.a=t,this.b=Xu()}(t=Zu.prototype).get=function(t,e){return $u(this,t.F).get(tc(t,e))},t.set=function(t,e,n){var r=tc(t,n),i=this,o=$u(this,t.F);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.F&&(i.b[r]=e)})},t.addListener=function(t,e,n){t=tc(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),pt(this.a)&&($u(this,"local").ca(this.f),this.h||(cr()||!zr())&&s.indexedDB||!this.l||function(t){nc(t),t.c=setInterval(function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ze({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Zb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=tc(t,e),this.a[t]&&(J(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&($u(this,"local").ia(this.f),nc(this))},t.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?$u(this,"local").ia(this.f):nc(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.nb(e))},Yt&&ae&&10==ae&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else W(t,_(this.nb,this))},t.nb=function(t){this.a[t]&&W(this.a[t],function(t){t()})};var ic,oc={name:"authEvent",F:"local"};function ac(){this.a=Xu()}function sc(t,e){this.b=uc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===ic&&(ic=s.Int32Array?new Int32Array(vc):vc),this.reset()}j(sc,function(){this.b=-1});for(var uc=64,cc=uc-1,lc=[],hc=0;hc<cc;hc++)lc[hc]=0;var fc=Z(128,lc);function dc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|ic[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function pc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(dc(t),i=0);else{if(!d(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(dc(t),i=0)}}t.c=i,t.g+=n}sc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):X(this.h)};var vc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bc(){sc.call(this,8,yc)}j(bc,sc);var yc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function gc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new ac,this.g=new rc(this.h),this.f=null,this.b=[],this.a=this.c=null}function mc(t){return new I("invalid-cordova-configuration",t)}function wc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function _c(t){return t.f||(t.f=t.ma().then(function(){return new we(function(e){t.Ea(function n(r){return e(r),t.Ta(n),!1}),function(t){function e(e){r=!0,i&&i.cancel(),Oc(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=io(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Fr(Fn(o=Vn(i),"firebaseError")||null))?T(o):null)?new Uo(r.c,r.b,null,null,o,null,r.T()):new Uo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}wc(t,i)})}var n=new Uo("unknown",null,null,null,new I("no-auth-event")),r=!1,i=In(500).then(function(){return Oc(t).then(function(){r||wc(t,n)})}),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(xr("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Wo||(Wo=new Bo),function(t){var e=Wo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=xr("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)})})),t.f}function Oc(t){var e=null;return function(t){return t.b.get(oc,t.a).then(function(t){return qo(t)})}(t.g).then(function(n){return e=n,ec((n=t.g).b,oc,n.a)}).then(function(){return e})}function kc(t){this.a=t,this.b=Xu()}(t=gc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(mr(void 0)?gr().then(function(){return new we(function(t,e){var n=s.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):Ee(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof xr("universalLinks.subscribe",s))throw mc("cordova-universal-links-plugin-fix is not installed");if(void 0===xr("BuildInfo.packageName",s))throw mc("cordova-plugin-buildinfo is not installed");if("function"!=typeof xr("cordova.plugins.browsertab.openUrl",s))throw mc("cordova-plugin-browsertab is not installed");if("function"!=typeof xr("cordova.InAppBrowser.open",s))throw mc("cordova-plugin-inappbrowser is not installed")},function(){throw new I("cordova-not-ready")})},t.Pb=function(t,e){return e(new I("operation-not-supported-in-this-environment")),Te()},t.Nb=function(){return Ee(new I("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(t,e,n,r){if(this.c)return Ee(new I("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Te().then(function(){return Vo(e),_c(i)}).then(function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Uo(e,r,null,o,new I("no-auth-event"),null,i),u=xr("BuildInfo.packageName",s);if("string"!=typeof u)throw new I("invalid-cordova-configuration");var c=xr("BuildInfo.displayName",s),l={};if(Cr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Cr().toLowerCase().match(/android/))return Ee(new I("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(t){var e=new bc;pc(e,t),t=[];var n=8*e.g;pc(e,fc,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(dc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return K(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),l.sessionId=o;var h=vu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then(function(){var e=t.h;return t.C.a.set(oc,a.w(),e)}).then(function(){var e=xr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new I("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=xr("cordova.plugins.browsertab.openUrl",s)))throw new I("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=xr("cordova.InAppBrowser.open",s)))throw new I("invalid-cordova-configuration");e=Cr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new we(function(t,e){u=function(){var e=xr("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),l=function(){Hr()&&c()},o.addEventListener("resume",c=function(){a||(a=In(2e3).then(function(){e(new I("redirect-cancelled-by-user"))}))},!1),Cr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(t){return Oc(i).then(function(){throw t})})}).oa(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Ta(u),i.c=null})},t.Ea=function(t){this.b.push(t),_c(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Uo("unknown",null,null,null,new I("no-auth-event")),t(e))})},t.Ta=function(t){J(this.b,function(e){return e==t})};var jc={name:"pendingRedirect",F:"session"};function Sc(t){return ec(t.b,jc,t.a)}function Ic(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=_(this.s,this),this.b=new qc,this.C=new Kc,this.g=new kc(Vc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Tc(this.D,this.v,this.m,E,this.J)}function Tc(t,e,n,i,o){var a=r.a.SDK_VERSION||null;return mr()?new gc(t,e,n,a,i,o):new hu(t,e,n,a,i,o)}function Ec(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o(function(n){throw t.a==e&&t.reset(),n})}function Cc(t){t.a.Yb()&&Ec(t).o(function(e){var n=new Uo("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));Pc(e)&&t.s(n)}),t.a.Ub()||Bc(t.b)}function xc(t,e){Q(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(jc,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?Sc(t.g).then(function(){Ec(t).o(function(e){var n=new Uo("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));Pc(e)&&t.s(n)})}):Cc(t)}).o(function(){Cc(t)})}function Ac(t,e){J(t.h,function(t){return t==e})}Ic.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Tc(this.D,this.v,this.m,null,this.J),this.i={}},Ic.prototype.s=function(t){if(!t)throw new I("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Bc(this.b),e};var Nc=new Br(2e3,1e4),Dc=new Br(3e4,6e4);function Rc(t,e,n,r,i,o,a){return t.a.Nb(e,n,r,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},i,o,a)}function Pc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Lc(t,e,n,r,i){var o;return function(t){return t.b.set(jc,"pending",t.a)}(t.g).then(function(){return t.a.Ob(e,n,r,i).o(function(e){if(Pc(e))throw new I("operation-not-supported-in-this-environment");return o=e,Sc(t.g).then(function(){throw o})}).then(function(){return t.a.ac()?new we(function(){}):Sc(t.g).then(function(){return t.ra()}).then(function(){}).o(function(){})})})}function Mc(t,e,n,r,i){return t.a.Pb(r,function(t){e.na(n,null,t,i)},Nc.get())}Ic.prototype.ra=function(){return this.b.ra()};var Fc={};function Vc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Uc(t,e,n,r){var i=Vc(e,n,r);return Fc[i]||(Fc[i]=new Ic(t,e,n,r)),Fc[i]}function qc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Bc(t){t.g||(t.g=!0,zc(t,!1,null,null))}function Hc(t){t.g&&!t.i&&zc(t,!1,null,null)}function Wc(t,e){if(t.b=function(){return Te(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function zc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ee(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Wc(t,n):Wc(t,{user:null}),t.f=[],t.c=[]}function Kc(){}function Gc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function Qc(t,e){this.a=e,Jr(this,"verificationId",t)}function Yc(t,e,n,r){return new Lo(t).gb(e,n).then(function(t){return new Qc(t,r)})}function Jc(t){var e=Wi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new I("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Zr(this,{token:t,expirationTime:Wr(1e3*e.exp),authTime:Wr(1e3*e.auth_time),issuedAtTime:Wr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Zc(t,e,n){var r=e&&e[$c];if(!r)throw new I("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=vt(e),this.g=n,this.c=new oo(null,r),this.b=[];var i=this;W(e[Xc]||[],function(t){(t=ei(t))&&i.b.push(t)}),Jr(this,"auth",this.a),Jr(this,"session",this.c),Jr(this,"hints",this.b)}qc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},qc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(zc(this,!0,null,t.a),Te()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then(function(e){zc(t,s,e,null)}).o(function(e){zc(t,s,null,e)})}(this,t,e):Ee(new I("invalid-auth-event")):(zc(this,!1,null,null),Te())}else Ee(new I("invalid-auth-event"))},qc.prototype.ra=function(){var t=this;return new we(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new I("timeout");t.a&&t.a.cancel(),t.a=In(Dc.get()).then(function(){t.b||(t.g=!0,zc(t,!0,null,e))})}(t))})},Kc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Te()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then(function(t){e.na(r,t,null,n)}).o(function(t){e.na(r,null,t,n)})}(t,e):Ee(new I("invalid-auth-event"))}else Ee(new I("invalid-auth-event"))},Qc.prototype.confirm=function(t){return t=Mo(this.verificationId,t),this.a(t)};var Xc="mfaInfo",$c="mfaPendingCredential";function tl(t,e,n,r){I.call(this,"multi-factor-auth-required",r,e),this.b=new Zc(t,e,n),Jr(this,"resolver",this.b)}function el(t,e,n){if(t&&v(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new tl(e,t.serverResponse,n,t.message)}catch(r){}return null}function nl(){}function rl(t){Jr(this,"factorId",t.fa),this.a=t}function il(t){if(rl.call(this,t),this.a.fa!=Lo.PROVIDER_ID)throw new I("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ol(t,e){for(var n in Je.call(this,t),e)this[n]=e[n]}function al(t,e){this.a=t,this.b=[],this.c=_(this.yc,this),cn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&W(e.multiFactor.enrolledFactors,function(t){var e=null,r={};if(t){t.uid&&(r[ii]=t.uid),t.displayName&&(r[ni]=t.displayName),t.enrollmentTime&&(r[ri]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[oi]=t.phoneNumber);try{e=new ai(r)}catch(i){}t=e}else t=null;t&&n.push(t)}),sl(this,n)}function sl(t,e){t.b=e,Jr(t,"enrolledFactors",e)}function ul(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function cl(t,e){t.stop(),t.b=In(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then(function(){return function(){var t=s.document,e=null;return Hr()||!t?Te():new we(function(n){e=function(){Hr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return t.h()}).then(function(){cl(t,!0)}).o(function(e){t.i(e)&&cl(t,!1)})}function ll(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function hl(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function fl(t,e){t.b=Hi(e[Ja]||""),t.a=e.refreshToken,hl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function dl(t,e){this.a=t||null,this.b=e||null,Zr(this,{lastSignInTime:Wr(e||null),creationTime:Wr(t||null)})}function pl(t,e,n,r,i,o){Zr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function vl(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=r.a.SDK_VERSION?Er(r.a.SDK_VERSION):null;this.a=new Qa(this.l,N(E),i),(this.u=t.emulatorConfig||null)&&ns(this.a,this.u),this.h=new ll(this.a),jl(this,e[Ja]),fl(this.h,e),Jr(this,"refreshToken",this.h.a),Tl(this,n||{}),_n.call(this),this.P=!1,this.s&&Nr()&&(this.b=Uc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(t){return new ul(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0})}(this),this.ba=_(this.ib,this);var o=this;this.za=null,this.Pa=function(t){o.xa(t.h)},this.qa=null,this.Ba=function(t){bl(o,t.c)},this.$=null,this.aa=[],this.Oa=function(t){ml(o,t.f)},this.ja=null,this.S=new al(this,n),Jr(this,"multiFactor",this.S)}function bl(t,e){t.u=e,ns(t.a,e),t.b&&(e=t.b,t.b=Uc(t.s,t.l,t.m,t.u),t.P&&(Ac(e,t),xc(t.b,t)))}function yl(t,e){t.qa&&fn(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&cn(e,"languageCodeChanged",t.Pa)}function gl(t,e){t.$&&fn(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&cn(e,"emulatorConfigChanged",t.Ba)}function ml(t,e){t.aa=e,is(t.a,r.a.SDK_VERSION?Er(r.a.SDK_VERSION,t.aa):null)}function wl(t,e){t.ja&&fn(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&cn(e,"frameworkChanged",t.Oa)}function _l(t){try{return r.a.app(t.m).auth()}catch(e){throw new I("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Ol(t){t.J||t.D.b||(t.D.start(),fn(t,"tokenChanged",t.ba),cn(t,"tokenChanged",t.ba))}function kl(t){fn(t,"tokenChanged",t.ba),t.D.stop()}function jl(t,e){t.Aa=e,Jr(t,"_lat",e)}function Sl(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return xe(e).then(function(){return t})}function Il(t){t.b&&!t.P&&(t.P=!0,xc(t.b,t))}function Tl(t,e){Zr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new dl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function El(){}function Cl(t){return Te().then(function(){if(t.J)throw new I("app-deleted")})}function xl(t){return K(t.providerData,function(t){return t.providerId})}function Al(t,e){e&&(Nl(t,e.providerId),t.providerData.push(e))}function Nl(t,e){J(t.providerData,function(t){return t.providerId==e})}function Dl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Jr(t,e,n)}function Rl(t,e){t!=e&&(Zr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Jr(t,"metadata",e.metadata?function(t){return new dl(t.a,t.b)}(e.metadata):new dl),W(e.providerData,function(e){Al(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Jr(t,"refreshToken",t.h.a),sl(t.S,e.S.b))}function Pl(t){return t.I().then(function(e){var n=t.isAnonymous;return function(t,e){return tu(t.a,As,{idToken:e}).then(_(t.Kc,t))}(t,e).then(function(){return n||Dl(t,"isAnonymous",!1),e})})}function Ll(t,e){e[Ja]&&t.Aa!=e[Ja]&&(fl(t.h,e),t.dispatchEvent(new ol("tokenChanged")),jl(t,e[Ja]),Dl(t,"refreshToken",t.h.a))}function Ml(t,e){return Pl(t).then(function(){if(Q(xl(t),e))return Sl(t).then(function(){throw new I("provider-already-linked")})})}function Fl(t,e,n){return Xr({user:t,credential:Fo(e),additionalUserInfo:e=Yi(e),operationType:n})}function Vl(t,e){return Ll(t,e),t.reload().then(function(){return t})}function Ul(t,e,n,i,o){if(!Nr())return Ee(new I("operation-not-supported-in-this-environment"));if(t.i&&!o)return Ee(t.i);var a=Qi(n.providerId),s=Vr(t.uid+":::"),u=null;(!Pr()||wr())&&t.s&&n.isOAuthProvider&&(u=vu(t.s,t.l,t.m,e,n,null,s,r.a.SDK_VERSION||null,null,null,t.tenantId,t.u));var c=vr(u,a&&a.va,a&&a.ua);return i=i().then(function(){if(Bl(t),!o)return t.I().then(function(){})}).then(function(){return Rc(t.b,c,e,n,s,!!u,t.tenantId)}).then(function(){return new we(function(n,r){t.na(e,null,new I("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=Mc(t.b,t,e,c,s)})}).then(function(t){return c&&pr(c),t?Xr(t):null}).o(function(t){throw c&&pr(c),t}),Hl(t,i,o)}function ql(t,e,n,r,i){if(!Nr())return Ee(new I("operation-not-supported-in-this-environment"));if(t.i&&!i)return Ee(t.i);var o=null,a=Vr(t.uid+":::");return r=r().then(function(){if(Bl(t),!i)return t.I().then(function(){})}).then(function(){return t.ga=a,Sl(t)}).then(function(e){return t.ha&&(e=(e=t.ha).b.set(Kl,t.w(),e.a)),e}).then(function(){return Lc(t.b,e,n,a,t.tenantId)}).o(function(e){if(o=e,t.ha)return Gl(t.ha);throw o}).then(function(){if(o)throw o}),Hl(t,r,i)}function Bl(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new I("internal-error");throw new I("auth-domain-config-required")}}function Hl(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),Ee(t.i)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new ol("userInvalidated")),t.i=e),e})}(t,e,n);return t.N.push(r),r.oa(function(){Y(t.N,r)}),r.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=el(e.w(),_l(t),_(t.jc,t))),n||e})}function Wl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ja]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new vl(e,n,t);return t.providerData&&W(t.providerData,function(t){t&&Al(i,Xr(t))}),t.redirectEventId&&(i.ga=t.redirectEventId),i}function zl(t){this.a=t,this.b=Xu()}Zc.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then(function(t){var n=vt(e.f);return delete n[Xc],delete n[$c],yt(n,t),e.g(n)})},j(tl,I),nl.prototype.tb=function(t,e,n){return e.type==ao?function(t,e,n,r){return n.Ha().then(function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),yt(n,{phoneVerificationInfo:Po(t.a)}),tu(e,Cs,n)})}(this,t,e,n):function(t,e,n){return n.Ha().then(function(n){return yt(n={mfaPendingCredential:n},{phoneVerificationInfo:Po(t.a)}),tu(e,xs,n)})}(this,t,e)},j(rl,nl),j(il,rl),j(ol,Je),(t=al.prototype).yc=function(t){sl(this,function(t){var e=[];return W(t.mfaInfo||[],function(t){(t=ei(t))&&e.push(t)}),e}(t.hd))},t.Sb=function(){return this.a.I().then(function(t){return new oo(t,null)})},t.fc=function(t,e){var n=this,r=this.a.a;return this.Sb().then(function(n){return t.tb(r,n,e)}).then(function(t){return Ll(n.a,t),n.a.reload()})},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then(function(t){return tu(r,$s,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var r=z(e.b,function(t){return t.uid!=n});return sl(e,r),Ll(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},t.w=function(){return{multiFactor:{enrolledFactors:K(this.b,function(t){return t.w()})}}},ul.prototype.start=function(){this.a=this.c,cl(this,!0)},ul.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ll.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},ll.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ee(new I("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new we(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?os(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?r(nu(t)):t.access_token&&t.refresh_token?n(t):r(new I("internal-error")):r(new I("network-request-failed"))},"POST",Zn(e).toString(),t.g,t.m.get()):r(new I("internal-error"))})}(t.f,e).then(function(e){return t.b=Hi(e.access_token),t.a=e.refresh_token,hl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Te(null):Te({accessToken:this.b.toString(),refreshToken:this.a})},dl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},j(vl,_n),vl.prototype.xa=function(t){this.za=t,es(this.a,t)},vl.prototype.la=function(){return this.za},vl.prototype.Ga=function(){return X(this.aa)},vl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Jr(vl.prototype,"providerId","firebase"),(t=vl.prototype).reload=function(){var t=this;return Hl(this,Cl(this).then(function(){return Pl(t).then(function(){return Sl(t)}).then(El)}))},t.oc=function(t){return this.I(t).then(function(t){return new Jc(t)})},t.I=function(t){var e=this;return Hl(this,Cl(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new I("internal-error");return t.accessToken!=e.Aa&&(jl(e,t.accessToken),e.dispatchEvent(new ol("tokenChanged"))),Dl(e,"refreshToken",t.refreshToken),t.accessToken}))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new I("internal-error");Tl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?K(t,function(t){return new pl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Al(this,e[n]);Dl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ol("userReloaded",{hd:t}))},t.Lc=function(t){return Qr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},t.ub=function(t){var e=this,n=null;return Hl(this,t.c(this.a,this.uid).then(function(t){return Ll(e,t),n=Fl(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},t.Cc=function(t){return Qr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},t.rb=function(t){var e=this,n=null;return Hl(this,Ml(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=Fl(e,t,"link"),Vl(e,t)}).then(function(){return n}))},t.Dc=function(t,e){var n=this;return Hl(this,Ml(this,"phone").then(function(){return Yc(_l(n),t,e,_(n.rb,n))}))},t.Mc=function(t,e){var n=this;return Hl(this,Te().then(function(){return Yc(_l(n),t,e,_(n.ub,n))}),!0)},t.Cb=function(t){var e=this;return Hl(this,this.I().then(function(n){return e.a.Cb(n,t)}).then(function(t){return Ll(e,t),e.reload()}))},t.ed=function(t){var e=this;return Hl(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return Ll(e,t),e.reload()}))},t.Db=function(t){var e=this;return Hl(this,this.I().then(function(n){return e.a.Db(n,t)}).then(function(t){return Ll(e,t),e.reload()}))},t.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Cl(this);var e=this;return Hl(this,this.I().then(function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Ll(e,t),Dl(e,"displayName",t.displayName||null),Dl(e,"photoURL",t.photoUrl||null),W(e.providerData,function(t){"password"===t.providerId&&(Jr(t,"displayName",e.displayName),Jr(t,"photoURL",e.photoURL))}),Sl(e)}).then(El))},t.cd=function(t){var e=this;return Hl(this,Pl(this).then(function(n){return Q(xl(e),t)?function(t,e,n){return tu(t,Is,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return W(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),W(xl(e),function(t){n[t]||Nl(e,t)}),n[Lo.PROVIDER_ID]||Jr(e,"phoneNumber",null),Sl(e)}):Sl(e).then(function(){throw new I("no-such-provider")})}))},t.delete=function(){var t=this;return Hl(this,this.I().then(function(e){return tu(t.a,Ss,{idToken:e})}).then(function(){t.dispatchEvent(new ol("userDeleted"))})).then(function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");yl(t,null),gl(t,null),wl(t,null),t.N=[],t.J=!0,kl(t),Jr(t,"refreshToken",null),t.b&&Ac(t.b,t)})},t.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?_(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?_(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?_(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?_(this.Mb,this):null},t.Ec=function(t){var e=this;return Ul(this,"linkViaPopup",t,function(){return Ml(e,t.providerId).then(function(){return Sl(e)})},!1)},t.Nc=function(t){return Ul(this,"reauthViaPopup",t,function(){return Te()},!0)},t.Fc=function(t){var e=this;return ql(this,"linkViaRedirect",t,function(){return Ml(e,t.providerId)},!1)},t.Oc=function(t){return ql(this,"reauthViaRedirect",t,function(){return Te()},!0)},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Hl(this,this.I().then(function(n){return gs(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=Fl(i,t,"link"),Vl(i,t)}).then(function(){return o}))},t.Mb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Hl(this,Te().then(function(){return co(ms(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=Fl(i,t,"reauthenticate"),Ll(i,t),i.i=null,i.reload()}).then(function(){return o}),!0)},t.vb=function(t){var e=this,n=null;return Hl(this,this.I().then(function(e){return n=e,void 0===t||pt(t)?{}:Ui(new xi(t))}).then(function(t){return e.a.vb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.Fb=function(t,e){var n=this,r=null;return Hl(this,this.I().then(function(t){return r=t,void 0===e||pt(e)?{}:Ui(new xi(e))}).then(function(e){return n.a.Fb(r,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.jc=function(t){var e=null,n=this;return Hl(this,t=co(Te(t),n.uid).then(function(t){return e=Fl(n,t,"reauthenticate"),Ll(n,t),n.i=null,n.reload()}).then(function(){return e}),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&yt(t,this.metadata.w()),W(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),yt(t,this.S.w()),t};var Kl={name:"redirectUser",F:"session"};function Gl(t){return ec(t.b,Kl,t.a)}function Ql(t){this.a=t,this.b=Xu(),this.c=null,this.f=function(t){var e=Zl("local"),n=Zl("session"),r=Zl("none");return function(t,e,n){var r=tc(e,n),i=$u(t,e.F);return t.get(e,n).then(function(o){var a=null;try{a=Fr(s.localStorage.getItem(r))}catch(u){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Jl,t.a).then(function(t){return t?Zl(t):e})})})}).then(function(e){return t.c=e,Yl(t,e.F)}).o(function(){t.c||(t.c=e)})}(this),this.b.addListener(Zl("local"),this.a,_(this.g,this))}function Yl(t,e){var n,r=[];for(n in Ju)Ju[n]!==e&&r.push(ec(t.b,Zl(Ju[n]),t.a));return r.push(ec(t.b,Jl,t.a)),function(t){return new we(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Ce(t[s],O(o,s),a);else e(i)})}(r)}Ql.prototype.g=function(){var t=this,e=Zl("local");eh(this,function(){return Te().then(function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null}).then(function(n){if(n)return Yl(t,"local").then(function(){t.c=e})})})};var Jl={name:"persistence",F:"session"};function Zl(t){return{name:"authUser",F:t}}function Xl(t,e){return eh(t,function(){return t.b.set(t.c,e.w(),t.a)})}function $l(t){return eh(t,function(){return ec(t.b,t.c,t.a)})}function th(t,e,n){return eh(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Wl(t||{})})})}function eh(t,e){return t.f=t.f.then(e,e),t.f}function nh(t){if(this.l=!1,Jr(this,"settings",new Gc),Jr(this,"app",t),!lh(this).options||!lh(this).options.apiKey)throw new I("invalid-api-key");t=r.a.SDK_VERSION?Er(r.a.SDK_VERSION):null,this.a=new Qa(lh(this).options&&lh(this).options.apiKey,N(E),t),this.P=[],this.s=[],this.N=[],this.Pa=r.a.INTERNAL.createSubscribe(_(this.zc,this)),this.W=void 0,this.ib=r.a.INTERNAL.createSubscribe(_(this.Ac,this)),uh(this,null),this.i=new Ql(lh(this).options.apiKey+":"+lh(this).name),this.D=new zl(lh(this).options.apiKey+":"+lh(this).name),this.$=ph(this,function(t){var e=lh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Kl,t.a).then(function(t){return t&&e&&(t.authDomain=e),Wl(t||{})})}(t.D,lh(t).options.authDomain).then(function(e){return(t.m=e)&&(e.ha=t.D),Gl(t.D)});return ph(t,e)}(t).then(function(){return th(t.i,e,t.R)}).then(function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then(function(){return Xl(t.i,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:$l(t.i)})):null}).then(function(e){uh(t,e||null)});return ph(t,n)}(this)),this.h=ph(this,function(t){return t.$.then(function(){return sh(t)}).o(function(){}).then(function(){if(!t.l)return t.ja()}).o(function(){}).then(function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Zl("local"),e.a,t.ja)}})}(this)),this.ba=!1,this.ja=_(this.Zc,this),this.Ba=_(this.da,this),this.qa=_(this.mc,this),this.za=_(this.wc,this),this.Aa=_(this.xc,this),this.b=null,function(t){var e=lh(t).options.authDomain,n=lh(t).options.apiKey;e&&Nr()&&(t.Oa=t.$.then(function(){if(!t.l){if(t.b=Uc(e,n,lh(t).name,t.R),xc(t.b,t),hh(t)&&Il(hh(t)),t.m){Il(t.m);var r=t.m;r.xa(t.la()),yl(r,t),ml(r=t.m,t.J),wl(r,t),bl(r=t.m,t.R),gl(r,t),t.m=null}return t.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.Gc,this),this.u=0,_n.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=Vn(this.R.url);t=Xr({protocol:t.c,host:t.a,port:t.g,options:Xr({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.R=null}function rh(t){Je.call(this,"languageCodeChanged"),this.h=t}function ih(t){Je.call(this,"emulatorConfigChanged"),this.c=t}function oh(t){Je.call(this,"frameworkChanged"),this.f=t}function ah(t){return t.Oa||Ee(new I("auth-domain-config-required"))}function sh(t){if(!Nr())return Ee(new I("operation-not-supported-in-this-environment"));var e=ah(t).then(function(){return t.b.ra()}).then(function(t){return t?Xr(t):null});return ph(t,e)}function uh(t,e){hh(t)&&(function(t,e){J(t.W,function(t){return t==e})}(hh(t),t.Ba),fn(hh(t),"tokenChanged",t.qa),fn(hh(t),"userDeleted",t.za),fn(hh(t),"userInvalidated",t.Aa),kl(hh(t))),e&&(e.W.push(t.Ba),cn(e,"tokenChanged",t.qa),cn(e,"userDeleted",t.za),cn(e,"userInvalidated",t.Aa),0<t.u&&Ol(e)),Jr(t,"currentUser",e),e&&(e.xa(t.la()),yl(e,t),ml(e,t.J),wl(e,t),bl(e,t.R),gl(e,t))}function ch(t,e){var n=null,r=null;return ph(t,e.then(function(e){return n=Fo(e),r=Yi(e),function(t,e){var n={};return n.apiKey=lh(t).options.apiKey,n.authDomain=lh(t).options.authDomain,n.appName=lh(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then(function(){return function(t,e,n,r){var i=new vl(t,e);return n&&(i.ha=n),r&&ml(i,r),i.reload().then(function(){return i})}(n,e,t.D,t.Ga())}).then(function(e){return hh(t)&&e.uid==hh(t).uid?(Rl(hh(t),e),t.da(e)):(uh(t,e),Il(e),t.da(e))}).then(function(){dh(t)})}(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=el(e.w(),t,_(t.kc,t))),n||e}).then(function(){return Xr({user:hh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function lh(t){return t.app}function hh(t){return t.currentUser}function fh(t){return hh(t)&&hh(t)._lat||null}function dh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](fh(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](fh(t))}}function ph(t,e){return t.P.push(e),e.oa(function(){Y(t.P,e)}),e}function vh(){}function bh(){this.a={},this.b=1e12}Ql.prototype.yb=function(t){var e=null,n=this;return function(t){var e=new I("invalid-persistence-type"),n=new I("unsupported-persistence-type");t:{for(r in Ju)if(Ju[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Or()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Cu()&&"none"!==t)throw n;break;default:if(!Ar()&&"none"!==t)throw n}}(t),eh(this,function(){return t!=n.c.F?n.b.get(n.c,n.a).then(function(r){return e=r,Yl(n,t)}).then(function(){if(n.c=Zl(t),e)return n.b.set(n.c,e,n.a)}):Te()})},j(nh,_n),j(rh,Je),j(ih,Je),j(oh,Je),(t=nh.prototype).yb=function(t){return ph(this,t=this.i.yb(t))},t.xa=function(t){this.aa===t||this.l||(this.aa=t,es(this.a,this.aa),this.dispatchEvent(new rh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=s.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new I("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&gr().then(function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)})})(e=!!e&&!!e.disableWarnings),this.R={url:t,ec:e},this.settings.jb=!0,ns(this.a,this.R),this.dispatchEvent(new ih(this.R))}},t.Gc=function(t){this.J.push(t),is(this.a,r.a.SDK_VERSION?Er(r.a.SDK_VERSION,this.J):null),this.dispatchEvent(new oh(this.J))},t.Ga=function(){return X(this.J)},t.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:lh(this).options.apiKey,authDomain:lh(this).options.authDomain,appName:lh(this).name,currentUser:hh(this)&&hh(this).w()}},t.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?_(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return ch(i,ys(i.a,o))})},t.Xc=function(t){if(!Nr())return Ee(new I("operation-not-supported-in-this-environment"));var e=this,n=Qi(t.providerId),i=Vr(),o=null;(!Pr()||wr())&&lh(this).options.authDomain&&t.isOAuthProvider&&(o=vu(lh(this).options.authDomain,lh(this).options.apiKey,lh(this).name,"signInViaPopup",t,null,i,r.a.SDK_VERSION||null,null,null,this.T(),this.R));var a=vr(o,n&&n.va,n&&n.ua);return ph(this,n=ah(this).then(function(n){return Rc(n,a,"signInViaPopup",t,i,!!o,e.T())}).then(function(){return new we(function(t,n){e.na("signInViaPopup",null,new I("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=i,e.c=Mc(e.b,e,"signInViaPopup",a,i)})}).then(function(t){return a&&pr(a),t?Xr(t):null}).o(function(t){throw a&&pr(a),t}))},t.Yc=function(t){if(!Nr())return Ee(new I("operation-not-supported-in-this-environment"));var e=this;return ph(this,ah(this).then(function(){return function(t){return eh(t,function(){return t.b.set(Jl,t.c.F,t.a)})}(e.i)}).then(function(){return Lc(e.b,"signInViaRedirect",t,void 0,e.T())}))},t.ra=function(){var t=this;return sh(this).then(function(e){return t.b&&Hc(t.b.b),e}).o(function(e){throw t.b&&Hc(t.b.b),e})},t.dd=function(t){if(!t)return Ee(new I("null-user"));if(this.S!=t.tenantId)return Ee(new I("tenant-id-mismatch"));var e=this,n={};n.apiKey=lh(this).options.apiKey,n.authDomain=lh(this).options.authDomain,n.appName=lh(this).name;var r=function(t,e,n,r){var i=t.h,o={};return o[Ja]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new vl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&ml(e,r),Rl(e,t),e}(t,n,e.D,e.Ga());return ph(this,this.h.then(function(){if(lh(e).options.apiKey!=t.l)return r.reload()}).then(function(){return hh(e)&&t.uid==hh(e).uid?(Rl(hh(e),t),e.da(t)):(uh(e,r),Il(r),e.da(r))}).then(function(){dh(e)}))},t.Bb=function(){var t=this;return ph(this,this.h.then(function(){return t.b&&Hc(t.b.b),hh(t)?(uh(t,null),$l(t.i).then(function(){dh(t)})):Te()}))},t.Zc=function(){var t=this;return th(this.i,lh(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=hh(t)&&e){n=hh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Rl(hh(t),e),hh(t).I();(hh(t)||e)&&(uh(t,e),e&&(Il(e),e.ha=t.D),t.b&&xc(t.b,t),dh(t))}})},t.da=function(t){return Xl(this.i,t)},t.mc=function(){dh(this),this.da(hh(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()},t.kc=function(t){var e=this;return this.h.then(function(){return ch(e,Te(t))})},t.zc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(hh(e))})},t.Ac=function(t){var e=this;!function(t,e){t.N.push(e),ph(t,t.h.then(function(){!t.l&&Q(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(fh(t)))}))}(this,function(){t.next(hh(e))})},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(hh(r)):"function"==typeof t.next&&t.next(hh(r))}),this.Pa(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.W=r.getUid(),"function"==typeof t?t(hh(r)):"function"==typeof t.next&&t.next(hh(r))}),this.ib(t,e,n)},t.nc=function(t){var e=this;return ph(this,this.h.then(function(){return hh(e)?hh(e).I(t).then(function(t){return{accessToken:t}}):null}))},t.Tc=function(t){var e=this;return this.h.then(function(){return ch(e,tu(e.a,Qs,{token:t}))}).then(function(t){var n=t.user;return Dl(n,"isAnonymous",!1),e.da(n),t})},t.Uc=function(t,e){var n=this;return this.h.then(function(){return ch(n,tu(n.a,Ys,{email:t,password:e}))})},t.dc=function(t,e){var n=this;return this.h.then(function(){return ch(n,tu(n.a,ks,{email:t,password:e}))})},t.ab=function(t){var e=this;return this.h.then(function(){return ch(e,t.ka(e.a))})},t.Sc=function(t){return Qr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},t.Ab=function(){var t=this;return this.h.then(function(){var e=hh(t);if(e&&e.isAnonymous){var n=Xr({providerId:null,isNewUser:!1});return Xr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return ch(t,t.a.Ab()).then(function(e){var n=e.user;return Dl(n,"isAnonymous",!0),t.da(n),e})})},t.getUid=function(){return hh(this)&&hh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&hh(this)&&Ol(hh(this))},t.Pc=function(t){var e=this;W(this.s,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&hh(this)&&kl(hh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),ph(this,this.h.then(function(){e.l||Q(e.s,t)&&t(fh(e))}))},t.removeAuthTokenListener=function(t){J(this.s,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Zl("local"),t.a,this.ja),this.b&&(Ac(this.b,this),Hc(this.b.b)),Promise.resolve()},t.hc=function(t){return ph(this,function(t,e){return tu(t,js,{identifier:e,continueUri:Dr()?lr():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.a,t))},t.Bc=function(t){return!!No(t)},t.xb=function(t,e){var n=this;return ph(this,Te().then(function(){var t=new xi(e);if(!t.c)throw new I("argument-error",Di+" must be true when sending sign in link to email");return Ui(t)}).then(function(e){return n.a.xb(t,e)}).then(function(){}))},t.jd=function(t){return this.Sa(t).then(function(t){return t.data.email})},t.ob=function(t,e){return ph(this,this.a.ob(t,e).then(function(){}))},t.Sa=function(t){return ph(this,this.a.Sa(t).then(function(t){return new si(t)}))},t.kb=function(t){return ph(this,this.a.kb(t).then(function(){}))},t.wb=function(t,e){var n=this;return ph(this,Te().then(function(){return void 0===e||pt(e)?{}:Ui(new xi(e))}).then(function(e){return n.a.wb(t,e)}).then(function(){}))},t.Wc=function(t,e){return ph(this,Yc(this,t,e,_(this.ab,this)))},t.Vc=function(t,e){var n=this;return ph(this,Te().then(function(){var r=e||lr(),i=Ao(t,r);if(!(r=No(r)))throw new I("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new I("tenant-id-mismatch");return n.ab(i)}))},vh.prototype.render=function(){},vh.prototype.reset=function(){},vh.prototype.getResponse=function(){},vh.prototype.execute=function(){};var yh=null;function gh(t,e){return(e=mh(e))&&t.a[e]||null}function mh(t){return(t=void 0===t?1e12:t)?t.toString():null}function wh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ue(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():cn(this.f,"click",this.i)}function _h(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Oh(){}function kh(){}bh.prototype.render=function(t,e){return this.a[this.b.toString()]=new wh(t,e),this.b++},bh.prototype.reset=function(t){var e=gh(this,t);t=mh(t),e&&t&&(e.delete(),delete this.a[t])},bh.prototype.getResponse=function(t){return(t=gh(this,t))?t.getResponse():null},bh.prototype.execute=function(t){(t=gh(this,t))&&t.execute()},wh.prototype.getResponse=function(){return _h(this),this.b},wh.prototype.execute=function(){_h(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},wh.prototype.delete=function(){_h(this),this.g=!0,clearTimeout(this.a),this.a=null,fn(this.f,"click",this.i)},Jr(Oh,"FACTOR_ID","phone"),kh.prototype.g=function(){return yh||(yh=new bh),Te(yh)},kh.prototype.c=function(){};var jh=null;function Sh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ih=new mt(kt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Th=new Br(3e4,6e4);Sh.prototype.g=function(t){var e=this;return new we(function(n,r){var i=setTimeout(function(){r(new I("network-request-failed"))},Th.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new I("internal-error"));delete s[e.a]},Te(qa(Tt(Ih,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(i),r(new I("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(s.grecaptcha))})},Sh.prototype.c=function(){this.b--};var Eh=null;function Ch(t,e,n,r,i,o,a){if(Jr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,a?(jh||(jh=new kh),a=jh):(Eh||(Eh=new Sh),a=Eh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Nh])throw new I("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Dh],!s.document)throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ue(e)||!this.i&&ue(e).hasChildNodes())throw new I("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Qa(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[xh];this.a[xh]=function(t){if(Rh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=xr(c,s);"function"==typeof e&&e(t)}};var l=this.a[Ah];this.a[Ah]=function(){if(Rh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=xr(l,s);"function"==typeof t&&t()}}}var xh="callback",Ah="expired-callback",Nh="sitekey",Dh="size";function Rh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Ph(t,e){return t.h.push(e),e.oa(function(){Y(t.h,e)}),e}function Lh(t){if(t.J)throw new I("internal-error","RecaptchaVerifier instance has been destroyed.")}function Mh(t,e,n){var i=!1;try{this.b=n||r.a.app()}catch(s){throw new I("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new I("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=r.a.SDK_VERSION?Er(r.a.SDK_VERSION,a):null,Ch.call(this,n,t,e,function(){try{var t=o.b.auth().la()}catch(e){t=null}return t},a,N(E),i)}function Fh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new I("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Vh.length)throw new I("internal-error","Argument validator received an unsupported number of arguments.");n=Vh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new I("argument-error",t+" failed: "+r)}(t=Ch.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Ph(this,Te().then(function(){if(Dr()&&!_r())return gr();throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.u())}).then(function(e){return t.g=e,tu(t.s,Ms,{})}).then(function(e){t.a[Nh]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},t.render=function(){Lh(this);var t=this;return Ph(this,this.Ia().then(function(){if(null===t.c){var e=t.v;if(!t.i){var n=ue(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!se&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Wt(a.name),'"'),a.type){o.push(' type="',Wt(a.type),'"');var s={};yt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=pe(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ce(o,a)),2<r.length&&de(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Lh(this);var t=this;return Ph(this,this.render().then(function(e){return new we(function(n){var r=t.g.getResponse(e);r?n(r):(t.l.push(function e(r){r&&(function(t,e){J(t.l,function(t){return t==e})}(t,e),n(r))}),t.i&&t.g.execute(t.c))})}))},t.reset=function(){Lh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Lh(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ue(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},j(Mh,Ch);var Vh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Uh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function qh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Bh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:v}}function Hh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Wh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function zh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ka||t&&e.providerId!==t)}}}function Kh(t,e){return v(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Gh(t){return v(t)&&"string"==typeof t.uid}function Qh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Yh(t,e){for(var n in e){var r=e[n].name;t[r]=Xh(r,t[n],e[n].j)}}function Jh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:O(function(t){return this[t]},n),set:O(function(t,e,n,r){Fh(t,[n],[r],!0),this[e]=r},r,n,e[n].lb),enumerable:!0})}}function Zh(t,e,n,r){t[e]=Xh(e,n,r)}function Xh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Fh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Yh(nh.prototype,{kb:{name:"applyActionCode",j:[Uh("code")]},Sa:{name:"checkActionCode",j:[Uh("code")]},ob:{name:"confirmPasswordReset",j:[Uh("code"),Uh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Uh("email"),Uh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Uh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Uh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Qh(Bh(),Hh(),"nextOrObserver"),Hh("opt_error",!0),Hh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Qh(Bh(),Hh(),"nextOrObserver"),Hh("opt_error",!0),Hh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Uh("email"),Qh(Bh("opt_actionCodeSettings",!0),Wh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Uh("email"),Bh("actionCodeSettings")]},yb:{name:"setPersistence",j:[Uh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[zh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[zh()]},Tc:{name:"signInWithCustomToken",j:[Uh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Uh("email"),Uh("password")]},Vc:{name:"signInWithEmailLink",j:[Uh("email"),Uh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Uh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Qh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof vl)}},Wh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Uh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Uh("url"),Bh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Uh("code")]}}),Jh(nh.prototype,{lc:{name:"languageCode",lb:Qh(Uh(),Wh(),"languageCode")},ti:{name:"tenantId",lb:Qh(Uh(),Wh(),"tenantId")}}),(nh.Persistence=Ju).LOCAL="local",nh.Persistence.SESSION="session",nh.Persistence.NONE="none",Yh(vl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[qh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[qh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[zh()]},rb:{name:"linkWithCredential",j:[zh()]},Dc:{name:"linkWithPhoneNumber",j:[Uh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[zh()]},ub:{name:"reauthenticateWithCredential",j:[zh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Uh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Qh(Bh("opt_actionCodeSettings",!0),Wh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Uh(null,!0)]},cd:{name:"unlink",j:[Uh("provider")]},Cb:{name:"updateEmail",j:[Uh("email")]},Db:{name:"updatePassword",j:[Uh("password")]},ed:{name:"updatePhoneNumber",j:[zh("phone")]},Eb:{name:"updateProfile",j:[Bh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Uh("email"),Qh(Bh("opt_actionCodeSettings",!0),Wh(null,!0),"opt_actionCodeSettings",!0)]}}),Yh(bh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Yh(vh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Yh(we.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Jh(Gc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:qh("appVerificationDisabledForTesting")}}),Yh(Qc.prototype,{confirm:{name:"confirm",j:[Uh("verificationCode")]}}),Zh(uo,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[bo,Co,Ro,fo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[Qh(Uh(),Bh(),"json")]),Zh(xo,"credential",function(t,e){return new Eo(t,e)},[Uh("email"),Uh("password")]),Yh(Eo.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Yh(wo.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},Ka:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Zh(wo,"credential",_o,[Qh(Uh(),Bh(),"token")]),Zh(xo,"credentialWithLink",Ao,[Uh("email"),Uh("emailLink")]),Yh(Oo.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},Ka:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Zh(Oo,"credential",ko,[Qh(Uh(),Bh(),"token")]),Yh(jo.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},Ka:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Zh(jo,"credential",So,[Qh(Uh(),Qh(Bh(),Wh()),"idToken"),Qh(Uh(),Wh(),"accessToken",!0)]),Yh(Io.prototype,{Ka:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Zh(Io,"credential",To,[Qh(Uh(),Bh(),"token"),Uh("secret",!0)]),Yh(mo.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},credential:{name:"credential",j:[Qh(Uh(),Qh(Bh(),Wh()),"optionsOrIdToken"),Qh(Uh(),Wh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Yh(po.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Yh(lo.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Zh(Lo,"credential",Mo,[Uh("verificationId"),Uh("verificationCode")]),Yh(Lo.prototype,{gb:{name:"verifyPhoneNumber",j:[Qh(Uh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Kh(t.session,ao)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Kh(t.session,so)&&Gh(t.multiFactorHint):t.session&&t.multiFactorUid?Kh(t.session,so)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Yh(Do.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Yh(I.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Yh(Ko.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Yh(zo.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Yh(tl.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Yh(Zc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}]}}),Yh(al.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}},Uh("displayName",!0)]},bd:{name:"unenroll",j:[Qh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Gh},Uh(),"multiFactorInfoIdentifier")]}}),Yh(Mh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Zh(_i,"parseLink",Ci,[Uh("link")]),Zh(Oh,"assertion",function(t){return new il(t)},[zh("phone")]),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ci,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ui,VERIFY_AND_CHANGE_EMAIL:li,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:nh,AuthCredential:uo,Error:I};Zh(t,"EmailAuthProvider",xo,[]),Zh(t,"FacebookAuthProvider",wo,[]),Zh(t,"GithubAuthProvider",Oo,[]),Zh(t,"GoogleAuthProvider",jo,[]),Zh(t,"TwitterAuthProvider",Io,[]),Zh(t,"OAuthProvider",mo,[Uh("providerId")]),Zh(t,"SAMLAuthProvider",go,[Uh("providerId")]),Zh(t,"PhoneAuthProvider",Lo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof nh)}}]),Zh(t,"RecaptchaVerifier",Mh,[Qh(Uh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Bh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof r.a.app.App)}}]),Zh(t,"ActionCodeURL",_i,[]),Zh(t,"PhoneMultiFactorGenerator",Oh,[]),r.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new nh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),r.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:_((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:_(t.nc,t),addAuthTokenListener:_(t.cc,t),removeAuthTokenListener:_(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.a.registerVersion("@firebase/auth","0.16.8"),r.a.INTERNAL.extendNamespace({User:vl})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},"7HRe":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("quSY"),o=n("kJWO"),a=n("jZKg"),s=n("Lhse"),u=n("c2HN"),c=n("I55L");function l(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(function(n){var r=new i.a;return r.add(e.schedule(function(){var i=t[o.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})}(t,e);if(Object(u.a)(t))return function(t,e){return new r.a(function(n){var r=new i.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r})}(t,e);if(Object(c.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[s.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(function(n){var r,o=new i.a;return o.add(function(){r&&"function"==typeof r.return&&r.return()}),o.add(e.schedule(function(){r=t[s.a](),o.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),o})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",function(){return b}),n.d(e,"a",function(){return y});var r=n("1OyB"),i=n("vuIU"),o=n("ReuC"),a=n("foSv"),s=n("Ji7U"),u=n("LK+K"),c=1,l=function(){return Promise.resolve()}(),h={};function f(t){return t in h&&(delete h[t],!0)}var d=function(t){var e=c++;return h[e]=!0,l.then(function(){return f(e)&&t()}),e},p=function(t){f(t)},v=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t,i){var o;return Object(r.a)(this,n),(o=e.call(this,t,i)).scheduler=t,o.work=i,o}return Object(i.a)(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?Object(o.a)(Object(a.a)(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=d(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return Object(o.a)(Object(a.a)(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(p(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),b=new(function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(v),y=b},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return b});var r=n("1OyB"),i=n("vuIU"),o=n("JX7q"),a=n("ReuC"),s=n("foSv"),u=n("Ji7U"),c=n("LK+K"),l=n("n6bG"),h=n("gRHU"),f=n("quSY"),d=n("2QA8"),p=n("2fFW"),v=n("NJ4a"),b=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,i,a){var s;switch(Object(r.a)(this,n),(s=e.call(this)).syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=h.a;break;case 1:if(!t){s.destination=h.a;break}if("object"==typeof t){t instanceof n?(s.syncErrorThrowable=t.syncErrorThrowable,s.destination=t,t.add(Object(o.a)(s))):(s.syncErrorThrowable=!0,s.destination=new y(Object(o.a)(s),t));break}default:s.syncErrorThrowable=!0,s.destination=new y(Object(o.a)(s),t,i,a)}return s}return Object(i.a)(n,[{key:d.a,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,Object(a.a)(Object(s.a)(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(f.a),y=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,i,a,s){var u,c;Object(r.a)(this,n),(u=e.call(this))._parentSubscriber=t;var f=Object(o.a)(u);return Object(l.a)(i)?c=i:i&&(c=i.next,a=i.error,s=i.complete,i!==h.a&&(f=Object.create(i),Object(l.a)(f.unsubscribe)&&u.add(f.unsubscribe.bind(f)),f.unsubscribe=u.unsubscribe.bind(Object(o.a)(u)))),u._context=f,u._next=c,u._error=a,u._complete=s,u}return Object(i.a)(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;p.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=p.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(v.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(v.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};p.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),p.a.useDeprecatedSynchronousErrorHandling)throw n;Object(v.a)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!p.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return p.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(v.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(b)},"7wxJ":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("itXk");function i(t){return function(e){return e.lift(new r.a(t))}}},"8Qeq":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof r.a?e:null}return!0}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},ADT6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("kU1M");e.filter=function(t,e){return r.filter(t,e)(this)}},BFxc:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("Ji7U"),i=n("LK+K"),o=n("1OyB"),a=n("vuIU"),s=n("7o/Q"),u=n("4I5i"),c=n("EY2u");function l(t){return function(e){return 0===t?Object(c.b)():e.lift(new h(t))}}var h=function(){function t(e){if(Object(o.a)(this,t),this.total=e,this.total<0)throw new u.a}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new f(t,this.total))}}]),t}(),f=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r){var i;return Object(o.a)(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return Object(a.a)(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(s.a)},BsWD:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("a3WO");function i(t,e){if(t){if("string"==typeof t)return Object(r.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(t,e):void 0}}},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("SeVD"),o=n("7HRe");function a(t,e){return e?Object(o.a)(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a"),i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}()},DSFK:function(t,e,n){"use strict";function r(t){if(Array.isArray(t))return t}n.d(e,"a",function(){return r})},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return d}),n.d(e,"b",function(){return p});var r=n("ReuC"),i=n("foSv"),o=n("1OyB"),a=n("vuIU"),s=n("Ji7U"),u=n("LK+K"),c=n("XNiG"),l=n("HDdC"),h=(n("7o/Q"),n("quSY")),f=n("x+ZX"),d=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t,r){var i;return Object(o.a)(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return Object(a.a)(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new h.a).add(this.source.subscribe(new v(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.a.EMPTY)),t}},{key:"refCount",value:function(){return Object(f.a)()(this)}}]),n}(l.a),p=function(){var t=d.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),v=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t,r){var i;return Object(o.a)(this,n),(i=e.call(this,t)).connectable=r,i}return Object(a.a)(n,[{key:"_error",value:function(t){this._unsubscribe(),Object(r.a)(Object(i.a)(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),Object(r.a)(Object(i.a)(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(c.b)},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC"),i=new r.a(function(t){return t.complete()});function o(t){return t?function(t){return new r.a(function(e){return t.schedule(function(){return e.complete()})})}(t):i}},"F97/":function(t,e,n){"use strict";function r(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}n.d(e,"a",function(){return r})},GyhO:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("LRne"),i=n("0EUg");function o(){return Object(i.a)()(r.a.apply(void 0,arguments))}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n("1OyB"),i=n("vuIU"),o=n("8Qeq"),a=n("7o/Q"),s=n("2QA8"),u=n("gRHU"),c=n("kJWO"),l=n("mCNh"),h=n("2fFW"),f=function(){var t=function(){function t(e){Object(r.a)(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return Object(i.a)(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof a.a)return t;if(t[s.a])return t[s.a]()}return t||e||n?new a.a(t,e,n):new a.a(u.a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||h.a.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),h.a.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){h.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),Object(o.a)(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=d(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}},r,e)})}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:c.a,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:Object(l.b)(e)(this)}},{key:"toPromise",value:function(t){var e=this;return new(t=d(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})}}]),t}();return t.create=function(e){return new t(e)},t}();function d(t){if(t||(t=h.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("1OyB"),i=n("vuIU"),o=n("JX7q"),a=n("ReuC"),s=n("foSv"),u=n("Ji7U"),c=n("LK+K"),l=n("Y/cZ"),h=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.a.now;return Object(r.a)(this,n),(i=e.call(this,t,function(){return n.delegate&&n.delegate!==Object(o.a)(i)?n.delegate.now():a()})).actions=[],i.active=!1,i.scheduled=void 0,i}return Object(i.a)(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):Object(a.a)(Object(s.a)(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(l.a)},IzEk:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("Ji7U"),i=n("LK+K"),o=n("1OyB"),a=n("vuIU"),s=n("7o/Q"),u=n("4I5i"),c=n("EY2u");function l(t){return function(e){return 0===t?Object(c.b)():e.lift(new h(t))}}var h=function(){function t(e){if(Object(o.a)(this,t),this.total=e,this.total<0)throw new u.a}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new f(t,this.total))}}]),t}(),f=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r){var i;return Object(o.a)(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return Object(a.a)(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(s.a)},JIr8:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ReuC"),i=n("foSv"),o=n("Ji7U"),a=n("LK+K"),s=n("1OyB"),u=n("vuIU"),c=n("zx2A");function l(t){return function(e){var n=new h(t),r=e.lift(n);return n.caught=r}}var h=function(){function t(e){Object(s.a)(this,t),this.selector=e}return Object(u.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new f(t,this.selector,this.caught))}}]),t}(),f=function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(t,r,i){var o;return Object(s.a)(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return Object(u.a)(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(s){return void Object(r.a)(Object(i.a)(n.prototype),"error",this).call(this,s)}this._unsubscribeAndRecycle();var o=new c.a(this);this.add(o);var a=Object(c.c)(e,o);a!==o&&this.add(a)}}}]),n}(c.b)},JX7q:function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",function(){return r})},JX91:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("GyhO"),i=n("z+Ro");function o(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=e[e.length-1];return Object(i.a)(o)?(e.pop(),function(t){return Object(r.a)(e,t,o)}):function(t){return Object(r.a)(e,t)}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a});var i="8.10.0";r.a.registerVersion("firebase",i,"app"),r.a.SDK_VERSION=i},Ji7U:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("s4An");function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Object(r.a)(t,e)}},KQm4:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("a3WO"),i=n("25BE"),o=n("BsWD");function a(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||Object(i.a)(t)||Object(o.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},Kqap:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("Ji7U"),i=n("LK+K"),o=n("1OyB"),a=n("vuIU"),s=n("7o/Q");function u(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new c(t,e,n))}}var c=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(o.a)(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),l=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r,i,a){var s;return Object(o.a)(this,n),(s=e.call(this,t)).accumulator=r,s._seed=i,s.hasSeed=a,s.index=0,s}return Object(a.a)(n,[{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}},{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}}]),n}(s.a)},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},"LK+K":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("foSv"),i=n("2WcH");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=n("JX7q");function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?Object(a.a)(t):e}function u(t){var e=Object(i.a)();return function(){var n,i=Object(r.a)(t);if(e){var o=Object(r.a)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return s(this,n)}}},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[e.length-1];return Object(r.a)(a)?(e.pop(),Object(o.a)(e,a)):Object(i.a)(e)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});var i=r()},"NHP+":function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("1OyB"),i=n("vuIU"),o=n("ReuC"),a=n("foSv"),s=n("Ji7U"),u=n("LK+K"),c=n("XNiG"),l=n("quSY"),h=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(){var t;return Object(r.a)(this,n),(t=e.apply(this,arguments)).value=null,t.hasNext=!1,t.hasCompleted=!1,t}return Object(i.a)(n,[{key:"_subscribe",value:function(t){return this.hasError?(t.error(this.thrownError),l.a.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),l.a.EMPTY):Object(o.a)(Object(a.a)(n.prototype),"_subscribe",this).call(this,t)}},{key:"next",value:function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)}},{key:"error",value:function(t){this.hasCompleted||Object(o.a)(Object(a.a)(n.prototype),"error",this).call(this,t)}},{key:"complete",value:function(){this.hasCompleted=!0,this.hasNext&&Object(o.a)(Object(a.a)(n.prototype),"next",this).call(this,this.value),Object(o.a)(Object(a.a)(n.prototype),"complete",this).call(this)}}]),n}(c.a)},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t},0)}n.d(e,"a",function(){return r})},NJ9Y:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("sVev"),i=n("pLZG"),o=n("BFxc"),a=n("XDbj"),s=n("xbPD"),u=n("SpAZ");function c(t,e){var n=arguments.length>=2;return function(c){return c.pipe(t?Object(i.a)(function(e,n){return t(e,n,c)}):u.a,Object(o.a)(1),n?Object(s.a)(e):Object(a.a)(function(){return new r.a}))}}},NXyV:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("Cfvw"),o=n("EY2u");function a(t){return new r.a(function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(i.a)(n):Object(o.b)()).subscribe(e)})}},Nv8m:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("Ji7U"),i=n("LK+K"),o=n("1OyB"),a=n("vuIU"),s=n("DH7j"),u=n("yCtX"),c=n("l7GE"),l=n("ZUHj");function h(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){if(!Object(s.a)(e[0]))return e[0];e=e[0]}return Object(u.a)(e,void 0).lift(new f)}var f=function(){function t(){Object(o.a)(this,t)}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new d(t))}}]),t}(),d=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t){var r;return Object(o.a)(this,n),(r=e.call(this,t)).hasFirst=!1,r.observables=[],r.subscriptions=[],r}return Object(a.a)(n,[{key:"_next",value:function(t){this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=t[n],i=Object(l.a)(this,r,void 0,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}}},{key:"notifyNext",value:function(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var i=this.subscriptions[r];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(e)}}]),n}(c.a)},ODXe:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DSFK"),i=n("BsWD"),o=n("PYwp");function a(t,e){return Object(r.a)(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||Object(i.a)(t,e)||Object(o.a)()}},OQgR:function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return y});var r=n("ReuC"),i=n("foSv"),o=n("Ji7U"),a=n("LK+K"),s=n("1OyB"),u=n("vuIU"),c=n("7o/Q"),l=n("quSY"),h=n("HDdC"),f=n("XNiG");function d(t,e,n,r){return function(i){return i.lift(new p(t,e,n,r))}}var p=function(){function t(e,n,r,i){Object(s.a)(this,t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i}return Object(u.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new v(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}]),t}(),v=function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(t,r,i,o,a){var u;return Object(s.a)(this,n),(u=e.call(this,t)).keySelector=r,u.elementSelector=i,u.durationSelector=o,u.subjectSelector=a,u.groups=null,u.attemptedToUnsubscribe=!1,u.count=0,u}return Object(u.a)(n,[{key:"_next",value:function(t){var e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}},{key:"_group",value:function(t,e){var n=this.groups;n||(n=this.groups=new Map);var r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(s){this.error(s)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new f.a,n.set(e,i);var o=new y(e,i,this);if(this.destination.next(o),this.durationSelector){var a;try{a=this.durationSelector(new y(e,i))}catch(s){return void this.error(s)}this.add(a.subscribe(new b(e,i,this)))}}i.closed||i.next(r)}},{key:"_error",value:function(t){var e=this.groups;e&&(e.forEach(function(e,n){e.error(t)}),e.clear()),this.destination.error(t)}},{key:"_complete",value:function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()}},{key:"removeGroup",value:function(t){this.groups.delete(t)}},{key:"unsubscribe",value:function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&Object(r.a)(Object(i.a)(n.prototype),"unsubscribe",this).call(this))}}]),n}(c.a),b=function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(t,r,i){var o;return Object(s.a)(this,n),(o=e.call(this,r)).key=t,o.group=r,o.parent=i,o}return Object(u.a)(n,[{key:"_next",value:function(t){this.complete()}},{key:"_unsubscribe",value:function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)}}]),n}(c.a),y=function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(t,r,i){var o;return Object(s.a)(this,n),(o=e.call(this)).key=t,o.groupSubject=r,o.refCountSubscription=i,o}return Object(u.a)(n,[{key:"_subscribe",value:function(t){var e=new l.a,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&e.add(new g(n)),e.add(r.subscribe(t)),e}}]),n}(h.a),g=function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this)).parent=t,t.count++,r}return Object(u.a)(n,[{key:"unsubscribe",value:function(){var t=this.parent;t.closed||this.closed||(Object(r.a)(Object(i.a)(n.prototype),"unsubscribe",this).call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}]),n}(l.a)},PYwp:function(t,e,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(e,"a",function(){return r})},PqYM:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("D0XW"),o=n("Y7HM"),a=n("z+Ro");function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,s=-1;return Object(o.a)(e)?s=Number(e)<1?1:Number(e):Object(a.a)(e)&&(n=e),Object(a.a)(n)||(n=i.a),new r.a(function(e){var r=Object(o.a)(t)?t:+t-n.now();return n.schedule(u,r,{index:0,period:s,subscriber:e})})}function u(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}},ReuC:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("foSv");function i(t,e,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Object(r.a)(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),a=n("kJWO"),s=n("I55L"),u=n("c2HN"),c=n("XoHu"),l=function(t){if(t&&"function"==typeof t[a.a])return l=t,function(t){var e=l[a.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(s.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,function(t){return n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,i.a),t};if(t&&"function"==typeof t[o.a])return e=t,function(t){for(var n=e[o.a]();;){var r=void 0;try{r=n.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t};var e,n,l,h=Object(c.a)(t)?"an invalid object":"'".concat(t,"'"),f="You provided ".concat(h," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(f)}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},SxV6:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("sVev"),i=n("pLZG"),o=n("IzEk"),a=n("xbPD"),s=n("XDbj"),u=n("SpAZ");function c(t,e){var n=arguments.length>=2;return function(c){return c.pipe(t?Object(i.a)(function(e,n){return t(e,n,c)}):u.a,Object(o.a)(1),n?Object(a.a)(e):Object(s.a)(function(){return new r.a}))}}},T5bk:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("DSFK"),i=n("25BE"),o=n("BsWD"),a=n("PYwp");function s(t){return Object(r.a)(t)||Object(i.a)(t)||Object(o.a)(t)||Object(a.a)()}},UXun:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("jtHE");function i(t,e,n){var i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,i=t.bufferSize,o=void 0===i?Number.POSITIVE_INFINITY:i,a=t.windowTime,s=void 0===a?Number.POSITIVE_INFINITY:a,u=t.refCount,c=t.scheduler,l=0,h=!1,f=!1;return function(t){var i;l++,!e||h?(h=!1,e=new r.a(o,s,c),i=e.subscribe(this),n=t.subscribe({next:function(t){e.next(t)},error:function(t){h=!0,e.error(t)},complete:function(){f=!0,n=void 0,e.complete()}})):i=e.subscribe(this),this.add(function(){l--,i.unsubscribe(),n&&!f&&u&&0===l&&(n.unsubscribe(),n=void 0,e=void 0)})}}(i))}}},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function s(){for(var t=Number.POSITIVE_INFINITY,e=null,n=arguments.length,s=new Array(n),u=0;u<n;u++)s[u]=arguments[u];var c=s[s.length-1];return Object(i.a)(c)?(e=s.pop(),s.length>1&&"number"==typeof s[s.length-1]&&(t=s.pop())):"number"==typeof c&&(t=s.pop()),null===e&&1===s.length&&s[0]instanceof r.a?s[0]:Object(o.a)(t)(Object(a.a)(s,e))}},WMd4:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return c});var r=n("1OyB"),i=n("vuIU"),o=n("EY2u"),a=n("LRne"),s=n("z6cu"),u=function(t){return t.NEXT="N",t.ERROR="E",t.COMPLETE="C",t}({}),c=function(){var t=function(){function t(e,n,i){Object(r.a)(this,t),this.kind=e,this.value=n,this.error=i,this.hasValue="N"===e}return Object(i.a)(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(a.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(o.b)()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}();return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}()},XDbj:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("Ji7U"),i=n("LK+K"),o=n("1OyB"),a=n("vuIU"),s=n("sVev"),u=n("7o/Q");function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return function(e){return e.lift(new l(t))}}var l=function(){function t(e){Object(o.a)(this,t),this.errorFactory=e}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new h(t,this.errorFactory))}}]),t}(),h=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r){var i;return Object(o.a)(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return Object(a.a)(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}]),n}(u.a);function f(){return new s.a}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return v}),n.d(e,"a",function(){return b});var r=n("vuIU"),i=n("ReuC"),o=n("foSv"),a=n("1OyB"),s=n("Ji7U"),u=n("LK+K"),c=n("HDdC"),l=n("7o/Q"),h=n("quSY"),f=n("9ppp"),d=n("Ylt2"),p=n("2QA8"),v=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t){var r;return Object(a.a)(this,n),(r=e.call(this,t)).destination=t,r}return n}(l.a),b=function(){var t=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(){var t;return Object(a.a)(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return Object(r.a)(n,[{key:p.a,value:function(){return new v(this)}},{key:"lift",value:function(t){var e=new y(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new f.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new f.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new f.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new f.a;return Object(i.a)(Object(o.a)(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new f.a;return this.hasError?(t.error(this.thrownError),h.a.EMPTY):this.isStopped?(t.complete(),h.a.EMPTY):(this.observers.push(t),new d.a(this,t))}},{key:"asObservable",value:function(){var t=new c.a;return t.source=this,t}}]),n}(c.a);return t.create=function(t,e){return new y(t,e)},t}(),y=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t,r){var i;return Object(a.a)(this,n),(i=e.call(this)).destination=t,i.source=r,i}return Object(r.a)(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):h.a.EMPTY}}]),n}(b)},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},"Y/cZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("1OyB"),i=n("vuIU"),o=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;Object(r.a)(this,t),this.SchedulerAction=e,this.now=n}return Object(i.a)(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}()},Y6u4:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}()},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("1OyB"),i=n("vuIU"),o=n("Ji7U"),a=n("LK+K"),s=function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(t,i){var o;return Object(r.a)(this,n),(o=e.call(this)).subject=t,o.subscriber=i,o.closed=!1,o}return Object(i.a)(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n("quSY").a)},ZUHj:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("1OyB"),i=n("vuIU"),o=n("Ji7U"),a=n("LK+K"),s=function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(t,i,o){var a;return Object(r.a)(this,n),(a=e.call(this)).parent=t,a.outerValue=i,a.outerIndex=o,a.index=0,a}return Object(i.a)(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("7o/Q").a),u=n("SeVD"),c=n("HDdC");function l(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new s(t,n,r);if(!i.closed)return e instanceof c.a?e.subscribe(i):Object(u.a)(e)(i)}},Zy1z:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("Ji7U"),i=n("LK+K"),o=n("1OyB"),a=n("vuIU"),s=n("7o/Q");function u(){return function(t){return t.lift(new c)}}var c=function(){function t(){Object(o.a)(this,t)}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t))}}]),t}(),l=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t){var r;return Object(o.a)(this,n),(r=e.call(this,t)).hasPrev=!1,r}return Object(a.a)(n,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),n}(s.a)},a3WO:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",function(){return r})},aGrj:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("eIep");function i(t,e){return e?Object(r.a)(function(){return t},e):Object(r.a)(function(){return t})}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.b)(i.a,t)}},bOdf:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("5+tZ");function i(t,e){return Object(r.b)(t,e,1)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},cp0P:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("KQm4"),i=n("HDdC"),o=n("DH7j"),a=n("lJxs"),s=n("XoHu"),u=n("Cfvw");function c(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var i=e[0];if(Object(o.a)(i))return l(i,null);if(Object(s.a)(i)&&Object.getPrototypeOf(i)===Object.prototype){var u=Object.keys(i);return l(u.map(function(t){return i[t]}),u)}}if("function"==typeof e[e.length-1]){var c=e.pop();return l(e=1===e.length&&Object(o.a)(e[0])?e[0]:e,null).pipe(Object(a.a)(function(t){return c.apply(void 0,Object(r.a)(t))}))}return l(e,null)}function l(t,e){return new i.a(function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var c=Object(u.a)(t[s]),l=!1;n.add(c.subscribe({next:function(t){l||(l=!0,a++),i[s]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&l||(a===r&&n.next(e?e.reduce(function(t,e,n){return t[e]=i[n],t},{}):i),n.complete())}}))},c=0;c<r;c++)s(c);else n.complete()})}},crnd:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="crnd"},eIep:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n("ReuC"),i=n("foSv"),o=n("Ji7U"),a=n("LK+K"),s=n("1OyB"),u=n("vuIU"),c=n("lJxs"),l=n("Cfvw"),h=n("zx2A");function f(t,e){return"function"==typeof e?function(n){return n.pipe(f(function(n,r){return Object(l.a)(t(n,r)).pipe(Object(c.a)(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new d(t))}}var d=function(){function t(e){Object(s.a)(this,t),this.project=e}return Object(u.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new p(t,this.project))}}]),t}(),p=function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(t,r){var i;return Object(s.a)(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return Object(u.a)(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new h.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(h.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||Object(r.a)(Object(i.a)(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&Object(r.a)(Object(i.a)(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t){this.destination.next(t)}}]),n}(h.b)},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return En}),n.d(e,"b",function(){return Sl}),n.d(e,"c",function(){return wl}),n.d(e,"d",function(){return gl}),n.d(e,"e",function(){return ml}),n.d(e,"f",function(){return wh}),n.d(e,"g",function(){return lh}),n.d(e,"h",function(){return In}),n.d(e,"i",function(){return pc}),n.d(e,"j",function(){return Ll}),n.d(e,"k",function(){return qu}),n.d(e,"l",function(){return El}),n.d(e,"m",function(){return zu}),n.d(e,"n",function(){return Gr}),n.d(e,"o",function(){return Yc}),n.d(e,"p",function(){return Hn}),n.d(e,"q",function(){return Go}),n.d(e,"r",function(){return Vn}),n.d(e,"s",function(){return Tn}),n.d(e,"t",function(){return la}),n.d(e,"u",function(){return uc}),n.d(e,"v",function(){return cc}),n.d(e,"w",function(){return Tl}),n.d(e,"x",function(){return Sc}),n.d(e,"y",function(){return fh}),n.d(e,"z",function(){return jc}),n.d(e,"A",function(){return rh}),n.d(e,"B",function(){return Vl}),n.d(e,"C",function(){return Un}),n.d(e,"D",function(){return jl}),n.d(e,"E",function(){return kl}),n.d(e,"F",function(){return Gu}),n.d(e,"G",function(){return Ku}),n.d(e,"H",function(){return $r}),n.d(e,"I",function(){return Yu}),n.d(e,"J",function(){return Ur}),n.d(e,"K",function(){return Bn}),n.d(e,"L",function(){return vh}),n.d(e,"M",function(){return _c}),n.d(e,"N",function(){return Kl}),n.d(e,"O",function(){return Cn}),n.d(e,"P",function(){return Zu}),n.d(e,"Q",function(){return Ju}),n.d(e,"R",function(){return Tc}),n.d(e,"S",function(){return G}),n.d(e,"T",function(){return oh}),n.d(e,"U",function(){return th}),n.d(e,"V",function(){return T}),n.d(e,"W",function(){return $l}),n.d(e,"X",function(){return gh}),n.d(e,"Y",function(){return Ql}),n.d(e,"Z",function(){return Il}),n.d(e,"ab",function(){return Yo}),n.d(e,"bb",function(){return Ds}),n.d(e,"cb",function(){return Fr}),n.d(e,"db",function(){return wr}),n.d(e,"eb",function(){return ur}),n.d(e,"fb",function(){return lr}),n.d(e,"gb",function(){return pr}),n.d(e,"hb",function(){return fr}),n.d(e,"ib",function(){return hr}),n.d(e,"jb",function(){return dr}),n.d(e,"kb",function(){return Cs}),n.d(e,"lb",function(){return yh}),n.d(e,"mb",function(){return xs}),n.d(e,"nb",function(){return As}),n.d(e,"ob",function(){return cr}),n.d(e,"pb",function(){return X}),n.d(e,"qb",function(){return wa}),n.d(e,"rb",function(){return Va}),n.d(e,"sb",function(){return Fa}),n.d(e,"tb",function(){return Es}),n.d(e,"ub",function(){return qt}),n.d(e,"vb",function(){return j}),n.d(e,"wb",function(){return sr}),n.d(e,"xb",function(){return fa}),n.d(e,"yb",function(){return Rt}),n.d(e,"zb",function(){return Mu}),n.d(e,"Ab",function(){return Qi}),n.d(e,"Bb",function(){return Sa}),n.d(e,"Cb",function(){return as}),n.d(e,"Db",function(){return Os}),n.d(e,"Eb",function(){return ks}),n.d(e,"Fb",function(){return os}),n.d(e,"Gb",function(){return cl}),n.d(e,"Hb",function(){return ct}),n.d(e,"Ib",function(){return bt}),n.d(e,"Jb",function(){return A}),n.d(e,"Kb",function(){return N}),n.d(e,"Lb",function(){return dt}),n.d(e,"Mb",function(){return yt}),n.d(e,"Nb",function(){return Ca}),n.d(e,"Ob",function(){return Ra}),n.d(e,"Pb",function(){return La}),n.d(e,"Qb",function(){return Pa}),n.d(e,"Rb",function(){return Da}),n.d(e,"Sb",function(){return Na}),n.d(e,"Tb",function(){return Ma}),n.d(e,"Ub",function(){return On}),n.d(e,"Vb",function(){return js}),n.d(e,"Wb",function(){return Iu}),n.d(e,"Xb",function(){return Eu}),n.d(e,"Yb",function(){return Tu}),n.d(e,"Zb",function(){return Zn}),n.d(e,"ac",function(){return kn}),n.d(e,"bc",function(){return yl}),n.d(e,"cc",function(){return Ua}),n.d(e,"dc",function(){return fl}),n.d(e,"ec",function(){return Me}),n.d(e,"fc",function(){return Le}),n.d(e,"gc",function(){return za}),n.d(e,"hc",function(){return Gc}),n.d(e,"ic",function(){return Qc}),n.d(e,"jc",function(){return Qa}),n.d(e,"kc",function(){return Ga}),n.d(e,"lc",function(){return xa}),n.d(e,"mc",function(){return Ya}),n.d(e,"nc",function(){return Ja}),n.d(e,"oc",function(){return qc}),n.d(e,"pc",function(){return Bc}),n.d(e,"qc",function(){return Hc}),n.d(e,"rc",function(){return Wc}),n.d(e,"sc",function(){return sl}),n.d(e,"tc",function(){return Ea}),n.d(e,"uc",function(){return se}),n.d(e,"vc",function(){return qr}),n.d(e,"wc",function(){return Br}),n.d(e,"xc",function(){return pt}),n.d(e,"yc",function(){return ll}),n.d(e,"zc",function(){return ul}),n.d(e,"Ac",function(){return is}),n.d(e,"Bc",function(){return Ta}),n.d(e,"Cc",function(){return bl}),n.d(e,"Dc",function(){return gs}),n.d(e,"Ec",function(){return ms}),n.d(e,"Fc",function(){return ws}),n.d(e,"Gc",function(){return _s});var r=n("ReuC"),i=n("foSv"),o=n("JX7q"),a=n("ODXe"),s=(n("rePB"),n("T5bk"),n("uFwe")),u=n("KQm4"),c=n("s4An"),l=n("2WcH");function h(t,e,n){return(h=Object(l.a)()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&Object(c.a)(i,n.prototype),i}).apply(null,arguments)}var f=n("vuIU"),d=n("1OyB"),p=n("Ji7U"),v=n("LK+K");function b(t){var e="function"==typeof Map?new Map:void 0;return(b=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return h(t,arguments,Object(i.a)(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Object(c.a)(n,t)})(t)}var y=n("quSY"),g=n("XNiG"),m=n("HDdC"),w=n("VRyK"),_=n("w1tV");function O(t){for(var e in t)if(t[e]===O)return e;throw Error("Could not find renamed property on target object.")}function k(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function j(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(j).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function S(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var I=O({__forward_ref__:O});function T(t){return t.__forward_ref__=T,t.toString=function(){return j(this())},t}function E(t){return C(t)?t():t}function C(t){return"function"==typeof t&&t.hasOwnProperty(I)&&t.__forward_ref__===T}function x(t,e,n,r){throw new Error("ASSERTION ERROR: ".concat(t)+(null==r?"":" [Expected=> ".concat(n," ").concat(r," ").concat(e," <=Actual]")))}function A(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function N(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function D(t){return R(t,M)||R(t,V)}function R(t,e){return t.hasOwnProperty(e)?t[e]:null}function P(t){return t&&(t.hasOwnProperty(F)||t.hasOwnProperty(U))?t[F]:null}var L,M=O({"\u0275prov":O}),F=O({"\u0275inj":O}),V=O({ngInjectableDef:O}),U=O({ngInjectorDef:O}),q=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function B(){return L}function H(t){var e=L;return L=t,e}function W(t,e,n){var r=D(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&q.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(j(t),"]"))}function z(t){return{toString:t}.toString()}var K=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),G=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),Q="undefined"!=typeof globalThis&&globalThis,Y="undefined"!=typeof window&&window,J="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Z="undefined"!=typeof global&&global,X=Q||Z||Y||J,$={},tt=[],et=O({"\u0275cmp":O}),nt=O({"\u0275dir":O}),rt=O({"\u0275pipe":O}),it=O({"\u0275mod":O}),ot=O({"\u0275loc":O}),at=O({"\u0275fac":O}),st=O({__NG_ELEMENT_ID__:O}),ut=0;function ct(t){return z(function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===K.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||tt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||G.Emulated,id:"c",styles:t.styles||tt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=ut++,n.inputs=vt(t.inputs,e),n.outputs=vt(t.outputs),i&&i.forEach(function(t){return t(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(lt)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(ht)}:null,n})}function lt(t){return gt(t)||function(t){return t[nt]||null}(t)}function ht(t){return function(t){return t[rt]||null}(t)}var ft={};function dt(t){var e={type:t.type,bootstrap:t.bootstrap||tt,declarations:t.declarations||tt,imports:t.imports||tt,exports:t.exports||tt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&z(function(){ft[t.id]=t.type}),e}function pt(t,e){return z(function(){var n=mt(t,!0);n.declarations=e.declarations||tt,n.imports=e.imports||tt,n.exports=e.exports||tt})}function vt(t,e){if(null==t)return $;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var bt=ct;function yt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function gt(t){return t[et]||null}function mt(t,e){var n=t[it]||null;if(!n&&!0===e)throw new Error("Type ".concat(j(t)," does not have '\u0275mod' property."));return n}var wt=20,_t=10;function Ot(t){return Array.isArray(t)&&"object"==typeof t[1]}function kt(t){return Array.isArray(t)&&!0===t[1]}function jt(t){return 0!=(8&t.flags)}function St(t){return 2==(2&t.flags)}function It(t){return 1==(1&t.flags)}function Tt(t){return null!==t.template}function Et(t,e){return t.hasOwnProperty(at)?t[at]:null}var Ct=function(t){Object(p.a)(n,t);var e=Object(v.a)(n);function n(t,r){var i;return Object(d.a)(this,n),(i=e.call(this,function(t,e){var n=t?"NG0".concat(t,": "):"";return"".concat(n).concat(e)}(t,r))).code=t,i}return n}(b(Error));function xt(t){return"string"==typeof t?t:null==t?"":String(t)}function At(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():xt(t)}function Nt(t,e){var n=e?" in ".concat(e):"";throw new Ct("201","No provider for ".concat(At(t)," found").concat(n))}var Dt=function(){function t(e,n,r){Object(d.a)(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return Object(f.a)(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function Rt(){return Pt}function Pt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Mt),Lt}function Lt(){var t=Ft(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===$)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Mt(t,e,n,r){var i=Ft(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:$,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new Dt(u&&u.currentValue,e,a===$),t[r]=e}function Ft(t){return t.__ngSimpleChanges__||null}Rt.ngInherit=!0;var Vt="http://www.w3.org/2000/svg",Ut=void 0;function qt(t){Ut=t}function Bt(){return void 0!==Ut?Ut:"undefined"!=typeof document?document:void 0}function Ht(t){return!!t.listen}var Wt={createRenderer:function(t,e){return Bt()}};function zt(t){for(;Array.isArray(t);)t=t[0];return t}function Kt(t,e){return zt(e[t])}function Gt(t,e){return zt(e[t.index])}function Qt(t,e){return t.data[e]}function Yt(t,e){return t[e]}function Jt(t,e){var n=e[t];return Ot(n)?n:n[0]}function Zt(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Xt(t){return 4==(4&t[2])}function $t(t){return 128==(128&t[2])}function te(t,e){return null==e?null:t[e]}function ee(t){t[18]=0}function ne(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var re={lFrame:Ee(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ie(){return re.bindingsEnabled}function oe(){return re.lFrame.lView}function ae(){return re.lFrame.tView}function se(t){re.lFrame.contextLView=t}function ue(){for(var t=ce();null!==t&&64===t.type;)t=t.parent;return t}function ce(){return re.lFrame.currentTNode}function le(){var t=re.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function he(t,e){var n=re.lFrame;n.currentTNode=t,n.isParent=e}function fe(){return re.lFrame.isParent}function de(){re.lFrame.isParent=!1}function pe(){return re.isInCheckNoChangesMode}function ve(t){re.isInCheckNoChangesMode=t}function be(){var t=re.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ye(){return re.lFrame.bindingIndex}function ge(){return re.lFrame.bindingIndex++}function me(t){var e=re.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function we(t){re.lFrame.inI18n=t}function _e(t){re.lFrame.currentDirectiveIndex=t}function Oe(){return re.lFrame.currentQueryIndex}function ke(t){re.lFrame.currentQueryIndex=t}function je(t){var e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Se(t,e,n){if(n&q.SkipSelf){for(var r=e,i=t;!(null!==(r=r.parent)||n&q.Host||null===(r=je(i))||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}var o=re.lFrame=Te();return o.currentTNode=e,o.lView=t,!0}function Ie(t){var e=Te(),n=t[1];re.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Te(){var t=re.lFrame,e=null===t?null:t.child;return null===e?Ee(t):e}function Ee(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Ce(){var t=re.lFrame;return re.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var xe=Ce;function Ae(){var t=Ce();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ne(t){return(re.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,re.lFrame.contextLView))[8]}function De(){return re.lFrame.selectedIndex}function Re(t){re.lFrame.selectedIndex=t}function Pe(){var t=re.lFrame;return Qt(t.tView,t.selectedIndex)}function Le(){re.lFrame.currentNamespace=Vt}function Me(){re.lFrame.currentNamespace=null}function Fe(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n].type.prototype,o=i.ngAfterContentInit,a=i.ngAfterContentChecked,s=i.ngAfterViewInit,u=i.ngAfterViewChecked,c=i.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function Ve(t,e,n){Be(t,e,3,n)}function Ue(t,e,n,r){(3&t[2])===n&&Be(t,e,n,r)}function qe(t,e){var n=t[2];(3&n)===e&&(n&=2047,t[2]=n+=1)}function Be(t,e,n,r){for(var i=null!=r?r:-1,o=0,a=void 0!==r?65535&t[18]:0;a<e.length;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(He(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function He(t,e,n,r){var i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(a)):o.call(a)}var We=-1,ze=function t(e,n,r){Object(d.a)(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Ke(t,e,n){for(var r=Ht(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?t.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];Qe(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function Ge(t){return 3===t||4===t||6===t}function Qe(t){return 64===t.charCodeAt(0)}function Ye(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||Je(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function Je(t,e,n,r,i){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ze(t){return t!==We}function Xe(t){return 32767&t}function $e(t,e){for(var n=t>>16,r=e;n>0;)r=r[15],n--;return r}var tn=!0;function en(t){var e=tn;return tn=t,e}var nn=0;function rn(t,e){var n=an(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,on(r.data,t),on(e,null),on(r.blueprint,null));var i=sn(t,e),o=t.injectorIndex;if(Ze(i))for(var a=Xe(i),s=$e(i,e),u=s[1].data,c=0;c<8;c++)e[o+c]=s[a+c]|u[a+c];return e[o+8]=i,o}function on(t,e){t.push(0,0,0,0,0,0,0,0,e)}function an(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function sn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,r=null,i=e;null!==i;){var o=i[1],a=o.type;if(null===(r=2===a?o.declTNode:1===a?i[6]:null))return We;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return We}function un(t,e,n){!function(t,e,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(st)&&(r=n[st]),null==r&&(r=n[st]=nn++);var i=255&r,o=1<<i,a=64&i,s=32&i,u=e.data;128&i?a?s?u[t+7]|=o:u[t+6]|=o:s?u[t+5]|=o:u[t+4]|=o:a?s?u[t+3]|=o:u[t+2]|=o:s?u[t+1]|=o:u[t]|=o}(t,e,n)}function cn(t,e,n){if(n&q.Optional)return t;Nt(e,"NodeInjector")}function ln(t,e,n,r){if(n&q.Optional&&void 0===r&&(r=null),0==(n&(q.Self|q.Host))){var i=t[9],o=H(void 0);try{return i?i.get(e,r,n&q.Optional):W(e,r,n&q.Optional)}finally{H(o)}}return cn(r,e,n)}function hn(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:q.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=yn(n);if("function"==typeof o){if(!Se(e,t,r))return r&q.Host?cn(i,n,r):ln(e,n,r,i);try{var a=o();if(null!=a||r&q.Optional)return a;Nt(n)}finally{xe()}}else if("number"==typeof o){var s=null,u=an(t,e),c=We,l=r&q.Host?e[16][6]:null;for((-1===u||r&q.SkipSelf)&&((c=-1===u?sn(t,e):e[u+8])!==We&&mn(r,!1)?(s=e[1],u=Xe(c),e=$e(c,e)):u=-1);-1!==u;){var h=e[1];if(gn(o,u,h.data)){var f=pn(u,e,n,s,r,l);if(f!==fn)return f}(c=e[u+8])!==We&&mn(r,e[1].data[u+8]===l)&&gn(o,u,e)?(s=h,u=Xe(c),e=$e(c,e)):u=-1}}}return ln(e,n,r,i)}var fn={};function dn(){return new wn(ue(),oe())}function pn(t,e,n,r,i,o){var a=e[1],s=a.data[t+8],u=vn(s,a,n,null==r?St(s)&&tn:r!=a&&0!=(3&s.type),i&q.Host&&o===s);return null!==u?bn(e,a,u,s):fn}function vn(t,e,n,r,i){for(var o=t.providerIndexes,a=e.data,s=1048575&o,u=t.directiveStart,c=o>>20,l=i?s+c:t.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=a[u];if(d&&Tt(d)&&d.type===n)return u}return null}function bn(t,e,n,r){var i=t[n],o=e.data;if(i instanceof ze){var a=i;a.resolving&&function(t,e){throw new Ct("200","Circular dependency in DI detected for ".concat(t).concat(""))}(At(o[n]));var s=en(a.canSeeViewProviders);a.resolving=!0;var u=a.injectImpl?H(a.injectImpl):null;Se(t,r,q.Default);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.type.prototype,i=r.ngOnInit,o=r.ngDoCheck;if(r.ngOnChanges){var a=Pt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,a)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&H(u),en(s),a.resolving=!1,xe()}}return i}function yn(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(st)?t[st]:void 0;return"number"==typeof e?e>=0?255&e:dn:e}function gn(t,e,n){var r=64&t,i=32&t;return!!((128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e])&1<<t)}function mn(t,e){return!(t&q.Self||t&q.Host&&e)}var wn=function(){function t(e,n){Object(d.a)(this,t),this._tNode=e,this._lView=n}return Object(f.a)(t,[{key:"get",value:function(t,e){return hn(this._tNode,this._lView,t,void 0,e)}}]),t}();function _n(t){var e=t;if(C(t))return function(){var t=_n(E(e));return t?t():null};var n=Et(e);if(null===n){var r=P(e);n=r&&r.factory}return n||null}function On(t){return z(function(){for(var e=t.prototype.constructor,n=e[at]||_n(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==r;){var o=i[at]||_n(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(t){return new t}})}function kn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Ge(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(ue(),t)}var jn="__parameters__";function Sn(t,e,n){return z(function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=h(i,e);return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty(jn)?t[jn]:Object.defineProperty(t,jn,{value:[]})[jn];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var In=function(){return Sn("Attribute",function(t){return{attributeName:t,__NG_ELEMENT_ID__:function(){return kn(t)}}})}(),Tn=function(){function t(e,n){Object(d.a)(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=A({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return Object(f.a)(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),En=new Tn("AnalyzeForEntryComponents"),Cn=Function;function xn(t,e){void 0===e&&(e=t);for(var n=0;n<t.length;n++){var r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),xn(r,e)):e!==t&&e.push(r)}return e}function An(t,e){t.forEach(function(t){return Array.isArray(t)?An(t,e):e(t)})}function Nn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Dn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Rn(t,e){for(var n=[],r=0;r<t;r++)n.push(e);return n}function Pn(t,e,n){var r=Mn(t,e);return r>=0?t[1|r]=n:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r=~r,e,n),r}function Ln(t,e){var n=Mn(t,e);if(n>=0)return t[1|n]}function Mn(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),a=t[o<<1];if(e===a)return o<<1;a>e?i=o:r=o+1}return~(i<<1)}(t,e)}var Fn,Vn=Sn("Inject",function(t){return{token:t}}),Un=Sn("Optional"),qn=Sn("Self"),Bn=Sn("SkipSelf"),Hn=Sn("Host"),Wn={},zn=/\n/gm,Kn="__source",Gn=O({provide:String,useValue:O}),Qn=void 0;function Yn(t){var e=Qn;return Qn=t,e}function Jn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q.Default;if(void 0===Qn)throw new Error("inject() must be called from an injection context");return null===Qn?W(t,void 0,e):Qn.get(t,e&q.Optional?null:void 0,e)}function Zn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q.Default;return(B()||Jn)(E(t),e)}function Xn(t){for(var e=[],n=0;n<t.length;n++){var r=E(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=q.Default,a=0;a<r.length;a++){var s=r[a];s instanceof Un||"Optional"===s.ngMetadataName||s===Un?o|=q.Optional:s instanceof Bn||"SkipSelf"===s.ngMetadataName||s===Bn?o|=q.SkipSelf:s instanceof qn||"Self"===s.ngMetadataName||s===qn?o|=q.Self:i=s instanceof Vn||s===Vn?s.token:s}e.push(Zn(i,o))}else e.push(Zn(r))}return e}function $n(t,e,n,r){var i=t.ngTempTokenPath;throw e[Kn]&&i.unshift(e[Kn]),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=j(e);if(Array.isArray(e))i=e.map(j).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):j(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(zn,"\n  "))}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}function tr(t){var e;return(null===(e=function(){if(void 0===Fn&&(Fn=null,X.trustedTypes))try{Fn=X.trustedTypes.createPolicy("angular",{createHTML:function(t){return t},createScript:function(t){return t},createScriptURL:function(t){return t}})}catch(e){}return Fn}())||void 0===e?void 0:e.createHTML(t))||t}var er=function(){function t(e){Object(d.a)(this,t),this.changingThisBreaksApplicationSecurity=e}return Object(f.a)(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see https://g.co/ng/security#xss)"}}]),t}(),nr=function(t){Object(p.a)(n,t);var e=Object(v.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(f.a)(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(er),rr=function(t){Object(p.a)(n,t);var e=Object(v.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(f.a)(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(er),ir=function(t){Object(p.a)(n,t);var e=Object(v.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(f.a)(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(er),or=function(t){Object(p.a)(n,t);var e=Object(v.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(f.a)(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(er),ar=function(t){Object(p.a)(n,t);var e=Object(v.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(f.a)(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(er);function sr(t){return t instanceof er?t.changingThisBreaksApplicationSecurity:t}function ur(t,e){var n=cr(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===e}function cr(t){return t instanceof er&&t.getTypeName()||null}function lr(t){return new nr(t)}function hr(t){return new rr(t)}function fr(t){return new ir(t)}function dr(t){return new or(t)}function pr(t){return new ar(t)}function vr(t){return function(){try{return!!(new window.DOMParser).parseFromString(tr(""),"text/html")}catch(t){return!1}}()?new br:new yr(t)}var br=function(){function t(){Object(d.a)(this,t)}return Object(f.a)(t,[{key:"getInertBodyElement",value:function(t){t="<body><remove></remove>"+t;try{var e=(new window.DOMParser).parseFromString(tr(t),"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}}}]),t}(),yr=function(){function t(e){if(Object(d.a)(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var r=this.inertDocument.createElement("body");n.appendChild(r)}}return Object(f.a)(t,[{key:"getInertBodyElement",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=tr(t),e;var n=this.inertDocument.createElement("body");return n.innerHTML=tr(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),gr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,mr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function wr(t){return(t=String(t)).match(gr)||t.match(mr)?t:"unsafe:"+t}function _r(t){return(t=String(t)).split(",").map(function(t){return wr(t.trim())}).join(", ")}function Or(t){var e,n={},r=Object(s.a)(t.split(","));try{for(r.s();!(e=r.n()).done;)n[e.value]=!0}catch(i){r.e(i)}finally{r.f()}return n}function kr(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(t[s]=!0)}return t}var jr,Sr=Or("area,br,col,hr,img,wbr"),Ir=Or("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Tr=Or("rp,rt"),Er=kr(Tr,Ir),Cr=kr(Sr,kr(Ir,Or("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),kr(Tr,Or("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Er),xr=Or("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ar=Or("srcset"),Nr=kr(xr,Ar,Or("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Or("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Dr=Or("script,style,template"),Rr=function(){function t(){Object(d.a)(this,t),this.sanitizedSomething=!1,this.buf=[]}return Object(f.a)(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!Cr.hasOwnProperty(e))return this.sanitizedSomething=!0,!Dr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n=t.attributes,r=0;r<n.length;r++){var i=n.item(r),o=i.name,a=o.toLowerCase();if(Nr.hasOwnProperty(a)){var s=i.value;xr[a]&&(s=wr(s)),Ar[a]&&(s=_r(s)),this.buf.push(" ",o,'="',Mr(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();Cr.hasOwnProperty(e)&&!Sr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(Mr(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(t.outerHTML));return e}}]),t}(),Pr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Lr=/([^\#-~ |!])/g;function Mr(t){return t.replace(/&/g,"&amp;").replace(Pr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Lr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Fr(t,e){var n=null;try{jr=jr||vr(t);var r=e?String(e):"";n=jr.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=jr.getInertBodyElement(r)}while(r!==o);return(new Rr).sanitizeChildren(Vr(n)||n)}finally{if(n)for(var a=Vr(n)||n;a.firstChild;)a.removeChild(a.firstChild)}}function Vr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ur=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function qr(t){var e=Hr();return e?e.sanitize(Ur.HTML,t)||"":ur(t,"HTML")?sr(t):Fr(Bt(),xt(t))}function Br(t){var e=Hr();return e?e.sanitize(Ur.URL,t)||"":ur(t,"URL")?sr(t):wr(xt(t))}function Hr(){var t=oe();return t&&t[12]}function Wr(t){return t.ngDebugContext}function zr(t){return t.ngOriginalError}function Kr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var Gr=function(){function t(){Object(d.a)(this,t),this._console=console}return Object(f.a)(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Kr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?Wr(t)?Wr(t):this._findContext(zr(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=zr(t);e&&zr(e);)e=zr(e);return e}}]),t}(),Qr=/-->/g;function Yr(t,e){t.__ngContext__=e}var Jr=function(){return("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(X)}();function Zr(t){return t instanceof Function?t():t}var Xr,$r=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function ti(t,e){return Xr(t,e)}function ei(t){var e=t[3];return kt(e)?e[3]:e}function ni(t){return ii(t[13])}function ri(t){return ii(t[4])}function ii(t){for(;null!==t&&!kt(t);)t=t[4];return t}function oi(t,e,n,r,i){if(null!=r){var o,a=!1;kt(r)?o=r:Ot(r)&&(a=!0,r=r[0]);var s=zt(r);0===t&&null!==n?null==i?yi(e,n,s):bi(e,n,s,i||null,!0):1===t&&null!==n?bi(e,n,s,i||null,!0):2===t?Ei(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){var o=n[7];o!==zt(n)&&oi(e,t,r,o,i);for(var a=_t;a<n.length;a++){var s=n[a];xi(s[1],s,t,e,r,o)}}(e,t,o,n,i)}}function ai(t,e){return Ht(t)?t.createText(e):t.createTextNode(e)}function si(t,e,n){Ht(t)?t.setValue(e,n):e.textContent=n}function ui(t,e){return t.createComment(function(t){return t.replace(Qr,"-\u200b-\u200b>")}(e))}function ci(t,e,n){return Ht(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function li(t,e){var n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,ne(i,-1)),n.splice(r,1)}function hi(t,e){if(!(t.length<=_t)){var n,r=_t+e,i=t[r];if(i){var o=i[17];null!==o&&o!==t&&li(o,i),e>0&&(t[r-1][4]=i[4]);var a=Dn(t,_t+e);xi(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var s=a[19];null!==s&&s.detachView(a[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function fi(t,e){if(!(256&e[2])){var n=e[11];Ht(n)&&n.destroyNode&&xi(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return di(t[1],t);for(;e;){var n=null;if(Ot(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Ot(e)&&di(e[1],e),e=e[3];null===e&&(e=t),Ot(e)&&di(e[1],e),n=e&&e[4]}e=n}}(e)}}function di(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof ze)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(i[o[a]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup,r=e[7],i=-1;if(null!==n){for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var a=n[o+1],s="function"==typeof a?a(e):zt(e[a]),u=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?s.removeEventListener(n[o],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{var l=r[i=n[o+1]];n[o].call(l)}if(null!==r)for(var h=i+1;h<r.length;h++)(0,r[h])();e[7]=null}}(t,e),1===e[1].type&&Ht(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&kt(e[3])){n!==e[3]&&li(n,e);var r=e[19];null!==r&&r.detachView(t)}}}function pi(t,e,n){return vi(t,e.parent,n)}function vi(t,e,n){for(var r=e;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){var i=t.data[r.directiveStart].encapsulation;if(i===G.None||i===G.Emulated)return null}return Gt(r,n)}function bi(t,e,n,r,i){Ht(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function yi(t,e,n){Ht(t)?t.appendChild(e,n):e.appendChild(n)}function gi(t,e,n,r,i){null!==r?bi(t,e,n,r,i):yi(t,e,n)}function mi(t,e){return Ht(t)?t.parentNode(e):e.parentNode}function wi(t,e,n){return ki(t,e,n)}function _i(t,e,n){return 40&t.type?Gt(t,n):null}var Oi,ki=_i;function ji(t,e){ki=t,Oi=e}function Si(t,e,n,r){var i=pi(t,r,e),o=e[11],a=wi(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(var s=0;s<n.length;s++)gi(o,i,n[s],a,!1);else gi(o,i,n,a,!1);void 0!==Oi&&Oi(o,r,e,n,i)}function Ii(t,e){if(null!==e){var n=e.type;if(3&n)return Gt(e,t);if(4&n)return Ti(-1,t[e.index]);if(8&n){var r=e.child;if(null!==r)return Ii(t,r);var i=t[e.index];return kt(i)?Ti(-1,i):zt(i)}if(32&n)return ti(e,t)()||zt(t[e.index]);var o=t[16],a=o[6],s=ei(o),u=a.projection[e.projection];return null!=u?Ii(s,u):Ii(t,e.next)}return null}function Ti(t,e){var n=_t+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return Ii(r,i)}return e[7]}function Ei(t,e,n){var r=mi(t,e);r&&function(t,e,n,r){Ht(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function Ci(t,e,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;if(a&&0===e&&(s&&Yr(zt(s),r),n.flags|=4),64!=(64&n.flags))if(8&u)Ci(t,e,n.child,r,i,o,!1),oi(e,t,i,s,o);else if(32&u){for(var c=ti(n,r),l=void 0;l=c();)oi(e,t,i,l,o);oi(e,t,i,s,o)}else 16&u?Ni(t,e,r,n,i,o):oi(e,t,i,s,o);n=a?n.projectionNext:n.next}}function xi(t,e,n,r,i,o){Ci(n,r,t.firstChild,e,i,o,!1)}function Ai(t,e,n){Ni(e[11],0,e,n,pi(t,n,e),wi(n.parent||e[6],n,e))}function Ni(t,e,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)oi(e,t,i,s[u],o);else Ci(t,e,s,a[3],i,o,!0)}function Di(t,e,n){Ht(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Ri(t,e,n){Ht(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Pi(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var Li="ng-template";function Mi(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==Pi((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Fi(t){return 4===t.type&&t.value!==Li}function Vi(t,e,n){return e===(4!==t.type||n?t.value:Li)}function Ui(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(Ge(t[e]))return e;return t.length}(i),a=!1,s=0;s<e.length;s++){var u=e[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!Vi(t,u,n)||""===u&&1===e.length){if(qi(r))return!1;a=!0}}else{var c=8&r?u:e[++s];if(8&r&&null!==t.attrs){if(!Mi(t.attrs,c,n)){if(qi(r))return!1;a=!0}continue}var l=Bi(8&r?"class":u,i,Fi(t),n);if(-1===l){if(qi(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==Pi(f,c,0)||2&r&&c!==h){if(qi(r))return!1;a=!0}}}}else{if(!a&&!qi(r)&&!qi(u))return!1;if(a&&qi(u))continue;a=!1,r=u|1&r}}return qi(r)||a}function qi(t){return 0==(1&t)}function Bi(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var a=e[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Hi(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(Ui(t,e[r],n))return!0;return!1}function Wi(t,e){t:for(var n=0;n<e.length;n++){var r=e[n];if(t.length===r.length){for(var i=0;i<t.length;i++)if(t[i]!==r[i])continue t;return!0}}return!1}function zi(t,e){return t?":not("+e.trim()+")":e}function Ki(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&r){var s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||qi(a)||(e+=zi(o,i),i=""),r=a,o=o||!qi(r);n++}return""!==i&&(e+=zi(o,i)),e}var Gi={};function Qi(t){Yi(ae(),oe(),De()+t,pe())}function Yi(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&Ve(e,i,n)}else{var o=t.preOrderHooks;null!==o&&Ue(e,o,0,n)}Re(n)}function Ji(t,e){return t<<17|e<<2}function Zi(t){return t>>17&32767}function Xi(t){return 2|t}function $i(t){return(131068&t)>>2}function to(t,e){return-131069&t|e<<2}function eo(t){return 1|t}function no(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r+1];if(-1!==i){var o=t.data[i];ke(n[r]),o.contentQueries(2,e[i],i)}}}function ro(t,e,n,r,i,o,a,s,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,ee(l),l[3]=l[15]=t,l[8]=n,l[10]=a||t&&t[10],l[11]=s||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function io(t,e,n,r,i){var o=t.data[e];if(null===o)o=oo(t,e,n,r,i),re.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;var a=le();o.injectorIndex=null===a?-1:a.injectorIndex}return he(o,!0),o}function oo(t,e,n,r,i){var o=ce(),a=fe(),s=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=s),null!==o&&(a?null==o.child&&null!==s.parent&&(o.child=s):null===o.next&&(o.next=s)),s}function ao(t,e,n,r){if(0===n)return-1;for(var i=e.length,o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function so(t,e,n){Ie(e);try{var r=t.viewQuery;null!==r&&Vo(1,r,n);var i=t.template;null!==i&&lo(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&no(t,e),t.staticViewQueries&&Vo(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)Ro(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,Ae()}}function uo(t,e,n,r){var i=e[2];if(256!=(256&i)){Ie(e);var o=pe();try{ee(e),re.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&lo(t,e,n,2,r);var a=3==(3&i);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&Ve(e,s,null)}else{var u=t.preOrderHooks;null!==u&&Ue(e,u,0,null),qe(e,0)}if(function(t){for(var e=ni(t);null!==e;e=ri(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r];0==(1024&i[2])&&ne(i[3],1),i[2]|=1024}}(e),function(t){for(var e=ni(t);null!==e;e=ri(e))for(var n=_t;n<e.length;n++){var r=e[n],i=r[1];$t(r)&&uo(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&no(t,e),!o)if(a){var c=t.contentCheckHooks;null!==c&&Ve(e,c)}else{var l=t.contentHooks;null!==l&&Ue(e,l,1),qe(e,1)}!function(t,e){var n,r,i=t.hostBindingOpCodes;if(null!==i)try{for(var o=0;o<i.length;o++){var a=i[o];if(a<0)Re(~a);else{var s=a,u=i[++o],c=i[++o];n=s,r=void 0,(r=re.lFrame).bindingIndex=r.bindingRootIndex=u,_e(n),c(2,e[s])}}}finally{Re(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)No(t,e[n])}(e,h);var f=t.viewQuery;if(null!==f&&Vo(2,f,r),!o)if(a){var d=t.viewCheckHooks;null!==d&&Ve(e,d)}else{var p=t.viewHooks;null!==p&&Ue(e,p,2),qe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ne(e[3],-1))}finally{Ae()}}}function co(t,e,n,r){var i=e[10],o=!pe(),a=Xt(e);try{o&&!a&&i.begin&&i.begin(),a&&so(t,e,r),uo(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function lo(t,e,n,r,i){var o=De();try{Re(-1),2&r&&e.length>wt&&Yi(t,e,wt,pe()),n(r,i)}finally{Re(o)}}function ho(t,e,n){if(jt(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function fo(t,e,n){ie()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||rn(n,e),Yr(r,e);for(var a=n.initialInputs,s=i;s<o;s++){var u=t.data[s],c=Tt(u);c&&To(e,n,u);var l=bn(e,t,s,n);Yr(l,e),null!==a&&Co(0,s-i,l,u,0,a),c&&(Jt(n.index,e)[8]=l)}}(t,e,n,Gt(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=n.index,a=re.lFrame.currentDirectiveIndex;try{Re(o);for(var s=r;s<i;s++){var u=t.data[s],c=e[s];_e(s),null===u.hostBindings&&0===u.hostVars&&null===u.hostAttrs||Oo(u,c)}}finally{Re(-1),_e(a)}}(t,e,n))}function po(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gt,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}function vo(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=bo(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function bo(t,e,n,r,i,o,a,s,u,c){var l=wt+r,h=l+i,f=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:Gi);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:s,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function yo(t,e,n,r){var i=qo(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Bo(t).push(r,i.length-1))}function go(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function mo(t,e,n,r,i,o,a,s){var u,c,l=Gt(e,n),h=e.inputs;!s&&null!=h&&(u=h[r])?(Wo(t,n,u,r,i),St(e)&&function(t,e){var n=Jt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=a?a(i,e.value||"",r):i,Ht(o)?o.setProperty(l,r,i):Qe(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function wo(t,e,n,r){var i=!1;if(ie()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];Hi(n,a.selectors,!1)&&(i||(i=[]),un(rn(n,e),t,a.type),Tt(a)?(ko(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){i=!0,So(n,t.data.length,o.length);for(var s=0;s<o.length;s++){var u=o[s];u.providersResolver&&u.providersResolver(u)}for(var c=!1,l=!1,h=ao(t,e,o.length,null),f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=Ye(n.mergedAttrs,d.hostAttrs),Io(t,n,e,h,d),jo(h,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128);var p=d.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),c=!0),l||!p.ngOnChanges&&!p.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),h++}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],a=null,s=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||Fi(e)?null:xo(l,i);o.push(h),a=go(l,u,a),s=go(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n)}a&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new Ct("301","Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,a)}return n.mergedAttrs=Ye(n.mergedAttrs,n.attrs),i}function _o(t,e,n,r,i,o){var a=o.hostBindings;if(a){var s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);var u=~e.index;(function(t){for(var e=t.length;e>0;){var n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=u&&s.push(u),s.push(r,i,a)}}function Oo(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ko(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function jo(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Tt(e)&&(n[""]=t)}}function So(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Io(t,e,n,r,i){t.data[r]=i;var o=i.factory||(i.factory=Et(i.type)),a=new ze(o,Tt(i),null);t.blueprint[r]=a,n[r]=a,_o(t,e,0,r,ao(t,n,i.hostVars,Gi),i)}function To(t,e,n){var r=Gt(e,t),i=vo(n),o=t[10],a=Po(t,ro(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=a}function Eo(t,e,n,r,i,o,a){if(null==o)Ht(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{var s=null==a?xt(o):a(o,r||"",i);Ht(t)?t.setAttribute(e,i,s,n):n?e.setAttributeNS(n,i,s):e.setAttribute(i,s)}}function Co(t,e,n,r,i,o){var a=o[e];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function xo(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ao(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function No(t,e){var n=Jt(e,t);if($t(n)){var r=n[1];80&n[2]?uo(r,n,r.template,n[8]):n[5]>0&&Do(n)}}function Do(t){for(var e=ni(t);null!==e;e=ri(e))for(var n=_t;n<e.length;n++){var r=e[n];if(1024&r[2]){var i=r[1];uo(i,r,i.template,r[8])}else r[5]>0&&Do(r)}var o=t[1].components;if(null!==o)for(var a=0;a<o.length;a++){var s=Jt(o[a],t);$t(s)&&s[5]>0&&Do(s)}}function Ro(t,e){var n=Jt(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),so(r,n,n[8])}function Po(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Lo(t){for(;t;){t[2]|=64;var e=ei(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Mo(t,e,n){var r=e[10];r.begin&&r.begin();try{uo(t,e,t.template,n)}catch(i){throw Ho(e,i),i}finally{r.end&&r.end()}}function Fo(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=Zt(n),i=r[1];co(i,r,i.template,n)}}(t[8])}function Vo(t,e,n){ke(0),e(t,n)}var Uo=function(){return Promise.resolve(null)}();function qo(t){return t[7]||(t[7]=[])}function Bo(t){return t.cleanup||(t.cleanup=[])}function Ho(t,e){var n=t[9],r=n?n.get(Gr,null):null;r&&r.handleError(e)}function Wo(t,e,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=e[a],c=t.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function zo(t,e,n){var r=Kt(e,t);si(t[11],r,n)}function Ko(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var a=0;a<e.length;a++){var s=e[a];"number"==typeof s?o=s:1==o?i=S(i,s):2==o&&(r=S(r,s+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Go=new Tn("INJECTOR",-1),Qo=function(){function t(){Object(d.a)(this,t)}return Object(f.a)(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wn;if(e===Wn){var n=new Error("NullInjectorError: No provider for ".concat(j(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),Yo=new Tn("Set Injector scope."),Jo={},Zo={},Xo=[],$o=void 0;function ta(){return void 0===$o&&($o=new Qo),$o}function ea(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new na(t,n,e||ta(),r)}var na=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(d.a)(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&An(n,function(t){return i.processProvider(t,e,n)}),An([e],function(t){return i.processInjectorType(t,[],a)}),this.records.set(Go,oa(void 0,this));var s=this.records.get(Yo);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:j(e))}return Object(f.a)(t,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wn,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:q.Default;this.assertNotDestroyed();var r=Yn(this);try{if(!(n&q.SkipSelf)){var i=this.records.get(t);if(void 0===i){var o=ua(t)&&D(t);i=o&&this.injectableDefInScope(o)?oa(ra(t),Jo):null,this.records.set(t,i)}if(null!=i)return this.hydrate(t,i)}var a=n&q.Self?ta():this.parent;return a.get(t,e=n&q.Optional&&e===Wn?null:e)}catch(u){if("NullInjectorError"===u.name){var s=u.ngTempTokenPath=u.ngTempTokenPath||[];if(s.unshift(j(t)),r)throw u;return $n(u,t,"R3InjectorError",this.source)}throw u}finally{Yn(r)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach(function(e){return t.get(e)})}},{key:"toString",value:function(){var t=[];return this.records.forEach(function(e,n){return t.push(j(n))}),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=E(t)))return!1;var i=P(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=P(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{An(i.imports,function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))})}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;An(i,function(t){return r.processProvider(t,n,i||Xo)})},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a),this.records.set(a,oa(i.factory,Jo));var h=i.providers;if(null!=h&&!s){var f=t;An(h,function(t){return r.processProvider(t,f,h)})}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=sa(t=E(t))?t:E(t&&t.provide),i=function(t,e,n){return aa(t)?oa(void 0,t.useValue):oa(ia(t),Jo)}(t);if(sa(t)||!0!==t.multi)this.records.get(r);else{var o=this.records.get(r);o||((o=oa(void 0,Jo,!0)).factory=function(){return Xn(o.multi)},this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===Jo&&(e.value=Zo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}]),t}();function ra(t){var e=D(t),n=null!==e?e.factory:Et(t);if(null!==n)return n;var r=P(t);if(null!==r)return r.factory;if(t instanceof Tn)throw new Error("Token ".concat(j(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=Rn(e,"?");throw new Error("Can't resolve all parameters for ".concat(j(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[M]||t[V]);if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in a future version of Angular. Please add @Injectable() to the "'.concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function ia(t,e,n){var r,i=void 0;if(sa(t)){var o=E(t);return Et(o)||ra(o)}if(aa(t))i=function(){return E(t.useValue)};else if((r=t)&&r.useFactory)i=function(){return t.useFactory.apply(t,Object(u.a)(Xn(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))i=function(){return Zn(E(t.useExisting))};else{var a=E(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Et(a)||ra(a);i=function(){return h(a,Object(u.a)(Xn(t.deps)))}}return i}function oa(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function aa(t){return null!==t&&"object"==typeof t&&Gn in t}function sa(t){return"function"==typeof t}function ua(t){return"function"==typeof t||"object"==typeof t&&t instanceof Tn}var ca=function(t,e,n){return function(t){var e=ea(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3?arguments[3]:void 0);return e._resolveInjectorDefTypes(),e}({name:n},e,t,n)},la=function(){var t=function(){function t(){Object(d.a)(this,t)}return Object(f.a)(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?ca(t,e,""):ca(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=Wn,t.NULL=new Qo,t.\u0275prov=A({token:t,providedIn:"any",factory:function(){return Zn(Go)}}),t.__NG_ELEMENT_ID__=-1,t}();function ha(t,e){Fe(Zt(t)[1],ue())}function fa(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(Tt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=da(t.inputs),o.declaredInputs=da(t.declaredInputs),o.outputs=da(t.outputs);var a=i.hostBindings;a&&ba(t,a);var s=i.viewQuery,u=i.contentQueries;if(s&&pa(t,s),u&&va(t,u),k(t.inputs,i.inputs),k(t.declaredInputs,i.declaredInputs),k(t.outputs,i.outputs),Tt(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(t),f===fa&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ye(i.hostAttrs,n=Ye(n,i.hostAttrs))}}(r)}function da(t){return t===$?{}:t===tt?[]:t}function pa(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function va(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function ba(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var ya=null;function ga(){if(!ya){var t=X.Symbol;if(t&&t.iterator)ya=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(ya=r)}}return ya}var ma=function(){function t(e){Object(d.a)(this,t),this.wrapped=e}return Object(f.a)(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function wa(t){return!!_a(t)&&(Array.isArray(t)||!(t instanceof Map)&&ga()in t)}function _a(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Oa(t,e,n){return t[e]=n}function ka(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ja(t,e,n,r){var i=ka(t,e,n);return ka(t,e+1,r)||i}function Sa(t,e,n,r){var i=oe();return ka(i,ge(),e)&&(ae(),function(t,e,n,r,i,o){var a=Gt(t,e);Eo(e[11],a,o,t.value,n,r,i)}(Pe(),i,t,e,n,r)),Sa}function Ia(t,e,n,r){return ka(t,ge(),n)?e+xt(n)+r:Gi}function Ta(t,e,n,r,i,o,a,s){var u=oe(),c=ae(),l=t+wt,h=c.firstCreatePass?function(t,e,n,r,i,o,a,s,u){var c=e.consts,l=io(e,t,4,a||null,te(c,s));wo(e,n,l,te(c,u)),Fe(e,l);var h=l.tViews=bo(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,a):c.data[l];he(h,!1);var f=u[11].createComment("");Si(c,u,f,h),Yr(f,u),Po(u,u[l]=Ao(f,u,f,h)),It(h)&&fo(c,u,h),null!=a&&po(u,h,s)}function Ea(t){return Yt(re.lFrame.contextLView,wt+t)}function Ca(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q.Default,n=oe();if(null===n)return Zn(t,e);var r=ue();return hn(r,n,E(t),e)}function xa(t,e,n){var r=oe();return ka(r,ge(),e)&&mo(ae(),Pe(),r,t,e,r[11],n,!1),xa}function Aa(t,e,n,r,i){var o=i?"class":"style";Wo(t,n,e.inputs[o],o,r)}function Na(t,e,n,r){var i=oe(),o=ae(),a=wt+t,s=i[11],u=i[a]=ci(s,e,re.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,a){var s=e.consts,u=io(e,t,2,i,te(s,o));return wo(e,n,u,te(s,a)),null!==u.attrs&&Ko(u,u.attrs,!1),null!==u.mergedAttrs&&Ko(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(a,o,i,0,e,n,r):o.data[a];he(c,!0);var l=c.mergedAttrs;null!==l&&Ke(s,u,l);var h=c.classes;null!==h&&Ri(s,u,h);var f=c.styles;null!==f&&Di(s,u,f),64!=(64&c.flags)&&Si(o,i,u,c),0===re.lFrame.elementDepthCount&&Yr(u,i),re.lFrame.elementDepthCount++,It(c)&&(fo(o,i,c),ho(o,c,i)),null!==r&&po(i,c)}function Da(){var t=ue();fe()?de():he(t=t.parent,!1);var e=t;re.lFrame.elementDepthCount--;var n=ae();n.firstCreatePass&&(Fe(n,t),jt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Aa(n,e,oe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Aa(n,e,oe(),e.stylesWithoutHost,!1)}function Ra(t,e,n,r){Na(t,e,n,r),Da()}function Pa(t,e,n){var r=oe(),i=ae(),o=t+wt,a=i.firstCreatePass?function(t,e,n,r,i){var o=e.consts,a=te(o,r),s=io(e,t,8,"ng-container",a);return null!==a&&Ko(s,a,!0),wo(e,n,s,te(o,i)),null!==e.queries&&e.queries.elementStart(e,s),s}(o,i,r,e,n):i.data[o];he(a,!0);var s=r[o]=r[11].createComment("");Si(i,r,s,a),Yr(s,r),It(a)&&(fo(i,r,a),ho(i,a,r)),null!=n&&po(r,a)}function La(){var t=ue(),e=ae();fe()?de():he(t=t.parent,!1),e.firstCreatePass&&(Fe(e,t),jt(t)&&e.queries.elementEnd(t))}function Ma(){return oe()}function Fa(t){return!!t&&"function"==typeof t.then}function Va(t){return!!t&&"function"==typeof t.subscribe}function Ua(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=oe(),o=ae(),a=ue();return Ba(o,i,i[11],a,t,e,n,r),Ua}function qa(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=e[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}function Ba(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=It(r),c=t.firstCreatePass,l=c&&Bo(t),h=qo(e),f=!0;if(3&r.type){var d=Gt(r,e),p=s?s(d):$,v=p.target||d,b=h.length,y=s?function(t){return s(zt(t[r.index])).target}:r.index;if(Ht(n)){var g=null;if(!s&&u&&(g=qa(t,e,i,r.index)),null!==g){var m=g.__ngLastListenerFn__||g;m.__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,f=!1}else{o=Wa(r,e,o,!1);var w=n.listen(p.name||v,i,o);h.push(o,w),l&&l.push(i,y,b,b+1)}}else o=Wa(r,e,o,!0),v.addEventListener(i,o,a),h.push(o),l&&l.push(i,y,b,a)}else o=Wa(r,e,o,!1);var _,O=r.outputs;if(f&&null!==O&&(_=O[i])){var k=_.length;if(k)for(var j=0;j<k;j+=2){var S=_[j],I=_[j+1],T=e[S],E=T[I],C=E.subscribe(o),x=h.length;h.push(o,C),l&&l.push(i,r.index,x,-(x+1))}}}function Ha(t,e,n){try{return!1!==e(n)}catch(r){return Ho(t,r),!1}}function Wa(t,e,n,r){return function i(o){if(o===Function)return n;var a=2&t.flags?Jt(t.index,e):e;0==(32&e[2])&&Lo(a);for(var s=Ha(e,n,o),u=i.__ngNextListenerFn__;u;)s=Ha(e,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function za(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Ne(t)}function Ka(t,e){for(var n=null,r=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),i=0;i<e.length;i++){var o=e[i];if("*"!==o){if(null===r?Hi(t,o,!0):Wi(r,o))return i}else n=i}return n}function Ga(t){var e=oe()[16][6];if(!e.projection)for(var n=e.projection=Rn(t?t.length:1,null),r=n.slice(),i=e.child;null!==i;){var o=t?Ka(i,t):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function Qa(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=oe(),i=ae(),o=io(i,wt+t,16,null,n||null);null===o.projection&&(o.projection=e),de(),64!=(64&o.flags)&&Ai(i,r,o)}function Ya(t,e,n){return Ja(t,"",e,"",n),Ya}function Ja(t,e,n,r,i){var o=oe(),a=Ia(o,e,n,r);return a!==Gi&&mo(ae(),Pe(),o,t,a,o[11],i,!1),Ja}var Za=[];function Xa(t,e,n,r,i){for(var o=t[n+1],a=null===e,s=r?Zi(o):$i(o),u=!1;0!==s&&(!1===u||a);){var c=t[s+1];$a(t[s],e)&&(u=!0,t[s+1]=r?eo(c):Xi(c)),s=r?Zi(c):$i(c)}u&&(t[n+1]=r?Xi(o):eo(o))}function $a(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Mn(t,e)>=0}var ts={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function es(t){return t.substring(ts.key,ts.keyEnd)}function ns(t,e){var n=ts.textEnd;return n===e?-1:(e=ts.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,ts.key=e,n),rs(t,e,n))}function rs(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function is(t,e,n){return us(t,e,n,!1),is}function os(t,e){return us(t,e,null,!0),os}function as(t){cs(Pn,ss,t,!0)}function ss(t,e){for(var n=function(t){return function(t){ts.key=0,ts.keyEnd=0,ts.value=0,ts.valueEnd=0,ts.textEnd=t.length}(t),ns(t,rs(t,0,ts.textEnd))}(e);n>=0;n=ns(e,n))Pn(t,es(e),!0)}function us(t,e,n,r){var i=oe(),o=ae(),a=me(2);o.firstUpdatePass&&hs(o,t,a,r),e!==Gi&&ka(i,a,e)&&ps(o,o.data[De()],i,i[11],t,i[a+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=j(sr(t)))),t}(e,n),r,a)}function cs(t,e,n,r){var i=ae(),o=me(2);i.firstUpdatePass&&hs(i,null,o,r);var a=oe();if(n!==Gi&&ka(a,o,n)){var s=i.data[De()];if(ys(s,r)&&!ls(i,o)){var u=r?s.classesWithoutHost:s.stylesWithoutHost;null!==u&&(n=S(u,n||"")),Aa(i,s,a,n,r)}else!function(t,e,n,r,i,o,a,s){i===Gi&&(i=Za);for(var u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==l||null!==h;){var f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0,p=null,v=void 0;l===h?(u+=2,c+=2,f!==d&&(p=h,v=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,v=d),null!==p&&ps(t,e,n,r,p,v,a,s),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(t,e,n){if(null==n||""===n)return Za;var r=[],i=sr(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&t(r,a,i[a]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function ls(t,e){return e>=t.expandoStartIndex}function hs(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[De()],a=ls(t,n);ys(o,r)&&null===e&&!a&&(e=!1),e=function(t,e,n,r){var i=function(t){var e=re.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=ds(n=fs(null,t,e,n,r),e.attrs,r),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=fs(i,t,e,n,r),null===o){var s=function(t,e,n){var r=n?e.classBindings:e.styleBindings;if(0!==$i(r))return t[Zi(r)]}(t,e,r);void 0!==s&&Array.isArray(s)&&function(t,e,n,r){t[Zi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,s=ds(s=fs(null,t,e,s[1],r),e.attrs,r))}else o=function(t,e,n){for(var r=void 0,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=ds(r,t[o].hostAttrs,n);return ds(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){var a=o?e.classBindings:e.styleBindings,s=Zi(a),u=$i(a);t[r]=n;var c,l=!1;if(Array.isArray(n)?(null===(c=n[1])||Mn(n,c)>0)&&(l=!0):c=n,i)if(0!==u){var h=Zi(t[s+1]);t[r+1]=Ji(h,s),0!==h&&(t[h+1]=to(t[h+1],r)),t[s+1]=131071&t[s+1]|r<<17}else t[r+1]=Ji(s,0),0!==s&&(t[s+1]=to(t[s+1],r)),s=r;else t[r+1]=Ji(u,0),0===s?s=r:t[u+1]=to(t[u+1],r),u=r;l&&(t[r+1]=Xi(t[r+1])),Xa(t,c,r,!0),Xa(t,c,r,!1),function(t,e,n,r,i){var o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Mn(o,e)>=0&&(n[r+1]=eo(n[r+1]))}(e,c,t,r,o),a=Ji(s,u),o?e.classBindings=a:e.styleBindings=a}(i,o,e,n,a,r)}}function fs(t,e,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=ds(r,(o=e[s]).hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function ds(t,e,n){var r=n?1:2,i=-1;if(null!==e)for(var o=0;o<e.length;o++){var a=e[o];"number"==typeof a?i=a:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Pn(t,a,!!n||e[++o]))}return void 0===t?null:t}function ps(t,e,n,r,i,o,a,s){if(3&e.type){var u=t.data,c=u[s+1];bs(1==(1&c)?vs(u,e,n,i,$i(c),a):void 0)||(bs(o)||2==(2&c)&&(o=vs(u,null,n,i,s,a)),function(t,e,n,r,i){var o=Ht(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{var a=-1===r.indexOf("-")?void 0:$r.DashCase;if(null==i)o?t.removeStyle(n,r,a):n.style.removeProperty(r);else{var s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),a|=$r.Important),o?t.setStyle(n,r,i,a):n.style.setProperty(r,i,s?"important":"")}}}(r,a,Kt(De(),n),i,o))}}function vs(t,e,n,r,i,o){for(var a=null===e,s=void 0;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===Gi&&(f=h?Za:void 0);var d=h?Ln(f,r):l===r?f:void 0;if(c&&!bs(d)&&(d=Ln(u,r)),bs(d)&&(s=d,a))return s;var p=t[i+1];i=a?Zi(p):$i(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(s=Ln(v,r))}return s}function bs(t){return void 0!==t}function ys(t,e){return 0!=(t.flags&(e?16:32))}function gs(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=oe(),r=ae(),i=t+wt,o=r.firstCreatePass?io(r,i,1,e,null):r.data[i],a=n[i]=ai(n[11],e);Si(r,n,a,o),he(o,!1)}function ms(t){return ws("",t,""),ms}function ws(t,e,n){var r=oe(),i=Ia(r,t,e,n);return i!==Gi&&zo(r,De(),i),ws}function _s(t,e,n,r,i){var o=oe(),a=function(t,e,n,r,i,o){var a=ja(t,ye(),n,i);return me(2),a?e+xt(n)+r+xt(i)+o:Gi}(o,t,e,n,r,i);return a!==Gi&&zo(o,De(),a),_s}function Os(t,e,n){cs(Pn,ss,Ia(oe(),t,e,n),!0)}function ks(t,e,n,r,i,o,a,s,u){cs(Pn,ss,function(t,e,n,r,i,o,a,s,u,c){var l=function(t,e,n,r,i,o){var a=ja(t,e,n,r);return ja(t,e+2,i,o)||a}(t,ye(),n,i,a,u);return me(4),l?e+xt(n)+r+xt(i)+o+xt(a)+s+xt(u)+c:Gi}(oe(),t,e,n,r,i,o,a,s,u),!0)}function js(t,e,n){var r=oe();return ka(r,ge(),e)&&mo(ae(),Pe(),r,t,e,r[11],n,!0),js}var Ss=void 0,Is=["en",[["a","p"],["AM","PM"],Ss],[["AM","PM"],Ss,Ss],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ss,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ss,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ss,"{1} 'at' {0}",Ss],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],Ts={};function Es(t,e,n){"string"!=typeof e&&(n=e,e=t[Ds.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Ts[e]=t,n&&(Ts[e][Ds.ExtraData]=n)}function Cs(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=Ns(e);if(n)return n;var r=e.split("-")[0];if(n=Ns(r))return n;if("en"===r)return Is;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function xs(t){return Cs(t)[Ds.CurrencyCode]||null}function As(t){return Cs(t)[Ds.PluralCase]}function Ns(t){return t in Ts||(Ts[t]=X.ng&&X.ng.common&&X.ng.common.locales&&X.ng.common.locales[t]),Ts[t]}var Ds=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({}),Rs=["zero","one","two","few","many"],Ps="en-US",Ls={marker:"element"},Ms={marker:"ICU"},Fs=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({}),Vs=Ps;function Us(t){var e;null==(e=t)&&x("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(Vs=t.toLowerCase().replace(/_/g,"-"))}function qs(t,e,n){var r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?_i(t,0,n):zt(n[i])}function Bs(t,e,n,r,i){var o=e.insertBeforeIndex;if(Array.isArray(o)){var a=r,s=null;if(3&e.type||(s=a,a=i),null!==a&&0==(2&e.flags))for(var u=1;u<o.length;u++)bi(t,a,n[o[u]],s,!1)}}function Hs(t,e){if(t.push(e),t.length>1)for(var n=t.length-2;n>=0;n--){var r=t[n];Ws(r)||zs(r,e)&&null===(i=r.insertBeforeIndex,Array.isArray(i)?i[0]:i)&&Ks(r,e.index)}var i}function Ws(t){return!(64&t.type)}function zs(t,e){return Ws(e)||t.index>e.index}function Ks(t,e){var n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(ji(qs,Bs),t.insertBeforeIndex=e)}function Gs(t,e){var n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Qs(t,e,n){var r=oo(t,n,64,null,null);return Hs(e,r),r}function Ys(t,e){var n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}var Js=0,Zs=0;function Xs(t,e,n,r){for(var i=t[11],o=0;o<e.length;o++){var a=e[o++],s=e[o],u=(a&Fs.APPEND_EAGERLY)===Fs.APPEND_EAGERLY,c=a>>>Fs.SHIFT,l=t[c];null===l&&(l=t[c]=(a&Fs.COMMENT)===Fs.COMMENT?i.createComment(s):ai(i,s)),u&&null!==n&&bi(i,n,l,r,!1)}}function $s(t,e,n,r){for(var i,o=n[11],a=null,s=0;s<e.length;s++){var u=e[s];if("string"==typeof u){var c=e[++s];null===n[c]&&(n[c]=ai(o,u))}else if("number"==typeof u)switch(1&u){case 0:var l=u>>>17;null===a&&(a=l,i=mi(o,r));var h=void 0,f=void 0;if(l===a?(h=r,f=i):(h=null,f=zt(n[l])),null!==f){var d=(131070&u)>>>1;bi(o,f,n[d],h,!1);var p=Gs(t,d);if(null!==p&&"object"==typeof p){var v=Ys(p,n);null!==v&&$s(t,p.create[v],n,n[p.anchorIdx])}}break;case 1:var b=e[++s],y=e[++s];Eo(o,Kt(u>>>1,n),null,null,b,y,null);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(u,'"'))}else switch(u){case Ms:var g=e[++s],m=e[++s];null===n[m]&&Yr(n[m]=ui(o,g),n);break;case Ls:var w=e[++s],_=e[++s];null===n[_]&&Yr(n[_]=ci(o,w,null),n)}}}function tu(t,e,n,r,i){for(var o=0;o<n.length;o++){var a=n[o],s=n[++o];if(a&i)for(var u="",c=o+1;c<=o+s;c++){var l=n[c];if("string"==typeof l)u+=l;else if("number"==typeof l)if(l<0)u+=xt(e[r-l]);else{var h=l>>>2;switch(3&l){case 1:var f=n[++c],d=n[++c],p=t.data[h];"string"==typeof p?Eo(e[11],e[h],null,p,f,u,d):mo(t,p,e,f,u,e[11],d,!1);break;case 0:var v=e[h];null!==v&&si(e[11],v,u);break;case 2:nu(t,Gs(t,h),e,u);break;case 3:eu(t,Gs(t,h),r,e)}}}else{var b=n[o+1];if(b>0&&3==(3&b)){var y=Gs(t,b>>>2);e[y.currentCaseLViewIndex]<0&&eu(t,y,r,e)}}o+=s}}function eu(t,e,n,r){var i=r[e.currentCaseLViewIndex];if(null!==i){var o=Js;i<0&&(i=r[e.currentCaseLViewIndex]=~i,o=-1),tu(t,r,e.update[i],n,o)}}function nu(t,e,n,r){var i=function(t,e){var n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:var r=function(t,e){var n=As(e)(parseInt(t,10)),r=Rs[n];return void 0!==r?r:"other"}(e,Vs);-1===(n=t.cases.indexOf(r))&&"other"!==r&&(n=t.cases.indexOf("other"));break;case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(Ys(e,n)!==i&&(ru(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){var o=n[e.anchorIdx];o&&$s(t,e.create[i],n,o)}}function ru(t,e,n){var r=Ys(e,n);if(null!==r)for(var i=e.remove[r],o=0;o<i.length;o++){var a=i[o];if(a>0){var s=Kt(a,n);null!==s&&Ei(n[11],s)}else ru(t,Gs(t,~a),n)}}var iu=/\ufffd(\d+):?\d*\ufffd/gi,ou=/\ufffd(\d+)\ufffd/,au=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,su="\ufffd",uu=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,cu=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,lu=/\uE500/g;function hu(t,e,n,r,i,o){for(var a=le(),s=[],u=[],c=[[]],l=function(t){return t.replace(lu," ")}(i=function(t,e){if(function(t){return-1===t}(e))return bu(t);var n=t.indexOf(":".concat(e).concat(su))+2+e.toString().length,r=t.search(new RegExp("".concat(su,"\\/\\*\\d+:").concat(e).concat(su)));return bu(t.substring(n,r))}(i,o)).split(cu),h=0;h<l.length;h++){var f=l[h];if(0==(1&h))for(var d=mu(f),p=0;p<d.length;p++){var v=d[p];if(0==(1&p))""!==v&&du(t,a,c[0],s,u,n,v);else{var b=v;if("object"!=typeof b)throw new Error('Unable to parse ICU expression in "'.concat(i,'" message.'));yu(t,n,u,e,b,fu(t,a,c[0],n,s,"",!0).index)}}else{var y=47===f.charCodeAt(0),g=(f.charCodeAt(y?1:0),wt+Number.parseInt(f.substring(y?2:1)));if(y)c.shift(),he(le(),!1);else{var m=Qs(t,c[0],g);c.unshift([]),he(m,!0)}}}t.data[r]={create:s,update:u}}function fu(t,e,n,r,i,o,a){var s=ao(t,r,1,null),u=s<<Fs.SHIFT,c=le();e===c&&(c=null),null===c&&(u|=Fs.APPEND_EAGERLY),a&&(u|=Fs.COMMENT,void 0===Xr&&(Xr=function(){var t,e,n=[],r=-1;function i(t,n){r=0;var i=Ys(t,n);e=null!==i?t.remove[i]:tt}function o(){if(r<e.length){var a=e[r++];return a>0?t[a]:(n.push(r,e),i(t[1].data[~a],t),o())}return 0===n.length?null:(e=n.pop(),r=n.pop(),o())}return function(e,r){for(t=r;n.length;)n.pop();return i(e.value,r),o}}())),i.push(u,null===o?"":o);var l=oo(t,s,a?32:1,null===o?"":o,null);Hs(n,l);var h=l.index;return he(l,!1),null!==c&&e!==c&&function(t,e){var n,r=t.insertBeforeIndex;null===r?(ji(qs,Bs),r=t.insertBeforeIndex=[null,e]):("Expecting array here",(n=Array.isArray(r))!=!0&&x("Expecting array here",n,true,"=="),r.push(e))}(c,h),l}function du(t,e,n,r,i,o,a){var s=a.match(iu),u=fu(t,e,n,o,r,s?null:a,!1);s&&pu(i,a,u.index)}function pu(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=t.length,a=o+1;t.push(null,null);for(var s=o+2,u=e.split(iu),c=0,l=0;l<u.length;l++){var h=u[l];if(1&l){var f=parseInt(h,10);t.push(-1-f),c|=vu(f)}else""!==h&&t.push(h)}return t.push(n<<2|(r?1:0)),r&&t.push(r,i),t[o]=c,t[a]=t.length-s,c}function vu(t){return 1<<Math.min(t,31)}function bu(t){for(var e,n,r="",i=0,o=!1;null!==(e=uu.exec(t));)o?e[0]==="".concat(su,"/*").concat(n).concat(su)&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+t.substr(i)}function yu(t,e,n,r,i,o){var a=0,s={type:i.type,currentCaseLViewIndex:ao(t,e,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(vu(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,o),function(t,e,n){var r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,o,s);for(var u=i.values,c=0;c<u.length;c++){for(var l=u[c],h=[],f=0;f<l.length;f++){var d=l[f];if("string"!=typeof d){var p=h.push(d)-1;l[f]="\x3c!--\ufffd".concat(p,"\ufffd--\x3e")}}a=wu(t,s,e,n,r,i.cases[c],l.join(""),h)|a}a&&function(t,e,n){t.push(e,1,n<<2|3)}(n,a,o)}function gu(t){for(var e=[],n=[],r=1,i=0,o=mu(t=t.replace(au,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""})),a=0;a<o.length;){var s=o[a++].trim();1===r&&(s=s.replace(/\s*(?:=)?(\w+)\s*/,"$1")),s.length&&e.push(s);var u=mu(o[a++]);e.length>n.length&&n.push(u)}return{type:r,mainBinding:i,cases:e,values:n}}function mu(t){if(!t)return[];var e,n=0,r=[],i=[],o=/[{}]/g;for(o.lastIndex=0;e=o.exec(t);){var a=e.index;if("}"==e[0]){if(r.pop(),0==r.length){var s=t.substring(n,a);au.test(s)?i.push(gu(s)):i.push(s),n=a+1}}else{if(0==r.length){var u=t.substring(n,a);i.push(u),n=a+1}r.push("{")}}var c=t.substring(n);return i.push(c),i}function wu(t,e,n,r,i,o,a,s){var u=[],c=[],l=[];e.cases.push(o),e.create.push(u),e.remove.push(c),e.update.push(l);var h=vr(Bt()).getInertBodyElement(a),f=Vr(h)||h;return f?_u(t,e,n,r,u,c,l,f,i,s,0):0}function _u(t,e,n,r,i,o,a,s,u,c,l){for(var h=0,f=s.firstChild;f;){var d=ao(t,n,1,null);switch(f.nodeType){case Node.ELEMENT_NODE:var p=f,v=p.tagName.toLowerCase();if(Cr.hasOwnProperty(v)){ju(i,Ls,v,u,d),t.data[d]=v;for(var b=p.attributes,y=0;y<b.length;y++){var g=b.item(y),m=g.name.toLowerCase();g.value.match(iu)?Nr.hasOwnProperty(m)&&(xr[m]?pu(a,g.value,d,g.name,wr):Ar[m]?pu(a,g.value,d,g.name,_r):pu(a,g.value,d,g.name)):Su(i,d,g)}h=_u(t,e,n,r,i,o,a,f,d,c,l+1)|h,Ou(o,d,l)}break;case Node.TEXT_NODE:var w=f.textContent||"",_=w.match(iu);ju(i,null,_?"":w,u,d),Ou(o,d,l),_&&(h=pu(a,w,d)|h);break;case Node.COMMENT_NODE:var O=ou.exec(f.textContent||"");if(O){var k=c[parseInt(O[1],10)];ju(i,Ms,"",u,d),yu(t,n,r,u,k,d),ku(o,d,l)}}f=f.nextSibling}return h}function Ou(t,e,n){0===n&&t.push(e)}function ku(t,e,n){0===n&&(t.push(~e),t.push(e))}function ju(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function Su(t,e,n){t.push(e<<1|1,n.name,n.value)}function Iu(t,e,n){(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=ae(),i=oe(),o=wt+t,a=te(r.consts,e),s=le();r.firstCreatePass&&hu(r,null===s?0:s.index,i,o,a,n);var u=r.data[o],c=vi(r,s===i[6]?null:s,i);Xs(i,u.create,c,s&&8&s.type?i[s.index]:null),we(!0)})(t,e,n),we(!1)}function Tu(t){return ka(oe(),ge(),t)&&(Js|=1<<Math.min(Zs,31)),Zs++,Tu}function Eu(t){!function(t,e,n){if(Zs>0){var r=t.data[n];tu(t,e,Array.isArray(r)?r:r.update,ye()-Zs-1,Js)}Js=0,Zs=0}(ae(),oe(),t+wt)}function Cu(t,e,n){var r=ae();if(r.firstCreatePass){var i=Tt(t);xu(n,r.data,r.blueprint,i,!0),xu(e,r.data,r.blueprint,i,!1)}}function xu(t,e,n,r,i){if(t=E(t),Array.isArray(t))for(var o=0;o<t.length;o++)xu(t[o],e,n,r,i);else{var a=ae(),s=oe(),u=sa(t)?t:E(t.provide),c=ia(t),l=ue(),h=1048575&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>20;if(sa(t)||!t.multi){var p=new ze(c,i,Ca),v=Du(u,e,i?h:h+d,f);-1===v?(un(rn(l,s),a,u),Au(a,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var b=Du(u,e,h+d,f),y=Du(u,e,h,h+d),g=y>=0&&n[y];if(i&&!g||!i&&!(b>=0&&n[b])){un(rn(l,s),a,u);var m=function(t,e,n,r,i){var o=new ze(t,n,Ca);return o.multi=[],o.index=e,o.componentProviders=0,Nu(o,i,r&&!n),o}(i?Pu:Ru,n.length,i,r,c);!i&&g&&(n[y].providerFactory=m),Au(a,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(m),s.push(m)}else Au(a,t,b>-1?b:y,Nu(n[i?y:b],c,!i&&r));!i&&r&&g&&n[y].componentProviders++}}}function Au(t,e,n,r){var i=sa(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function Nu(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Du(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function Ru(t,e,n,r){return Lu(this.multi,[])}function Pu(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=bn(n,n[1],this.providerFactory.index,r);Lu(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else Lu(o,i=[]);return i}function Lu(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function Mu(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return Cu(n,r?r(t):t,e)}}}var Fu=function t(){Object(d.a)(this,t)},Vu=function t(){Object(d.a)(this,t)},Uu=function(){function t(){Object(d.a)(this,t)}return Object(f.a)(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(j(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),qu=function(){var t=function t(){Object(d.a)(this,t)};return t.NULL=new Uu,t}();function Bu(){}function Hu(t,e){return new zu(Gt(t,e))}var Wu=function(){return Hu(ue(),oe())},zu=function(){var t=function t(e){Object(d.a)(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=Wu,t}(),Ku=function t(){Object(d.a)(this,t)},Gu=function(){var t=function t(){Object(d.a)(this,t)};return t.__NG_ELEMENT_ID__=function(){return Qu()},t}(),Qu=function(){var t=oe(),e=Jt(ue().index,t);return function(t){return t[11]}(Ot(e)?e:t)},Yu=function(){var t=function t(){Object(d.a)(this,t)};return t.\u0275prov=A({token:t,providedIn:"root",factory:function(){return null}}),t}(),Ju=function t(e){Object(d.a)(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},Zu=new Ju("11.0.5"),Xu=function(){function t(){Object(d.a)(this,t)}return Object(f.a)(t,[{key:"supports",value:function(t){return wa(t)}},{key:"create",value:function(t){return new tc(t)}}]),t}(),$u=function(t,e){return e},tc=function(){function t(e){Object(d.a)(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||$u}return Object(f.a)(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<ic(n,r,i)?e:n,a=ic(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!wa(t))throw new Error("Error trying to diff '".concat(j(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)i=this._trackByFn(s,r=t[s]),null!==o&&Object.is(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[ga()]();!(r=i.next()).done;)e(r.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&Object.is(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),Object.is(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new ec(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new rc),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rc),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}]),t}(),ec=function t(e,n){Object(d.a)(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},nc=function(){function t(){Object(d.a)(this,t),this._head=null,this._tail=null}return Object(f.a)(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),rc=function(){function t(){Object(d.a)(this,t),this.map=new Map}return Object(f.a)(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new nc,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),t}();function ic(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var oc=function(){function t(){Object(d.a)(this,t)}return Object(f.a)(t,[{key:"supports",value:function(t){return t instanceof Map||_a(t)}},{key:"create",value:function(){return new ac}}]),t}(),ac=function(){function t(){Object(d.a)(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object(f.a)(t,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||_a(t)))throw new Error("Error trying to diff '".concat(j(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new sc(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})}}]),t}(),sc=function t(e){Object(d.a)(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},uc=function(){var t=function(){function t(e){Object(d.a)(this,t),this.factories=e}return Object(f.a)(t,[{key:"find",value:function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Bn,new Un]]}}}]),t}();return t.\u0275prov=A({token:t,providedIn:"root",factory:function(){return new t([new Xu])}}),t}(),cc=function(){var t=function(){function t(e){Object(d.a)(this,t),this.factories=e}return Object(f.a)(t,[{key:"find",value:function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Bn,new Un]]}}}]),t}();return t.\u0275prov=A({token:t,providedIn:"root",factory:function(){return new t([new oc])}}),t}();function lc(t,e,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var o=e[n.index];if(null!==o&&r.push(zt(o)),kt(o))for(var a=_t;a<o.length;a++){var s=o[a],c=s[1].firstChild;null!==c&&lc(s[1],s,c,r)}var l=n.type;if(8&l)lc(t,e,n.child,r);else if(32&l)for(var h=ti(n,e),f=void 0;f=h();)r.push(f);else if(16&l){var d=e[16],p=d[6],v=n.projection,b=p.projection[v];if(Array.isArray(b))r.push.apply(r,Object(u.a)(b));else{var y=ei(d);lc(y[1],y,b,r,!0)}}n=i?n.projectionNext:n.next}return r}var hc=function(){function t(e,n){Object(d.a)(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return Object(f.a)(t,[{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return lc(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}fi(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){yo(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){Lo(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Mo(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){ve(!0);try{Mo(t,e,n)}finally{ve(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,xi(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}]),t}(),fc=function(t){Object(p.a)(n,t);var e=Object(v.a)(n);function n(t){var r;return Object(d.a)(this,n),(r=e.call(this,t))._view=t,r}return Object(f.a)(n,[{key:"detectChanges",value:function(){Fo(this._view)}},{key:"checkNoChanges",value:function(){!function(t){ve(!0);try{Fo(t)}finally{ve(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(hc),dc=vc,pc=function(){var t=function t(){Object(d.a)(this,t)};return t.__NG_ELEMENT_ID__=dc,t.__ChangeDetectorRef__=!0,t}();function vc(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return bc(ue(),oe(),t)}function bc(t,e,n){if(!n&&St(t)){var r=Jt(t.index,e);return new hc(r,r)}return 47&t.type?new hc(e[16],e):null}var yc=[new oc],gc=new uc([new Xu]),mc=new cc(yc),wc=function(){return kc(ue(),oe())},_c=function(){var t=function t(){Object(d.a)(this,t)};return t.__NG_ELEMENT_ID__=wc,t}(),Oc=function(t){Object(p.a)(n,t);var e=Object(v.a)(n);function n(t,r,i){var o;return Object(d.a)(this,n),(o=e.call(this))._declarationLView=t,o._declarationTContainer=r,o.elementRef=i,o}return Object(f.a)(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=ro(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),so(e,n,t),new hc(n)}}]),n}(_c);function kc(t,e){return 4&t.type?new Oc(e,t,Hu(t,e)):null}var jc=function t(){Object(d.a)(this,t)},Sc=function t(){Object(d.a)(this,t)},Ic=function(){return Ac(ue(),oe())},Tc=function(){var t=function t(){Object(d.a)(this,t)};return t.__NG_ELEMENT_ID__=Ic,t}(),Ec=function(t){Object(p.a)(n,t);var e=Object(v.a)(n);function n(t,r,i){var o;return Object(d.a)(this,n),(o=e.call(this))._lContainer=t,o._hostTNode=r,o._hostLView=i,o}return Object(f.a)(n,[{key:"element",get:function(){return Hu(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new wn(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var t=sn(this._hostTNode,this._hostLView);if(Ze(t)){var e=$e(t,this._hostLView),n=Xe(t);return new wn(e[1].data[n+8],e)}return new wn(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){var e=Cc(this._lContainer);return null!==e&&e[t]||null}},{key:"length",get:function(){return this._lContainer.length-_t}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var a=o.get(jc,null);a&&(i=a)}var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var n=t._lView,r=n[1];if(kt(n[3])){var i=this.indexOf(t);if(-1!==i)this.detach(i);else{var o=n[3],a=new Ec(o,o[6],o[3]);a.detach(a.indexOf(t))}}var s=this._adjustIndex(e),u=this._lContainer;!function(t,e,n,r){var i=_t+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-_t?(e[4]=n[i],Nn(n,_t+r,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(r,n,u,s);var c=Ti(s,u),l=n[11],h=mi(l,u[7]);return null!==h&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,xi(t,r,n,1,i,o)}(r,u[6],l,n,h,c),t.attachToViewContainerRef(this),Nn(xc(u),s,t),t}},{key:"move",value:function(t,e){return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=Cc(this._lContainer);return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){var e=this._adjustIndex(t,-1),n=hi(this._lContainer,e);n&&(Dn(xc(this._lContainer),e),fi(n[1],n))}},{key:"detach",value:function(t){var e=this._adjustIndex(t,-1),n=hi(this._lContainer,e);return n&&null!=Dn(xc(this._lContainer),e)?new hc(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}}]),n}(Tc);function Cc(t){return t[8]}function xc(t){return t[8]||(t[8]=[])}function Ac(t,e){var n,r=e[t.index];if(kt(r))n=r;else{var i;if(8&t.type)i=zt(r);else{var o=e[11];i=o.createComment("");var a=Gt(t,e);bi(o,mi(o,a),i,function(t,e){return Ht(t)?t.nextSibling(e):e.nextSibling}(o,a),!1)}e[t.index]=n=Ao(r,e,i,t),Po(e,n)}return new Ec(n,t,e)}var Nc={},Dc=function(t){Object(p.a)(n,t);var e=Object(v.a)(n);function n(t){var r;return Object(d.a)(this,n),(r=e.call(this)).ngModule=t,r}return Object(f.a)(n,[{key:"resolveComponentFactory",value:function(t){var e=gt(t);return new Lc(e,this.ngModule)}}]),n}(qu);function Rc(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var Pc=new Tn("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Jr}}),Lc=function(t){Object(p.a)(n,t);var e=Object(v.a)(n);function n(t,r){var i;return Object(d.a)(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(Ki).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return Object(f.a)(n,[{key:"inputs",get:function(){return Rc(this.componentDef.inputs)}},{key:"outputs",get:function(){return Rc(this.componentDef.outputs)}},{key:"create",value:function(t,e,n,r){var i,o,a=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,Nc,i);return o!==Nc||r===Nc?o:e.get(n,r,i)}}}(t,r.injector):t,s=a.get(Ku,Wt),u=a.get(Yu,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(Ht(t))return t.selectRootElement(e,n===G.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):ci(s.createRenderer(null,this.componentDef),l,function(t){var e=t.toLowerCase();return"svg"===e?Vt:"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d={components:[],scheduler:Jr,clean:Uo,playerHandler:null,flags:0},p=bo(0,null,null,1,0,null,null,null,null,null),v=ro(null,p,d,f,null,null,s,c,u,a);Ie(v);try{var b=function(t,e,n,r,i,o){var a=n[1];n[20]=t;var s=io(a,20,2,"#host",null),u=s.mergedAttrs=e.hostAttrs;null!==u&&(Ko(s,u,!0),null!==t&&(Ke(i,t,u),null!==s.classes&&Ri(i,t,s.classes),null!==s.styles&&Di(i,t,s.styles)));var c=r.createRenderer(t,e),l=ro(n,vo(e),null,e.onPush?64:16,n[20],s,r,c,null,null);return a.firstCreatePass&&(un(rn(s,n),a,e.type),ko(a,s),So(s,n.length,1)),Po(n,l),n[20]=l}(h,this.componentDef,v,s,c);if(h)if(n)Ke(c,h,["ng-version",Zu.full]);else{var y=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!qi(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),g=y.attrs,m=y.classes;g&&Ke(c,h,g),m&&m.length>0&&Ri(c,h,m.join(" "))}if(o=Qt(p,wt),void 0!==e)for(var w=o.projection=[],_=0;_<this.ngContentSelectors.length;_++){var O=e[_];w.push(null!=O?Array.from(O):null)}i=function(t,e,n,r,i){var o=n[1],a=function(t,e,n){var r=ue();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Io(t,r,e,ao(t,e,1,null),n));var i=bn(e,t,r.directiveStart,r);Yr(i,e);var o=Gt(r,e);return o&&Yr(o,e),i}(o,n,e);if(r.components.push(a),t[8]=a,i&&i.forEach(function(t){return t(a,e)}),e.contentQueries){var s=ue();e.contentQueries(1,a,s.directiveStart)}var u=ue();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Re(u.index),_o(n[1],u,0,u.directiveStart,u.directiveEnd,e),Oo(e,a)),a}(b,this.componentDef,v,d,[ha]),so(p,v,null)}finally{Ae()}return new Mc(this.componentType,i,Hu(o,v),v,o)}}]),n}(Vu),Mc=function(t){Object(p.a)(n,t);var e=Object(v.a)(n);function n(t,r,i,o,a){var s;return Object(d.a)(this,n),(s=e.call(this)).location=i,s._rootLView=o,s._tNode=a,s.instance=r,s.hostView=s.changeDetectorRef=new fc(o),s.componentType=t,s}return Object(f.a)(n,[{key:"injector",get:function(){return new wn(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(t){this.hostView.onDestroy(t)}}]),n}(Fu),Fc=new Map,Vc=function(t){Object(p.a)(n,t);var e=Object(v.a)(n);function n(t,r){var i;Object(d.a)(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=Object(o.a)(i),i.destroyCbs=[],i.componentFactoryResolver=new Dc(Object(o.a)(i));var a=mt(t),s=t[ot]||null;return s&&Us(s),i._bootstrapComponents=Zr(a.bootstrap),i._r3Injector=ea(t,r,[{provide:jc,useValue:Object(o.a)(i)},{provide:qu,useValue:i.componentFactoryResolver}],j(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return Object(f.a)(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:la.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:q.Default;return t===la||t===jc||t===Go?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(jc),Uc=function(t){Object(p.a)(n,t);var e=Object(v.a)(n);function n(t){var r,i,o;return Object(d.a)(this,n),(r=e.call(this)).moduleType=t,null!==mt(t)&&(i=t,o=new Set,function t(e){var n=mt(e,!0),r=n.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(j(e)," vs ").concat(j(e.name)))}(r,Fc.get(r),e),Fc.set(r,e));var i,a=Zr(n.imports),u=Object(s.a)(a);try{for(u.s();!(i=u.n()).done;){var c=i.value;o.has(c)||(o.add(c),t(c))}}catch(l){u.e(l)}finally{u.f()}}(i)),r}return Object(f.a)(n,[{key:"create",value:function(t){return new Vc(this.moduleType,t)}}]),n}(Sc);function qc(t,e,n){var r=be()+t,i=oe();return i[r]===Gi?Oa(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Bc(t,e,n,r){return function(t,e,n,r,i,o){var a=e+n;return ka(t,a,i)?Oa(t,a+1,o?r.call(o,i):r(i)):zc(t,a+1)}(oe(),be(),t,e,n,r)}function Hc(t,e,n,r,i){return Kc(oe(),be(),t,e,n,r,i)}function Wc(t,e,n,r,i,o){return function(t,e,n,r,i,o,a,s){var u=e+n;return function(t,e,n,r,i){var o=ja(t,e,n,r);return ka(t,e+2,i)||o}(t,u,i,o,a)?Oa(t,u+3,s?r.call(s,i,o,a):r(i,o,a)):zc(t,u+3)}(oe(),be(),t,e,n,r,i,o)}function zc(t,e){var n=t[e];return n===Gi?void 0:n}function Kc(t,e,n,r,i,o,a){var s=e+n;return ja(t,s,i,o)?Oa(t,s+2,a?r.call(a,i,o):r(i,o)):zc(t,s+2)}function Gc(t,e){var n,r=ae(),i=t+wt;r.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new Ct("302","The pipe '".concat(t,"' could not be found!"))}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=Et(n.type)),a=H(Ca);try{var s=en(!1),u=o();return en(s),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(r,oe(),i,u),u}finally{H(a)}}function Qc(t,e,n,r){var i=t+wt,o=oe(),a=Yt(o,i);return function(t,e){return ma.isWrapped(e)&&(e=ma.unwrap(e),t[ye()]=Gi),e}(o,function(t,e){return t[1].data[e].pure}(o,i)?Kc(o,be(),e,a.transform,n,r,a):a.transform(n,r))}var Yc=function(t){Object(p.a)(n,t);var e=Object(v.a)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(d.a)(this,n),(t=e.call(this)).__isAsync=r,t}return Object(f.a)(n,[{key:"emit",value:function(t){Object(r.a)(Object(i.a)(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,o){var a,s=function(t){return null},u=function(){return null};t&&"object"==typeof t?(a=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(s=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(u=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(a=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},e&&(s=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)}),o&&(u=this.__isAsync?function(){setTimeout(function(){return o()})}:function(){o()}));var c=Object(r.a)(Object(i.a)(n.prototype),"subscribe",this).call(this,a,s,u);return t instanceof y.a&&t.add(c),c}}]),n}(g.a);function Jc(){return this._results[ga()]()}var Zc=function(){function t(){Object(d.a)(this,t),this.dirty=!0,this._results=[],this.changes=new Yc,this.length=0;var e=ga(),n=t.prototype;n[e]||(n[e]=Jc)}return Object(f.a)(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=xn(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),Xc=function(){function t(e){Object(d.a)(this,t),this.queryList=e,this.matches=null}return Object(f.a)(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),$c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(d.a)(this,t),this.queries=e}return Object(f.a)(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==vl(t,e).matches&&this.queries[e].setDirty()}}]),t}(),tl=function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(d.a)(this,t),this.predicate=e,this.descendants=n,this.isStatic=r,this.read=i},el=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(d.a)(this,t),this.queries=e}return Object(f.a)(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(t){this.queries.push(t)}}]),t}(),nl=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;Object(d.a)(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return Object(f.a)(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(t,e,rl(e,i)),this.matchTNodeWithReadOption(t,e,vn(e,t,i,!1,!1))}else n===_c?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,vn(e,t,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===zu||r===Tc||r===_c&&4&e.type)this.addMatch(e.index,-2);else{var i=vn(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function rl(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function il(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Hu(t,e):4&t.type?kc(t,e):null}(e,t):-2===n?function(t,e,n){return n===zu?Hu(e,t):n===_c?kc(e,t):n===Tc?Ac(e,t):void 0}(t,e,r):bn(t,t[1],n,e)}function ol(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:il(e,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function al(t,e,n,r){var i=t.queries.getByIndex(n),o=i.matches;if(null!==o)for(var a=ol(t,e,i,n),s=0;s<o.length;s+=2){var u=o[s];if(u>0)r.push(a[s/2]);else{for(var c=o[s+1],l=e[-u],h=_t;h<l.length;h++){var f=l[h];f[17]===f[3]&&al(f[1],f,c,r)}if(null!==l[9])for(var d=l[9],p=0;p<d.length;p++){var v=d[p];al(v[1],v,c,r)}}}return r}function sl(t){var e=oe(),n=ae(),r=Oe();ke(r+1);var i=vl(n,r);if(t.dirty&&Xt(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?al(n,e,r,[]):ol(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function ul(t,e,n){!function(t,e,n,r,i,o){t.firstCreatePass&&(pl(t,new tl(n,r,true,i),-1),t.staticViewQueries=!0),dl(t,e)}(ae(),oe(),t,e,n)}function cl(t,e,n,r){hl(ae(),oe(),e,n,r,!1,ue(),t)}function ll(t,e,n,r){hl(ae(),oe(),e,n,r,!0,ue(),t)}function hl(t,e,n,r,i,o,a,s){t.firstCreatePass&&(pl(t,new tl(n,r,o,i),a.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,s),o&&(t.staticContentQueries=!0)),dl(t,e)}function fl(){return t=oe(),e=Oe(),t[19].queries[e].queryList;var t,e}function dl(t,e){var n=new Zc;yo(t,e,n,n.destroy),null===e[19]&&(e[19]=new $c),e[19].queries.push(new Xc(n))}function pl(t,e,n){null===t.queries&&(t.queries=new el),t.queries.track(new nl(e,n))}function vl(t,e){return t.queries.getByIndex(e)}function bl(t,e){return kc(t,e)}function yl(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q.Default,e=vc(!0);if(null!=e||t&q.Optional)return e;Nt("ChangeDetectorRef")}var gl=new Tn("Application Initializer"),ml=function(){var t=function(){function t(e){var n=this;Object(d.a)(this,t),this.appInits=e,this.resolve=Bu,this.reject=Bu,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,e){n.resolve=t,n.reject=e})}return Object(f.a)(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Fa(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Zn(gl,8))},t.\u0275prov=A({token:t,factory:t.\u0275fac}),t}(),wl=new Tn("AppId"),_l={provide:wl,useFactory:function(){return"".concat(Ol()).concat(Ol()).concat(Ol())},deps:[]};function Ol(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var kl=new Tn("Platform Initializer"),jl=new Tn("Platform ID"),Sl=new Tn("appBootstrapListener"),Il=function(){var t=function(){function t(){Object(d.a)(this,t)}return Object(f.a)(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=A({token:t,factory:t.\u0275fac}),t}(),Tl=new Tn("LocaleId"),El=new Tn("DefaultCurrencyCode"),Cl=function t(e,n){Object(d.a)(this,t),this.ngModuleFactory=e,this.componentFactories=n},xl=function(t){return new Uc(t)},Al=xl,Nl=function(t){return Promise.resolve(xl(t))},Dl=function(t){var e=xl(t),n=Zr(mt(t).declarations).reduce(function(t,e){var n=gt(e);return n&&t.push(new Lc(n)),t},[]);return new Cl(e,n)},Rl=Dl,Pl=function(t){return Promise.resolve(Dl(t))},Ll=function(){var t=function(){function t(){Object(d.a)(this,t),this.compileModuleSync=Al,this.compileModuleAsync=Nl,this.compileModuleAndAllComponentsSync=Rl,this.compileModuleAndAllComponentsAsync=Pl}return Object(f.a)(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=A({token:t,factory:t.\u0275fac}),t}(),Ml=function(){return Promise.resolve(0)}();function Fl(t){"undefined"==typeof Zone?Ml.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Vl=function(){function t(e){var n=e.enableLongStackTrace,r=void 0!==n&&n,i=e.shouldCoalesceEventChangeDetection,o=void 0!==i&&i;if(Object(d.a)(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yc(!1),this.onMicrotaskEmpty=new Yc(!1),this.onStable=new Yc(!1),this.onError=new Yc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();var a,s,u,c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=o,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){var t=X.requestAnimationFrame,e=X.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,s=function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(X,function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){t.lastRequestAnimationFrameId=-1,Bl(t),ql(t)},void 0,function(){},function(){})),t.fakeTopEventTask.invoke()}),Bl(t))}(a)},(a=c)._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:u=!!a.shouldCoalesceEventChangeDetection&&a.nativeRequestAnimationFrame&&s},onInvokeTask:function(t,e,n,r,i,o){try{return Hl(a),t.invokeTask(n,r,i,o)}finally{u&&"eventTask"===r.type&&u(),Wl(a)}},onInvoke:function(t,e,n,r,i,o,s){try{return Hl(a),t.invoke(n,r,i,o,s)}finally{Wl(a)}},onHasTask:function(t,e,n,r){t.hasTask(n,r),e===n&&("microTask"==r.change?(a._hasPendingMicrotasks=r.microTask,Bl(a),ql(a)):"macroTask"==r.change&&(a.hasPendingMacrotasks=r.macroTask))},onHandleError:function(t,e,n,r){return t.handleError(n,r),a.runOutsideAngular(function(){return a.onError.emit(r)}),!1}})}return Object(f.a)(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Ul,Bu,Bu);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}(),Ul={};function ql(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function Bl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Hl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Wl(t){t._nesting--,ql(t)}var zl=function(){function t(){Object(d.a)(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yc,this.onMicrotaskEmpty=new Yc,this.onStable=new Yc,this.onError=new Yc}return Object(f.a)(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),Kl=function(){var t=function(){function t(e){var n=this;Object(d.a)(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return Object(f.a)(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){Vl.assertNotInAngularZone(),Fl(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())Fl(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Zn(Vl))},t.\u0275prov=A({token:t,factory:t.\u0275fac}),t}(),Gl=function(){var t=function(){function t(){Object(d.a)(this,t),this._applications=new Map,Jl.addToWindow(this)}return Object(f.a)(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Jl.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=A({token:t,factory:t.\u0275fac}),t}();function Ql(t){Jl=t}var Yl,Jl=new(function(){function t(){Object(d.a)(this,t)}return Object(f.a)(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),Zl=!0,Xl=!1;function $l(){return Xl=!0,Zl}function th(){if(Xl)throw new Error("Cannot enable prod mode after platform setup.");Zl=!1}var eh=function(t,e,n){var r=new Uc(n);return Promise.resolve(r)},nh=new Tn("AllowMultipleToken"),rh=function t(e,n){Object(d.a)(this,t),this.name=e,this.token=n};function ih(t){if(Yl&&!Yl.destroyed&&!Yl.injector.get(nh,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Yl=t.get(uh);var e=t.get(kl,null);return e&&e.forEach(function(t){return t()}),Yl}function oh(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(e),i=new Tn(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=sh();if(!o||o.injector.get(nh,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0},{provide:Yo,useValue:"platform"});ih(la.create({providers:a,name:r}))}return ah(i)}}function ah(t){var e=sh();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}function sh(){return Yl&&!Yl.destroyed?Yl:null}var uh=function(){var t=function(){function t(e){Object(d.a)(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return Object(f.a)(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(r=e&&e.ngZoneEventCoalescing||!1,"noop"===(n=e?e.ngZone:void 0)?new zl:("zone.js"===n?void 0:n)||new Vl({enableLongStackTrace:$l(),shouldCoalesceEventChangeDetection:r})),a=[{provide:Vl,useValue:o}];return o.run(function(){var e=la.create({providers:a,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(Gr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(function(){var t=o.onError.subscribe({next:function(t){r.handleError(t)}});n.onDestroy(function(){hh(i._modules,n),t.unsubscribe()})}),function(t,e,r){try{var o=((a=n.injector.get(ml)).runInitializers(),a.donePromise.then(function(){return Us(n.injector.get(Tl,Ps)||Ps),i._moduleDoBootstrap(n),n}));return Fa(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(s){throw e.runOutsideAngular(function(){return t.handleError(s)}),s}var a}(r,o)})}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=ch({},n);return eh(0,0,t).then(function(t){return e.bootstrapModuleFactory(t,r)})}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(lh);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(j(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Zn(la))},t.\u0275prov=A({token:t,factory:t.\u0275fac}),t}();function ch(t,e){return Array.isArray(e)?e.reduce(ch,t):Object.assign(Object.assign({},t),e)}var lh=function(){var t=function(){function t(e,n,r,i,o,a){var s=this;Object(d.a)(this,t),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run(function(){s.tick()})}});var u=new m.a(function(t){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular(function(){t.next(s._stable),t.complete()})}),c=new m.a(function(t){var e;s._zone.runOutsideAngular(function(){e=s._zone.onStable.subscribe(function(){Vl.assertNotInAngularZone(),Fl(function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,t.next(!0))})})});var n=s._zone.onUnstable.subscribe(function(){Vl.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(w.a)(u,c.pipe(Object(_.a)()))}return Object(f.a)(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Vu?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(jc),o=n.create(la.NULL,[],e||n.selector,i),a=o.location.nativeElement,s=o.injector.get(Kl,null),u=s&&o.injector.get(Gl);return s&&u&&u.registerApplication(a,s),o.onDestroy(function(){r.detachView(o.hostView),hh(r.components,o),u&&u.unregisterApplication(a)}),this._loadComponent(o),$l()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=Object(s.a)(this._views);try{for(n.s();!(e=n.n()).done;)e.value.detectChanges()}catch(r){n.e(r)}finally{n.f()}}catch(i){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(i)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;hh(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Sl,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(t){return t.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Zn(Vl),Zn(Il),Zn(la),Zn(Gr),Zn(qu),Zn(ml))},t.\u0275prov=A({token:t,factory:t.\u0275fac}),t}();function hh(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var fh=function t(){Object(d.a)(this,t)},dh=function t(){Object(d.a)(this,t)},ph={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},vh=function(){var t=function(){function t(e,n){Object(d.a)(this,t),this._compiler=e,this._config=n||ph}return Object(f.a)(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,r=t.split("#"),i=Object(a.a)(r,2),o=i[0],s=i[1];return void 0===s&&(s="default"),n("crnd")(o).then(function(t){return t[s]}).then(function(t){return bh(t,o,s)}).then(function(t){return e._compiler.compileModuleAsync(t)})}},{key:"loadFactory",value:function(t){var e=t.split("#"),r=Object(a.a)(e,2),i=r[0],o=r[1],s="NgFactory";return void 0===o&&(o="default",s=""),n("crnd")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[o+s]}).then(function(t){return bh(t,i,o)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Zn(Ll),Zn(dh,8))},t.\u0275prov=A({token:t,factory:t.\u0275fac}),t}();function bh(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var yh=function(t){return null},gh=oh(null,"core",[{provide:jl,useValue:"unknown"},{provide:uh,deps:[la]},{provide:Gl,deps:[]},{provide:Il,deps:[]}]),mh=[{provide:lh,useClass:lh,deps:[Vl,Il,la,Gr,qu,ml]},{provide:Pc,deps:[Vl],useFactory:function(t){var e=[];return t.onStable.subscribe(function(){for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:ml,useClass:ml,deps:[[new Un,gl]]},{provide:Ll,useClass:Ll,deps:[]},_l,{provide:uc,useFactory:function(){return gc},deps:[]},{provide:cc,useFactory:function(){return mc},deps:[]},{provide:Tl,useFactory:function(t){return Us(t=t||"undefined"!=typeof $localize&&$localize.locale||Ps),t},deps:[[new Vn(Tl),new Un,new Bn]]},{provide:El,useValue:"USD"}],wh=function(){var t=function t(e){Object(d.a)(this,t)};return t.\u0275mod=dt({type:t}),t.\u0275inj=N({factory:function(e){return new(e||t)(Zn(lh))},providers:mh}),t}()},fjAU:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n("hswa")},foSv:function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",function(){return r})},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},hswa:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("qCKp"),i=n("ADT6");r.Observable.prototype.filter=i.filter},itXk:function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return p});var r=n("Ji7U"),i=n("LK+K"),o=n("1OyB"),a=n("vuIU"),s=n("z+Ro"),u=n("DH7j"),c=n("l7GE"),l=n("ZUHj"),h=n("yCtX"),f={};function d(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=void 0,i=void 0;return Object(s.a)(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&Object(u.a)(e[0])&&(e=e[0]),Object(h.a)(e,i).lift(new p(r))}var p=function(){function t(e){Object(o.a)(this,t),this.resultSelector=e}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new v(t,this.resultSelector))}}]),t}(),v=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r){var i;return Object(o.a)(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return Object(a.a)(n,[{key:"_next",value:function(t){this.values.push(f),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(l.a)(this,r,void 0,n))}}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n){var r=this.values,i=this.toRespond?r[n]===f?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(c.a)},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(function(n){var r=new i.a,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},jtHE:function(t,e,n){"use strict";n.d(e,"a",function(){return v});var r=n("1OyB"),i=n("vuIU"),o=n("ReuC"),a=n("foSv"),s=n("Ji7U"),u=n("LK+K"),c=n("XNiG"),l=n("qgXg"),h=n("quSY"),f=n("pxpQ"),d=n("9ppp"),p=n("Ylt2"),v=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,a=arguments.length>2?arguments[2]:void 0;return Object(r.a)(this,n),(t=e.call(this)).scheduler=a,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=i<1?1:i,t._windowTime=o<1?1:o,o===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return Object(i.a)(n,[{key:"nextInfiniteTimeWindow",value:function(t){if(!this.isStopped){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}Object(o.a)(Object(a.a)(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this.isStopped||(this._events.push(new b(this._getNow(),t)),this._trimBufferThenGetEvents()),Object(o.a)(Object(a.a)(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new d.a;if(this.isStopped||this.hasError?e=h.a.EMPTY:(this.observers.push(t),e=new p.a(this,t)),i&&t.add(t=new f.a(t,i)),n)for(var a=0;a<o&&!t.closed;a++)t.next(r[a]);else for(var s=0;s<o&&!t.closed;s++)t.next(r[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||l.a).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}]),n}(c.a),b=function t(e,n){Object(r.a)(this,t),this.time=e,this.value=n}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},kU1M:function(t,e,n){"use strict";n.r(e),n.d(e,"audit",function(){return u}),n.d(e,"auditTime",function(){return d}),n.d(e,"buffer",function(){return v}),n.d(e,"bufferCount",function(){return _}),n.d(e,"bufferTime",function(){return I}),n.d(e,"bufferToggle",function(){return L}),n.d(e,"bufferWhen",function(){return V}),n.d(e,"catchError",function(){return B.a}),n.d(e,"combineAll",function(){return H.a}),n.d(e,"combineLatest",function(){return Q}),n.d(e,"concat",function(){return J}),n.d(e,"concatAll",function(){return Z.a}),n.d(e,"concatMap",function(){return X.a}),n.d(e,"concatMapTo",function(){return $}),n.d(e,"count",function(){return tt}),n.d(e,"debounce",function(){return rt}),n.d(e,"debounceTime",function(){return at}),n.d(e,"defaultIfEmpty",function(){return lt.a}),n.d(e,"delay",function(){return ht.a}),n.d(e,"delayWhen",function(){return dt}),n.d(e,"dematerialize",function(){return gt}),n.d(e,"distinct",function(){return _t}),n.d(e,"distinctUntilChanged",function(){return jt.a}),n.d(e,"distinctUntilKeyChanged",function(){return St}),n.d(e,"elementAt",function(){return xt}),n.d(e,"endWith",function(){return Nt}),n.d(e,"every",function(){return Dt}),n.d(e,"exhaust",function(){return Lt}),n.d(e,"exhaustMap",function(){return Ut}),n.d(e,"expand",function(){return Ht}),n.d(e,"filter",function(){return Tt.a}),n.d(e,"finalize",function(){return Kt.a}),n.d(e,"find",function(){return Gt}),n.d(e,"findIndex",function(){return Jt}),n.d(e,"first",function(){return Zt.a}),n.d(e,"groupBy",function(){return Xt.b}),n.d(e,"ignoreElements",function(){return $t}),n.d(e,"isEmpty",function(){return ne}),n.d(e,"last",function(){return oe.a}),n.d(e,"map",function(){return Vt.a}),n.d(e,"mapTo",function(){return ae}),n.d(e,"materialize",function(){return le}),n.d(e,"max",function(){return ye}),n.d(e,"merge",function(){return me}),n.d(e,"mergeAll",function(){return we.a}),n.d(e,"mergeMap",function(){return _e.b}),n.d(e,"flatMap",function(){return _e.a}),n.d(e,"mergeMapTo",function(){return Oe}),n.d(e,"mergeScan",function(){return ke}),n.d(e,"min",function(){return Ie}),n.d(e,"multicast",function(){return Te.a}),n.d(e,"observeOn",function(){return Ee.b}),n.d(e,"onErrorResumeNext",function(){return Ce}),n.d(e,"pairwise",function(){return Ne.a}),n.d(e,"partition",function(){return Re}),n.d(e,"pluck",function(){return Pe}),n.d(e,"publish",function(){return Fe}),n.d(e,"publishBehavior",function(){return Ue}),n.d(e,"publishLast",function(){return Be}),n.d(e,"publishReplay",function(){return We}),n.d(e,"race",function(){return Ke}),n.d(e,"reduce",function(){return be}),n.d(e,"repeat",function(){return Qe}),n.d(e,"repeatWhen",function(){return Ze}),n.d(e,"retry",function(){return tn}),n.d(e,"retryWhen",function(){return rn}),n.d(e,"refCount",function(){return sn.a}),n.d(e,"sample",function(){return un}),n.d(e,"sampleTime",function(){return hn}),n.d(e,"scan",function(){return de.a}),n.d(e,"sequenceEqual",function(){return vn}),n.d(e,"share",function(){return mn.a}),n.d(e,"shareReplay",function(){return wn.a}),n.d(e,"single",function(){return On}),n.d(e,"skip",function(){return Sn}),n.d(e,"skipLast",function(){return En}),n.d(e,"skipUntil",function(){return An}),n.d(e,"skipWhile",function(){return Rn.a}),n.d(e,"startWith",function(){return Pn.a}),n.d(e,"subscribeOn",function(){return Ln.a}),n.d(e,"switchAll",function(){return Vn}),n.d(e,"switchMap",function(){return Mn.a}),n.d(e,"switchMapTo",function(){return Un.a}),n.d(e,"take",function(){return Ct.a}),n.d(e,"takeLast",function(){return pe.a}),n.d(e,"takeUntil",function(){return qn.a}),n.d(e,"takeWhile",function(){return Bn}),n.d(e,"tap",function(){return zn.a}),n.d(e,"throttle",function(){return Gn}),n.d(e,"throttleTime",function(){return Jn}),n.d(e,"throwIfEmpty",function(){return Et.a}),n.d(e,"timeInterval",function(){return er}),n.d(e,"timeout",function(){return cr}),n.d(e,"timeoutWith",function(){return or}),n.d(e,"timestamp",function(){return lr}),n.d(e,"toArray",function(){return dr}),n.d(e,"window",function(){return pr}),n.d(e,"windowCount",function(){return yr}),n.d(e,"windowTime",function(){return _r}),n.d(e,"windowToggle",function(){return Er}),n.d(e,"windowWhen",function(){return Ar}),n.d(e,"withLatestFrom",function(){return Rr.a}),n.d(e,"zip",function(){return Lr}),n.d(e,"zipAll",function(){return Mr});var r=n("Ji7U"),i=n("LK+K"),o=n("1OyB"),a=n("vuIU"),s=n("zx2A");function u(t){return function(e){return e.lift(new c(t))}}var c=function(){function t(e){Object(o.a)(this,t),this.durationSelector=e}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.durationSelector))}}]),t}(),l=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r){var i;return Object(o.a)(this,n),(i=e.call(this,t)).durationSelector=r,i.hasValue=!1,i}return Object(a.a)(n,[{key:"_next",value:function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e;try{e=(0,this.durationSelector)(t)}catch(r){return this.destination.error(r)}var n=Object(s.c)(e,new s.a(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}},{key:"notifyNext",value:function(){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(s.b),h=n("D0XW"),f=n("PqYM");function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a;return u(function(){return Object(f.a)(t,e)})}var p=n("JX7q");function v(t){return function(e){return e.lift(new b(t))}}var b=function(){function t(e){Object(o.a)(this,t),this.closingNotifier=e}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new y(t,this.closingNotifier))}}]),t}(),y=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r){var i;return Object(o.a)(this,n),(i=e.call(this,t)).buffer=[],i.add(Object(s.c)(r,new s.a(Object(p.a)(i)))),i}return Object(a.a)(n,[{key:"_next",value:function(t){this.buffer.push(t)}},{key:"notifyNext",value:function(){var t=this.buffer;this.buffer=[],this.destination.next(t)}}]),n}(s.b),g=n("ReuC"),m=n("foSv"),w=n("7o/Q");function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n){return n.lift(new O(t,e))}}var O=function(){function t(e,n){Object(o.a)(this,t),this.bufferSize=e,this.startBufferEvery=n,this.subscriberClass=n&&e!==n?j:k}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))}}]),t}(),k=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r){var i;return Object(o.a)(this,n),(i=e.call(this,t)).bufferSize=r,i.buffer=[],i}return Object(a.a)(n,[{key:"_next",value:function(t){var e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])}},{key:"_complete",value:function(){var t=this.buffer;t.length>0&&this.destination.next(t),Object(g.a)(Object(m.a)(n.prototype),"_complete",this).call(this)}}]),n}(w.a),j=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r,i){var a;return Object(o.a)(this,n),(a=e.call(this,t)).bufferSize=r,a.startBufferEvery=i,a.buffers=[],a.count=0,a}return Object(a.a)(n,[{key:"_next",value:function(t){var e=this.bufferSize,n=this.startBufferEvery,r=this.buffers,i=this.count;this.count++,i%n==0&&r.push([]);for(var o=r.length;o--;){var a=r[o];a.push(t),a.length===e&&(r.splice(o,1),this.destination.next(a))}}},{key:"_complete",value:function(){for(var t=this.buffers,e=this.destination;t.length>0;){var r=t.shift();r.length>0&&e.next(r)}Object(g.a)(Object(m.a)(n.prototype),"_complete",this).call(this)}}]),n}(w.a),S=n("z+Ro");function I(t){var e=arguments.length,n=h.a;Object(S.a)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);var r=null;e>=2&&(r=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(e){return e.lift(new T(t,r,i,n))}}var T=function(){function t(e,n,r,i){Object(o.a)(this,t),this.bufferTimeSpan=e,this.bufferCreationInterval=n,this.maxBufferSize=r,this.scheduler=i}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new C(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))}}]),t}(),E=function t(){Object(o.a)(this,t),this.buffer=[]},C=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r,i,a,s){var u;Object(o.a)(this,n),(u=e.call(this,t)).bufferTimeSpan=r,u.bufferCreationInterval=i,u.maxBufferSize=a,u.scheduler=s,u.contexts=[];var c=u.openContext();if(u.timespanOnly=null==i||i<0,u.timespanOnly){var l={subscriber:Object(p.a)(u),context:c,bufferTimeSpan:r};u.add(c.closeAction=s.schedule(x,r,l))}else{var h={subscriber:Object(p.a)(u),context:c},f={bufferTimeSpan:r,bufferCreationInterval:i,subscriber:Object(p.a)(u),scheduler:s};u.add(c.closeAction=s.schedule(N,r,h)),u.add(s.schedule(A,i,f))}return u}return Object(a.a)(n,[{key:"_next",value:function(t){for(var e,n=this.contexts,r=n.length,i=0;i<r;i++){var o=n[i],a=o.buffer;a.push(t),a.length==this.maxBufferSize&&(e=o)}e&&this.onBufferFull(e)}},{key:"_error",value:function(t){this.contexts.length=0,Object(g.a)(Object(m.a)(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){for(var t=this.contexts,e=this.destination;t.length>0;){var r=t.shift();e.next(r.buffer)}Object(g.a)(Object(m.a)(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){this.contexts=null}},{key:"onBufferFull",value:function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();var n=this.bufferTimeSpan;this.add(t.closeAction=this.scheduler.schedule(x,n,{subscriber:this,context:t,bufferTimeSpan:n}))}}},{key:"openContext",value:function(){var t=new E;return this.contexts.push(t),t}},{key:"closeContext",value:function(t){this.destination.next(t.buffer);var e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)}}]),n}(w.a);function x(t){var e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function A(t){var e=t.bufferCreationInterval,n=t.bufferTimeSpan,r=t.subscriber,i=t.scheduler,o=r.openContext();r.closed||(r.add(o.closeAction=i.schedule(N,n,{subscriber:r,context:o})),this.schedule(t,e))}function N(t){t.subscriber.closeContext(t.context)}var D=n("quSY"),R=n("ZUHj"),P=n("l7GE");function L(t,e){return function(n){return n.lift(new M(t,e))}}var M=function(){function t(e,n){Object(o.a)(this,t),this.openings=e,this.closingSelector=n}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new F(t,this.openings,this.closingSelector))}}]),t}(),F=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r,i){var a;return Object(o.a)(this,n),(a=e.call(this,t)).closingSelector=i,a.contexts=[],a.add(Object(R.a)(Object(p.a)(a),r)),a}return Object(a.a)(n,[{key:"_next",value:function(t){for(var e=this.contexts,n=e.length,r=0;r<n;r++)e[r].buffer.push(t)}},{key:"_error",value:function(t){for(var e=this.contexts;e.length>0;){var r=e.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,Object(g.a)(Object(m.a)(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){for(var t=this.contexts;t.length>0;){var e=t.shift();this.destination.next(e.buffer),e.subscription.unsubscribe(),e.buffer=null,e.subscription=null}this.contexts=null,Object(g.a)(Object(m.a)(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t,e){t?this.closeBuffer(t):this.openBuffer(e)}},{key:"notifyComplete",value:function(t){this.closeBuffer(t.context)}},{key:"openBuffer",value:function(t){try{var e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(n){this._error(n)}}},{key:"closeBuffer",value:function(t){var e=this.contexts;if(e&&t){var n=t.subscription;this.destination.next(t.buffer),e.splice(e.indexOf(t),1),this.remove(n),n.unsubscribe()}}},{key:"trySubscribe",value:function(t){var e=this.contexts,n=new D.a,r={buffer:[],subscription:n};e.push(r);var i=Object(R.a)(this,t,r);!i||i.closed?this.closeBuffer(r):(i.context=r,this.add(i),n.add(i))}}]),n}(P.a);function V(t){return function(e){return e.lift(new U(t))}}var U=function(){function t(e){Object(o.a)(this,t),this.closingSelector=e}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new q(t,this.closingSelector))}}]),t}(),q=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r){var i;return Object(o.a)(this,n),(i=e.call(this,t)).closingSelector=r,i.subscribing=!1,i.openBuffer(),i}return Object(a.a)(n,[{key:"_next",value:function(t){this.buffer.push(t)}},{key:"_complete",value:function(){var t=this.buffer;t&&this.destination.next(t),Object(g.a)(Object(m.a)(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){this.buffer=void 0,this.subscribing=!1}},{key:"notifyNext",value:function(){this.openBuffer()}},{key:"notifyComplete",value:function(){this.subscribing?this.complete():this.openBuffer()}},{key:"openBuffer",value:function(){var t,e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe()),this.buffer&&this.destination.next(this.buffer),this.buffer=[];try{t=(0,this.closingSelector)()}catch(n){return this.error(n)}e=new D.a,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(Object(s.c)(t,new s.a(this))),this.subscribing=!1}}]),n}(s.b),B=n("JIr8"),H=n("7wxJ"),W=n("KQm4"),z=n("DH7j"),K=n("itXk"),G=n("Cfvw");function Q(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=null;return"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&Object(z.a)(e[0])&&(e=e[0].slice()),function(t){return t.lift.call(Object(G.a)([t].concat(Object(W.a)(e))),new K.a(r))}}var Y=n("GyhO");function J(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return t.lift.call(Y.a.apply(void 0,[t].concat(e)))}}var Z=n("0EUg"),X=n("bOdf");function $(t,e){return Object(X.a)(function(){return t},e)}function tt(t){return function(e){return e.lift(new et(t,e))}}var et=function(){function t(e,n){Object(o.a)(this,t),this.predicate=e,this.source=n}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new nt(t,this.predicate,this.source))}}]),t}(),nt=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r,i){var a;return Object(o.a)(this,n),(a=e.call(this,t)).predicate=r,a.source=i,a.count=0,a.index=0,a}return Object(a.a)(n,[{key:"_next",value:function(t){this.predicate?this._tryPredicate(t):this.count++}},{key:"_tryPredicate",value:function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e&&this.count++}},{key:"_complete",value:function(){this.destination.next(this.count),this.destination.complete()}}]),n}(w.a);function rt(t){return function(e){return e.lift(new it(t))}}var it=function(){function t(e){Object(o.a)(this,t),this.durationSelector=e}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new ot(t,this.durationSelector))}}]),t}(),ot=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r){var i;return Object(o.a)(this,n),(i=e.call(this,t)).durationSelector=r,i.hasValue=!1,i}return Object(a.a)(n,[{key:"_next",value:function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(n){this.destination.error(n)}}},{key:"_complete",value:function(){this.emitValue(),this.destination.complete()}},{key:"_tryNext",value:function(t,e){var n=this.durationSubscription;this.value=t,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=Object(s.c)(e,new s.a(this)))&&!n.closed&&this.add(this.durationSubscription=n)}},{key:"notifyNext",value:function(){this.emitValue()}},{key:"notifyComplete",value:function(){this.emitValue()}},{key:"emitValue",value:function(){if(this.hasValue){var t=this.value,e=this.durationSubscription;e&&(this.durationSubscription=void 0,e.unsubscribe(),this.remove(e)),this.value=void 0,this.hasValue=!1,Object(g.a)(Object(m.a)(n.prototype),"_next",this).call(this,t)}}}]),n}(s.b);function at(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a;return function(n){return n.lift(new st(t,e))}}var st=function(){function t(e,n){Object(o.a)(this,t),this.dueTime=e,this.scheduler=n}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new ut(t,this.dueTime,this.scheduler))}}]),t}(),ut=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r,i){var a;return Object(o.a)(this,n),(a=e.call(this,t)).dueTime=r,a.scheduler=i,a.debouncedSubscription=null,a.lastValue=null,a.hasValue=!1,a}return Object(a.a)(n,[{key:"_next",value:function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ct,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}},{key:"clearDebounce",value:function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}]),n}(w.a);function ct(t){t.debouncedNext()}var lt=n("xbPD"),ht=n("3E0/"),ft=n("HDdC");function dt(t,e){return e?function(n){return new bt(n,e).lift(new pt(t))}:function(e){return e.lift(new pt(t))}}var pt=function(){function t(e){Object(o.a)(this,t),this.delayDurationSelector=e}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new vt(t,this.delayDurationSelector))}}]),t}(),vt=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r){var i;return Object(o.a)(this,n),(i=e.call(this,t)).delayDurationSelector=r,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return Object(a.a)(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(t),this.removeSubscription(i),this.tryComplete()}},{key:"notifyError",value:function(t,e){this._error(t)}},{key:"notifyComplete",value:function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()}},{key:"_next",value:function(t){var e=this.index++;try{var n=this.delayDurationSelector(t,e);n&&this.tryDelay(n,t)}catch(r){this.destination.error(r)}}},{key:"_complete",value:function(){this.completed=!0,this.tryComplete(),this.unsubscribe()}},{key:"removeSubscription",value:function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t);return-1!==e&&this.delayNotifierSubscriptions.splice(e,1),t.outerValue}},{key:"tryDelay",value:function(t,e){var n=Object(R.a)(this,t,e);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))}},{key:"tryComplete",value:function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}]),n}(P.a),bt=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r){var i;return Object(o.a)(this,n),(i=e.call(this)).source=t,i.subscriptionDelay=r,i}return Object(a.a)(n,[{key:"_subscribe",value:function(t){this.subscriptionDelay.subscribe(new yt(t,this.source))}}]),n}(ft.a),yt=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r){var i;return Object(o.a)(this,n),(i=e.call(this)).parent=t,i.source=r,i.sourceSubscribed=!1,i}return Object(a.a)(n,[{key:"_next",value:function(t){this.subscribeToSource()}},{key:"_error",value:function(t){this.unsubscribe(),this.parent.error(t)}},{key:"_complete",value:function(){this.unsubscribe(),this.subscribeToSource()}},{key:"subscribeToSource",value:function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}]),n}(w.a);function gt(){return function(t){return t.lift(new mt)}}var mt=function(){function t(){Object(o.a)(this,t)}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new wt(t))}}]),t}(),wt=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t){return Object(o.a)(this,n),e.call(this,t)}return Object(a.a)(n,[{key:"_next",value:function(t){t.observe(this.destination)}}]),n}(w.a);function _t(t,e){return function(n){return n.lift(new Ot(t,e))}}var Ot=function(){function t(e,n){Object(o.a)(this,t),this.keySelector=e,this.flushes=n}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new kt(t,this.keySelector,this.flushes))}}]),t}(),kt=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r,i){var a;return Object(o.a)(this,n),(a=e.call(this,t)).keySelector=r,a.values=new Set,i&&a.add(Object(s.c)(i,new s.a(Object(p.a)(a)))),a}return Object(a.a)(n,[{key:"notifyNext",value:function(){this.values.clear()}},{key:"notifyError",value:function(t){this._error(t)}},{key:"_next",value:function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)}},{key:"_useKeySelector",value:function(t){var e,n=this.destination;try{e=this.keySelector(t)}catch(r){return void n.error(r)}this._finalizeNext(e,t)}},{key:"_finalizeNext",value:function(t,e){var n=this.values;n.has(t)||(n.add(t),this.destination.next(e))}}]),n}(s.b),jt=n("/uUt");function St(t,e){return Object(jt.a)(function(n,r){return e?e(n[t],r[t]):n[t]===r[t]})}var It=n("4I5i"),Tt=n("pLZG"),Et=n("XDbj"),Ct=n("IzEk");function xt(t,e){if(t<0)throw new It.a;var n=arguments.length>=2;return function(r){return r.pipe(Object(Tt.a)(function(e,n){return n===t}),Object(Ct.a)(1),n?Object(lt.a)(e):Object(Et.a)(function(){return new It.a}))}}var At=n("LRne");function Nt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return Object(Y.a)(t,At.a.apply(void 0,e))}}function Dt(t,e){return function(n){return n.lift(new Rt(t,e,n))}}var Rt=function(){function t(e,n,r){Object(o.a)(this,t),this.predicate=e,this.thisArg=n,this.source=r}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new Pt(t,this.predicate,this.thisArg,this.source))}}]),t}(),Pt=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r,i,a){var s;return Object(o.a)(this,n),(s=e.call(this,t)).predicate=r,s.thisArg=i,s.source=a,s.index=0,s.thisArg=i||Object(p.a)(s),s}return Object(a.a)(n,[{key:"notifyComplete",value:function(t){this.destination.next(t),this.destination.complete()}},{key:"_next",value:function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(w.a);function Lt(){return function(t){return t.lift(new Mt)}}var Mt=function(){function t(){Object(o.a)(this,t)}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new Ft(t))}}]),t}(),Ft=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t){var r;return Object(o.a)(this,n),(r=e.call(this,t)).hasCompleted=!1,r.hasSubscription=!1,r}return Object(a.a)(n,[{key:"_next",value:function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(Object(s.c)(t,new s.a(this))))}},{key:"_complete",value:function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()}},{key:"notifyComplete",value:function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}]),n}(s.b),Vt=n("lJxs");function Ut(t,e){return e?function(n){return n.pipe(Ut(function(n,r){return Object(G.a)(t(n,r)).pipe(Object(Vt.a)(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new qt(t))}}var qt=function(){function t(e){Object(o.a)(this,t),this.project=e}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new Bt(t,this.project))}}]),t}(),Bt=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r){var i;return Object(o.a)(this,n),(i=e.call(this,t)).project=r,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return Object(a.a)(n,[{key:"_next",value:function(t){this.hasSubscription||this.tryNext(t)}},{key:"tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new s.a(this),n=this.destination;n.add(e);var r=Object(s.c)(t,e);r!==e&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}]),n}(s.b);function Ht(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,n=arguments.length>2?arguments[2]:void 0;return e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(r){return r.lift(new Wt(t,e,n))}}var Wt=function(){function t(e,n,r){Object(o.a)(this,t),this.project=e,this.concurrent=n,this.scheduler=r}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new zt(t,this.project,this.concurrent,this.scheduler))}}]),t}(),zt=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r,i,a){var s;return Object(o.a)(this,n),(s=e.call(this,t)).project=r,s.concurrent=i,s.scheduler=a,s.index=0,s.active=0,s.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(s.buffer=[]),s}return Object(a.a)(n,[{key:"_next",value:function(t){var e=this.destination;if(e.closed)this._complete();else{var r=this.index++;if(this.active<this.concurrent){e.next(t);try{var i=(0,this.project)(t,r);this.scheduler?this.destination.add(this.scheduler.schedule(n.dispatch,0,{subscriber:this,result:i,value:t,index:r})):this.subscribeToProjection(i,t,r)}catch(o){e.error(o)}}else this.buffer.push(t)}}},{key:"subscribeToProjection",value:function(t,e,n){this.active++,this.destination.add(Object(s.c)(t,new s.a(this)))}},{key:"_complete",value:function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this._next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}],[{key:"dispatch",value:function(t){t.subscriber.subscribeToProjection(t.result,t.value,t.index)}}]),n}(s.b),Kt=n("nYR2");function Gt(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return function(n){return n.lift(new Qt(t,n,!1,e))}}var Qt=function(){function t(e,n,r,i){Object(o.a)(this,t),this.predicate=e,this.source=n,this.yieldIndex=r,this.thisArg=i}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new Yt(t,this.predicate,this.source,this.yieldIndex,this.thisArg))}}]),t}(),Yt=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r,i,a,s){var u;return Object(o.a)(this,n),(u=e.call(this,t)).predicate=r,u.source=i,u.yieldIndex=a,u.thisArg=s,u.index=0,u}return Object(a.a)(n,[{key:"notifyComplete",value:function(t){var e=this.destination;e.next(t),e.complete(),this.unsubscribe()}},{key:"_next",value:function(t){var e=this.predicate,n=this.thisArg,r=this.index++;try{e.call(n||this,t,r,this.source)&&this.notifyComplete(this.yieldIndex?r:t)}catch(i){this.destination.error(i)}}},{key:"_complete",value:function(){this.notifyComplete(this.yieldIndex?-1:void 0)}}]),n}(w.a);function Jt(t,e){return function(n){return n.lift(new Qt(t,n,!0,e))}}var Zt=n("SxV6"),Xt=n("OQgR");function $t(){return function(t){return t.lift(new te)}}var te=function(){function t(){Object(o.a)(this,t)}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new ee(t))}}]),t}(),ee=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"_next",value:function(t){}}]),n}(w.a);function ne(){return function(t){return t.lift(new re)}}var re=function(){function t(){Object(o.a)(this,t)}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new ie(t))}}]),t}(),ie=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t){return Object(o.a)(this,n),e.call(this,t)}return Object(a.a)(n,[{key:"notifyComplete",value:function(t){var e=this.destination;e.next(t),e.complete()}},{key:"_next",value:function(t){this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(w.a),oe=n("NJ9Y");function ae(t){return function(e){return e.lift(new se(t))}}var se=function(){function t(e){Object(o.a)(this,t),this.value=e}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new ue(t,this.value))}}]),t}(),ue=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r){var i;return Object(o.a)(this,n),(i=e.call(this,t)).value=r,i}return Object(a.a)(n,[{key:"_next",value:function(t){this.destination.next(this.value)}}]),n}(w.a),ce=n("WMd4");function le(){return function(t){return t.lift(new he)}}var he=function(){function t(){Object(o.a)(this,t)}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new fe(t))}}]),t}(),fe=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t){return Object(o.a)(this,n),e.call(this,t)}return Object(a.a)(n,[{key:"_next",value:function(t){this.destination.next(ce.a.createNext(t))}},{key:"_error",value:function(t){var e=this.destination;e.next(ce.a.createError(t)),e.complete()}},{key:"_complete",value:function(){var t=this.destination;t.next(ce.a.createComplete()),t.complete()}}]),n}(w.a),de=n("Kqap"),pe=n("BFxc"),ve=n("mCNh");function be(t,e){return arguments.length>=2?function(n){return Object(ve.a)(Object(de.a)(t,e),Object(pe.a)(1),Object(lt.a)(e))(n)}:function(e){return Object(ve.a)(Object(de.a)(function(e,n,r){return t(e,n,r+1)}),Object(pe.a)(1))(e)}}function ye(t){return be("function"==typeof t?function(e,n){return t(e,n)>0?e:n}:function(t,e){return t>e?t:e})}var ge=n("VRyK");function me(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return t.lift.call(ge.a.apply(void 0,[t].concat(e)))}}var we=n("bHdf"),_e=n("5+tZ");function Oe(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?Object(_e.b)(function(){return t},e,n):("number"==typeof e&&(n=e),Object(_e.b)(function(){return t},n))}function ke(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return function(r){return r.lift(new je(t,e,n))}}var je=function(){function t(e,n,r){Object(o.a)(this,t),this.accumulator=e,this.seed=n,this.concurrent=r}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new Se(t,this.accumulator,this.seed,this.concurrent))}}]),t}(),Se=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r,i,a){var s;return Object(o.a)(this,n),(s=e.call(this,t)).accumulator=r,s.acc=i,s.concurrent=a,s.hasValue=!1,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return Object(a.a)(n,[{key:"_next",value:function(t){if(this.active<this.concurrent){var e,n=this.index++,r=this.destination;try{e=(0,this.accumulator)(this.acc,t,n)}catch(i){return r.error(i)}this.active++,this._innerSub(e)}else this.buffer.push(t)}},{key:"_innerSub",value:function(t){var e=new s.a(this),n=this.destination;n.add(e);var r=Object(s.c)(t,e);r!==e&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()}},{key:"notifyNext",value:function(t){var e=this.destination;this.acc=t,this.hasValue=!0,e.next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())}}]),n}(s.b);function Ie(t){return be("function"==typeof t?function(e,n){return t(e,n)<0?e:n}:function(t,e){return t<e?t:e})}var Te=n("oB13"),Ee=n("pxpQ");function Ce(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 1===e.length&&Object(z.a)(e[0])&&(e=e[0]),function(t){return t.lift(new xe(e))}}var xe=function(){function t(e){Object(o.a)(this,t),this.nextSources=e}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new Ae(t,this.nextSources))}}]),t}(),Ae=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r){var i;return Object(o.a)(this,n),(i=e.call(this,t)).destination=t,i.nextSources=r,i}return Object(a.a)(n,[{key:"notifyError",value:function(){this.subscribeToNextSource()}},{key:"notifyComplete",value:function(){this.subscribeToNextSource()}},{key:"_error",value:function(t){this.subscribeToNextSource(),this.unsubscribe()}},{key:"_complete",value:function(){this.subscribeToNextSource(),this.unsubscribe()}},{key:"subscribeToNextSource",value:function(){var t=this.nextSources.shift();if(t){var e=new s.a(this),n=this.destination;n.add(e);var r=Object(s.c)(t,e);r!==e&&n.add(r)}else this.destination.complete()}}]),n}(s.b),Ne=n("Zy1z"),De=n("F97/");function Re(t,e){return function(n){return[Object(Tt.a)(t,e)(n),Object(Tt.a)(Object(De.a)(t,e))(n)]}}function Pe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.length;if(0===r)throw new Error("list of properties cannot be empty.");return function(t){return Object(Vt.a)(Le(e,r))(t)}}function Le(t,e){return function(n){for(var r=n,i=0;i<e;i++){var o=null!=r?r[t[i]]:void 0;if(void 0===o)return;r=o}return r}}var Me=n("XNiG");function Fe(t){return t?Object(Te.a)(function(){return new Me.a},t):Object(Te.a)(new Me.a)}var Ve=n("2Vo4");function Ue(t){return function(e){return Object(Te.a)(new Ve.a(t))(e)}}var qe=n("NHP+");function Be(){return function(t){return Object(Te.a)(new qe.a)(t)}}var He=n("jtHE");function We(t,e,n,r){n&&"function"!=typeof n&&(r=n);var i="function"==typeof n?n:void 0,o=new He.a(t,e,r);return function(t){return Object(Te.a)(function(){return o},i)(t)}}var ze=n("Nv8m");function Ke(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return 1===e.length&&Object(z.a)(e[0])&&(e=e[0]),t.lift.call(ze.a.apply(void 0,[t].concat(Object(W.a)(e))))}}var Ge=n("EY2u");function Qe(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return function(e){return 0===t?Object(Ge.b)():e.lift(new Ye(t<0?-1:t-1,e))}}var Ye=function(){function t(e,n){Object(o.a)(this,t),this.count=e,this.source=n}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new Je(t,this.count,this.source))}}]),t}(),Je=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r,i){var a;return Object(o.a)(this,n),(a=e.call(this,t)).count=r,a.source=i,a}return Object(a.a)(n,[{key:"complete",value:function(){if(!this.isStopped){var t=this.source,e=this.count;if(0===e)return Object(g.a)(Object(m.a)(n.prototype),"complete",this).call(this);e>-1&&(this.count=e-1),t.subscribe(this._unsubscribeAndRecycle())}}}]),n}(w.a);function Ze(t){return function(e){return e.lift(new Xe(t))}}var Xe=function(){function t(e){Object(o.a)(this,t),this.notifier=e}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new $e(t,this.notifier,e))}}]),t}(),$e=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r,i){var a;return Object(o.a)(this,n),(a=e.call(this,t)).notifier=r,a.source=i,a.sourceIsBeingSubscribedTo=!0,a}return Object(a.a)(n,[{key:"notifyNext",value:function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)}},{key:"notifyComplete",value:function(){if(!1===this.sourceIsBeingSubscribedTo)return Object(g.a)(Object(m.a)(n.prototype),"complete",this).call(this)}},{key:"complete",value:function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return Object(g.a)(Object(m.a)(n.prototype),"complete",this).call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}}},{key:"_unsubscribe",value:function(){var t=this.notifications,e=this.retriesSubscription;t&&(t.unsubscribe(),this.notifications=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._unsubscribe;return this._unsubscribe=null,Object(g.a)(Object(m.a)(n.prototype),"_unsubscribeAndRecycle",this).call(this),this._unsubscribe=t,this}},{key:"subscribeToRetries",value:function(){var t;this.notifications=new Me.a;try{t=(0,this.notifier)(this.notifications)}catch(e){return Object(g.a)(Object(m.a)(n.prototype),"complete",this).call(this)}this.retries=t,this.retriesSubscription=Object(s.c)(t,new s.a(this))}}]),n}(s.b);function tn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return function(e){return e.lift(new en(t,e))}}var en=function(){function t(e,n){Object(o.a)(this,t),this.count=e,this.source=n}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new nn(t,this.count,this.source))}}]),t}(),nn=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r,i){var a;return Object(o.a)(this,n),(a=e.call(this,t)).count=r,a.source=i,a}return Object(a.a)(n,[{key:"error",value:function(t){if(!this.isStopped){var e=this.source,r=this.count;if(0===r)return Object(g.a)(Object(m.a)(n.prototype),"error",this).call(this,t);r>-1&&(this.count=r-1),e.subscribe(this._unsubscribeAndRecycle())}}}]),n}(w.a);function rn(t){return function(e){return e.lift(new on(t,e))}}var on=function(){function t(e,n){Object(o.a)(this,t),this.notifier=e,this.source=n}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new an(t,this.notifier,this.source))}}]),t}(),an=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r,i){var a;return Object(o.a)(this,n),(a=e.call(this,t)).notifier=r,a.source=i,a}return Object(a.a)(n,[{key:"error",value:function(t){if(!this.isStopped){var e=this.errors,r=this.retries,i=this.retriesSubscription;if(r)this.errors=void 0,this.retriesSubscription=void 0;else{e=new Me.a;try{r=(0,this.notifier)(e)}catch(o){return Object(g.a)(Object(m.a)(n.prototype),"error",this).call(this,o)}i=Object(s.c)(r,new s.a(this))}this._unsubscribeAndRecycle(),this.errors=e,this.retries=r,this.retriesSubscription=i,e.next(t)}}},{key:"_unsubscribe",value:function(){var t=this.errors,e=this.retriesSubscription;t&&(t.unsubscribe(),this.errors=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}},{key:"notifyNext",value:function(){var t=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)}}]),n}(s.b),sn=n("x+ZX");function un(t){return function(e){return e.lift(new cn(t))}}var cn=function(){function t(e){Object(o.a)(this,t),this.notifier=e}return Object(a.a)(t,[{key:"call",value:function(t,e){var n=new ln(t),r=e.subscribe(n);return r.add(Object(s.c)(this.notifier,new s.a(n))),r}}]),t}(),ln=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.apply(this,arguments)).hasValue=!1,t}return Object(a.a)(n,[{key:"_next",value:function(t){this.value=t,this.hasValue=!0}},{key:"notifyNext",value:function(){this.emitValue()}},{key:"notifyComplete",value:function(){this.emitValue()}},{key:"emitValue",value:function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}]),n}(s.b);function hn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a;return function(n){return n.lift(new fn(t,e))}}var fn=function(){function t(e,n){Object(o.a)(this,t),this.period=e,this.scheduler=n}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new dn(t,this.period,this.scheduler))}}]),t}(),dn=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r,i){var a;return Object(o.a)(this,n),(a=e.call(this,t)).period=r,a.scheduler=i,a.hasValue=!1,a.add(i.schedule(pn,r,{subscriber:Object(p.a)(a),period:r})),a}return Object(a.a)(n,[{key:"_next",value:function(t){this.lastValue=t,this.hasValue=!0}},{key:"notifyNext",value:function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}]),n}(w.a);function pn(t){var e=t.period;t.subscriber.notifyNext(),this.schedule(t,e)}function vn(t,e){return function(n){return n.lift(new bn(t,e))}}var bn=function(){function t(e,n){Object(o.a)(this,t),this.compareTo=e,this.comparator=n}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new yn(t,this.compareTo,this.comparator))}}]),t}(),yn=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r,i){var a;return Object(o.a)(this,n),(a=e.call(this,t)).compareTo=r,a.comparator=i,a._a=[],a._b=[],a._oneComplete=!1,a.destination.add(r.subscribe(new gn(t,Object(p.a)(a)))),a}return Object(a.a)(n,[{key:"_next",value:function(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())}},{key:"_complete",value:function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()}},{key:"checkValues",value:function(){for(var t=this._a,e=this._b,n=this.comparator;t.length>0&&e.length>0;){var r=t.shift(),i=e.shift(),o=!1;try{o=n?n(r,i):r===i}catch(a){this.destination.error(a)}o||this.emit(!1)}}},{key:"emit",value:function(t){var e=this.destination;e.next(t),e.complete()}},{key:"nextB",value:function(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())}},{key:"completeB",value:function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0}}]),n}(w.a),gn=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r){var i;return Object(o.a)(this,n),(i=e.call(this,t)).parent=r,i}return Object(a.a)(n,[{key:"_next",value:function(t){this.parent.nextB(t)}},{key:"_error",value:function(t){this.parent.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.completeB(),this.unsubscribe()}}]),n}(w.a),mn=n("w1tV"),wn=n("UXun"),_n=n("sVev");function On(t){return function(e){return e.lift(new kn(t,e))}}var kn=function(){function t(e,n){Object(o.a)(this,t),this.predicate=e,this.source=n}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new jn(t,this.predicate,this.source))}}]),t}(),jn=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r,i){var a;return Object(o.a)(this,n),(a=e.call(this,t)).predicate=r,a.source=i,a.seenValue=!1,a.index=0,a}return Object(a.a)(n,[{key:"applySingleValue",value:function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)}},{key:"_next",value:function(t){var e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)}},{key:"tryNext",value:function(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(n){this.destination.error(n)}}},{key:"_complete",value:function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new _n.a)}}]),n}(w.a);function Sn(t){return function(e){return e.lift(new In(t))}}var In=function(){function t(e){Object(o.a)(this,t),this.total=e}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new Tn(t,this.total))}}]),t}(),Tn=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r){var i;return Object(o.a)(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return Object(a.a)(n,[{key:"_next",value:function(t){++this.count>this.total&&this.destination.next(t)}}]),n}(w.a);function En(t){return function(e){return e.lift(new Cn(t))}}var Cn=function(){function t(e){if(Object(o.a)(this,t),this._skipCount=e,this._skipCount<0)throw new It.a}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(0===this._skipCount?new w.a(t):new xn(t,this._skipCount))}}]),t}(),xn=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r){var i;return Object(o.a)(this,n),(i=e.call(this,t))._skipCount=r,i._count=0,i._ring=new Array(r),i}return Object(a.a)(n,[{key:"_next",value:function(t){var e=this._skipCount,n=this._count++;if(n<e)this._ring[n]=t;else{var r=n%e,i=this._ring,o=i[r];i[r]=t,this.destination.next(o)}}}]),n}(w.a);function An(t){return function(e){return e.lift(new Nn(t))}}var Nn=function(){function t(e){Object(o.a)(this,t),this.notifier=e}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new Dn(t,this.notifier))}}]),t}(),Dn=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r){var i;Object(o.a)(this,n),(i=e.call(this,t)).hasValue=!1;var a=new s.a(Object(p.a)(i));i.add(a),i.innerSubscription=a;var u=Object(s.c)(r,a);return u!==a&&(i.add(u),i.innerSubscription=u),i}return Object(a.a)(n,[{key:"_next",value:function(t){this.hasValue&&Object(g.a)(Object(m.a)(n.prototype),"_next",this).call(this,t)}},{key:"notifyNext",value:function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()}},{key:"notifyComplete",value:function(){}}]),n}(s.b),Rn=n("32Ea"),Pn=n("JX91"),Ln=n("tf+s"),Mn=n("eIep"),Fn=n("SpAZ");function Vn(){return Object(Mn.a)(Fn.a)}var Un=n("aGrj"),qn=n("1G5W");function Bn(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return n.lift(new Hn(t,e))}}var Hn=function(){function t(e,n){Object(o.a)(this,t),this.predicate=e,this.inclusive=n}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new Wn(t,this.predicate,this.inclusive))}}]),t}(),Wn=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r,i){var a;return Object(o.a)(this,n),(a=e.call(this,t)).predicate=r,a.inclusive=i,a.index=0,a}return Object(a.a)(n,[{key:"_next",value:function(t){var e,n=this.destination;try{e=this.predicate(t,this.index++)}catch(r){return void n.error(r)}this.nextOrComplete(t,e)}},{key:"nextOrComplete",value:function(t,e){var n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}]),n}(w.a),zn=n("vkgz"),Kn={leading:!0,trailing:!1};function Gn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kn;return function(n){return n.lift(new Qn(t,!!e.leading,!!e.trailing))}}var Qn=function(){function t(e,n,r){Object(o.a)(this,t),this.durationSelector=e,this.leading=n,this.trailing=r}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new Yn(t,this.durationSelector,this.leading,this.trailing))}}]),t}(),Yn=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r,i,a){var s;return Object(o.a)(this,n),(s=e.call(this,t)).destination=t,s.durationSelector=r,s._leading=i,s._trailing=a,s._hasValue=!1,s}return Object(a.a)(n,[{key:"_next",value:function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))}},{key:"send",value:function(){var t=this._sendValue;this._hasValue&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=void 0}},{key:"throttle",value:function(t){var e=this.tryDurationSelector(t);e&&this.add(this._throttled=Object(s.c)(e,new s.a(this)))}},{key:"tryDurationSelector",value:function(t){try{return this.durationSelector(t)}catch(e){return this.destination.error(e),null}}},{key:"throttlingDone",value:function(){var t=this._throttled,e=this._trailing;t&&t.unsubscribe(),this._throttled=void 0,e&&this.send()}},{key:"notifyNext",value:function(){this.throttlingDone()}},{key:"notifyComplete",value:function(){this.throttlingDone()}}]),n}(s.b);function Jn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Kn;return function(r){return r.lift(new Zn(t,e,n.leading,n.trailing))}}var Zn=function(){function t(e,n,r,i){Object(o.a)(this,t),this.duration=e,this.scheduler=n,this.leading=r,this.trailing=i}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new Xn(t,this.duration,this.scheduler,this.leading,this.trailing))}}]),t}(),Xn=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r,i,a,s){var u;return Object(o.a)(this,n),(u=e.call(this,t)).duration=r,u.scheduler=i,u.leading=a,u.trailing=s,u._hasTrailingValue=!1,u._trailingValue=null,u}return Object(a.a)(n,[{key:"_next",value:function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule($n,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}},{key:"_complete",value:function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}},{key:"clearThrottle",value:function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}]),n}(w.a);function $n(t){t.subscriber.clearThrottle()}var tr=n("NXyV");function er(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.a;return function(e){return Object(tr.a)(function(){return e.pipe(Object(de.a)(function(e,n){var r=e.current;return{value:n,current:t.now(),last:r}},{current:t.now(),value:void 0,last:void 0}),Object(Vt.a)(function(t){return new nr(t.value,t.current-t.last)}))})}}var nr=function t(e,n){Object(o.a)(this,t),this.value=e,this.interval=n},rr=n("Y6u4"),ir=n("mlxB");function or(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.a;return function(r){var i=Object(ir.a)(t),o=i?+t-n.now():Math.abs(t);return r.lift(new ar(o,i,e,n))}}var ar=function(){function t(e,n,r,i){Object(o.a)(this,t),this.waitFor=e,this.absoluteTimeout=n,this.withObservable=r,this.scheduler=i}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new sr(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}]),t}(),sr=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r,i,a,s){var u;return Object(o.a)(this,n),(u=e.call(this,t)).absoluteTimeout=r,u.waitFor=i,u.withObservable=a,u.scheduler=s,u.scheduleTimeout(),u}return Object(a.a)(n,[{key:"scheduleTimeout",value:function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(n.dispatchTimeout,this.waitFor,this))}},{key:"_next",value:function(t){this.absoluteTimeout||this.scheduleTimeout(),Object(g.a)(Object(m.a)(n.prototype),"_next",this).call(this,t)}},{key:"_unsubscribe",value:function(){this.action=void 0,this.scheduler=null,this.withObservable=null}}],[{key:"dispatchTimeout",value:function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(Object(s.c)(e,new s.a(t)))}}]),n}(s.b),ur=n("z6cu");function cr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a;return or(t,Object(ur.a)(new rr.a),e)}function lr(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.a;return Object(Vt.a)(function(e){return new hr(e,t.now())})}var hr=function t(e,n){Object(o.a)(this,t),this.value=e,this.timestamp=n};function fr(t,e,n){return 0===n?[e]:(t.push(e),t)}function dr(){return be(fr,[])}function pr(t){return function(e){return e.lift(new vr(t))}}var vr=function(){function t(e){Object(o.a)(this,t),this.windowBoundaries=e}return Object(a.a)(t,[{key:"call",value:function(t,e){var n=new br(t),r=e.subscribe(n);return r.closed||n.add(Object(s.c)(this.windowBoundaries,new s.a(n))),r}}]),t}(),br=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t){var r;return Object(o.a)(this,n),(r=e.call(this,t)).window=new Me.a,t.next(r.window),r}return Object(a.a)(n,[{key:"notifyNext",value:function(){this.openWindow()}},{key:"notifyError",value:function(t){this._error(t)}},{key:"notifyComplete",value:function(){this._complete()}},{key:"_next",value:function(t){this.window.next(t)}},{key:"_error",value:function(t){this.window.error(t),this.destination.error(t)}},{key:"_complete",value:function(){this.window.complete(),this.destination.complete()}},{key:"_unsubscribe",value:function(){this.window=null}},{key:"openWindow",value:function(){var t=this.window;t&&t.complete();var e=this.destination,n=this.window=new Me.a;e.next(n)}}]),n}(s.b);function yr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new gr(t,e))}}var gr=function(){function t(e,n){Object(o.a)(this,t),this.windowSize=e,this.startWindowEvery=n}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new mr(t,this.windowSize,this.startWindowEvery))}}]),t}(),mr=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r,i){var a;return Object(o.a)(this,n),(a=e.call(this,t)).destination=t,a.windowSize=r,a.startWindowEvery=i,a.windows=[new Me.a],a.count=0,t.next(a.windows[0]),a}return Object(a.a)(n,[{key:"_next",value:function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,i=this.windows,o=i.length,a=0;a<o&&!this.closed;a++)i[a].next(t);var s=this.count-r+1;if(s>=0&&s%e==0&&!this.closed&&i.shift().complete(),++this.count%e==0&&!this.closed){var u=new Me.a;i.push(u),n.next(u)}}},{key:"_error",value:function(t){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)}},{key:"_complete",value:function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()}},{key:"_unsubscribe",value:function(){this.count=0,this.windows=null}}]),n}(w.a),wr=n("Y7HM");function _r(t){var e=h.a,n=null,r=Number.POSITIVE_INFINITY;return Object(S.a)(arguments[3])&&(e=arguments[3]),Object(S.a)(arguments[2])?e=arguments[2]:Object(wr.a)(arguments[2])&&(r=Number(arguments[2])),Object(S.a)(arguments[1])?e=arguments[1]:Object(wr.a)(arguments[1])&&(n=Number(arguments[1])),function(i){return i.lift(new Or(t,n,r,e))}}var Or=function(){function t(e,n,r,i){Object(o.a)(this,t),this.windowTimeSpan=e,this.windowCreationInterval=n,this.maxWindowSize=r,this.scheduler=i}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new jr(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))}}]),t}(),kr=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.apply(this,arguments))._numberOfNextedValues=0,t}return Object(a.a)(n,[{key:"next",value:function(t){this._numberOfNextedValues++,Object(g.a)(Object(m.a)(n.prototype),"next",this).call(this,t)}},{key:"numberOfNextedValues",get:function(){return this._numberOfNextedValues}}]),n}(Me.a),jr=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r,i,a,s){var u;Object(o.a)(this,n),(u=e.call(this,t)).destination=t,u.windowTimeSpan=r,u.windowCreationInterval=i,u.maxWindowSize=a,u.scheduler=s,u.windows=[];var c=u.openWindow();if(null!==i&&i>=0){var l={subscriber:Object(p.a)(u),window:c,context:null},h={windowTimeSpan:r,windowCreationInterval:i,subscriber:Object(p.a)(u),scheduler:s};u.add(s.schedule(Tr,r,l)),u.add(s.schedule(Ir,i,h))}else{var f={subscriber:Object(p.a)(u),window:c,windowTimeSpan:r};u.add(s.schedule(Sr,r,f))}return u}return Object(a.a)(n,[{key:"_next",value:function(t){for(var e=this.windows,n=e.length,r=0;r<n;r++){var i=e[r];i.closed||(i.next(t),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}}},{key:"_error",value:function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)}},{key:"_complete",value:function(){for(var t=this.windows;t.length>0;){var e=t.shift();e.closed||e.complete()}this.destination.complete()}},{key:"openWindow",value:function(){var t=new kr;return this.windows.push(t),this.destination.next(t),t}},{key:"closeWindow",value:function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)}}]),n}(w.a);function Sr(t){var e=t.subscriber,n=t.windowTimeSpan,r=t.window;r&&e.closeWindow(r),t.window=e.openWindow(),this.schedule(t,n)}function Ir(t){var e=t.windowTimeSpan,n=t.subscriber,r=t.scheduler,i=t.windowCreationInterval,o=n.openWindow(),a=this,s={action:a,subscription:null};s.subscription=r.schedule(Tr,e,{subscriber:n,window:o,context:s}),a.add(s.subscription),a.schedule(t,i)}function Tr(t){var e=t.subscriber,n=t.window,r=t.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),e.closeWindow(n)}function Er(t,e){return function(n){return n.lift(new Cr(t,e))}}var Cr=function(){function t(e,n){Object(o.a)(this,t),this.openings=e,this.closingSelector=n}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new xr(t,this.openings,this.closingSelector))}}]),t}(),xr=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r,i){var a;return Object(o.a)(this,n),(a=e.call(this,t)).openings=r,a.closingSelector=i,a.contexts=[],a.add(a.openSubscription=Object(R.a)(Object(p.a)(a),r,r)),a}return Object(a.a)(n,[{key:"_next",value:function(t){var e=this.contexts;if(e)for(var n=e.length,r=0;r<n;r++)e[r].window.next(t)}},{key:"_error",value:function(t){var e=this.contexts;if(this.contexts=null,e)for(var r=e.length,i=-1;++i<r;){var o=e[i];o.window.error(t),o.subscription.unsubscribe()}Object(g.a)(Object(m.a)(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,r=-1;++r<e;){var i=t[r];i.window.complete(),i.subscription.unsubscribe()}Object(g.a)(Object(m.a)(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,n=-1;++n<e;){var r=t[n];r.window.unsubscribe(),r.subscription.unsubscribe()}}},{key:"notifyNext",value:function(t,e,n,r,i){if(t===this.openings){var o;try{o=(0,this.closingSelector)(e)}catch(l){return this.error(l)}var a=new Me.a,s=new D.a,u={window:a,subscription:s};this.contexts.push(u);var c=Object(R.a)(this,o,u);c.closed?this.closeWindow(this.contexts.length-1):(c.context=u,s.add(c)),this.destination.next(a)}else this.closeWindow(this.contexts.indexOf(t))}},{key:"notifyError",value:function(t){this.error(t)}},{key:"notifyComplete",value:function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))}},{key:"closeWindow",value:function(t){if(-1!==t){var e=this.contexts,n=e[t],r=n.window,i=n.subscription;e.splice(t,1),r.complete(),i.unsubscribe()}}}]),n}(P.a);function Ar(t){return function(e){return e.lift(new Nr(t))}}var Nr=function(){function t(e){Object(o.a)(this,t),this.closingSelector=e}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new Dr(t,this.closingSelector))}}]),t}(),Dr=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r){var i;return Object(o.a)(this,n),(i=e.call(this,t)).destination=t,i.closingSelector=r,i.openWindow(),i}return Object(a.a)(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.openWindow(i)}},{key:"notifyError",value:function(t){this._error(t)}},{key:"notifyComplete",value:function(t){this.openWindow(t)}},{key:"_next",value:function(t){this.window.next(t)}},{key:"_error",value:function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()}},{key:"_complete",value:function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()}},{key:"unsubscribeClosingNotification",value:function(){this.closingNotification&&this.closingNotification.unsubscribe()}},{key:"openWindow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&(this.remove(t),t.unsubscribe());var e=this.window;e&&e.complete();var n,r=this.window=new Me.a;this.destination.next(r);try{var i=this.closingSelector;n=i()}catch(o){return this.destination.error(o),void this.window.error(o)}this.add(this.closingNotification=Object(R.a)(this,n))}}]),n}(P.a),Rr=n("zp1y"),Pr=n("1uah");function Lr(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return t.lift.call(Pr.b.apply(void 0,[t].concat(e)))}}function Mr(t){return function(e){return e.lift(new Pr.a(t))}}},l7GE:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("1OyB"),i=n("vuIU"),o=n("Ji7U"),a=n("LK+K"),s=function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(n("7o/Q").a)},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("JX7q"),i=n("Ji7U"),o=n("LK+K"),a=n("1OyB"),s=n("vuIU"),u=n("7o/Q");function c(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new l(t,e))}}var l=function(){function t(e,n){Object(a.a)(this,t),this.project=e,this.thisArg=n}return Object(s.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new h(t,this.project,this.thisArg))}}]),t}(),h=function(t){Object(i.a)(n,t);var e=Object(o.a)(n);function n(t,i,o){var s;return Object(a.a)(this,n),(s=e.call(this,t)).project=i,s.count=0,s.thisArg=o||Object(r.a)(s),s}return Object(s.a)(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(u.a)},mCNh:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("SpAZ");function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return o(e)}function o(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}}},mlxB:function(t,e,n){"use strict";function r(t){return t instanceof Date&&!isNaN(+t)}n.d(e,"a",function(){return r})},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},nYR2:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("Ji7U"),i=n("LK+K"),o=n("1OyB"),a=n("vuIU"),s=n("7o/Q"),u=n("quSY");function c(t){return function(e){return e.lift(new l(t))}}var l=function(){function t(e){Object(o.a)(this,t),this.callback=e}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new h(t,this.callback))}}]),t}(),h=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r){var i;return Object(o.a)(this,n),(i=e.call(this,t)).add(new u.a(r)),i}return n}(s.a)},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},oB13:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("1OyB"),i=n("vuIU"),o=n("EQ5u");function a(t,e){return function(n){var r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new s(r,e));var i=Object.create(n,o.b);return i.source=n,i.subjectFactory=r,i}}var s=function(){function t(e,n){Object(r.a)(this,t),this.subjectFactory=e,this.selector=n}return Object(i.a)(t,[{key:"call",value:function(t,e){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i}}]),t}()},pLZG:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("Ji7U"),i=n("LK+K"),o=n("1OyB"),a=n("vuIU"),s=n("7o/Q");function u(t,e){return function(n){return n.lift(new c(t,e))}}var c=function(){function t(e,n){Object(o.a)(this,t),this.predicate=e,this.thisArg=n}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.predicate,this.thisArg))}}]),t}(),l=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r,i){var a;return Object(o.a)(this,n),(a=e.call(this,t)).predicate=r,a.thisArg=i,a.count=0,a}return Object(a.a)(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(s.a)},pjAE:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map(function(t,e){return"".concat(e+1,") ").concat(t.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}()},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return h});var r=n("Ji7U"),i=n("LK+K"),o=n("1OyB"),a=n("vuIU"),s=n("7o/Q"),u=n("WMd4");function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new l(t,e))}}var l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(o.a)(this,t),this.scheduler=e,this.delay=n}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new h(t,this.scheduler,this.delay))}}]),t}(),h=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(o.a)(this,n),(i=e.call(this,t)).scheduler=r,i.delay=a,i}return Object(a.a)(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new f(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(u.a.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(u.a.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(u.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){t.notification.observe(t.destination),this.unsubscribe()}}]),n}(s.a),f=function t(e,n){Object(o.a)(this,t),this.notification=e,this.destination=n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,"a",function(){return a}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],a=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,c=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],t)),this._logHandler.apply(this,r([this,a.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],t)),this._logHandler.apply(this,r([this,a.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],t)),this._logHandler.apply(this,r([this,a.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],t)),this._logHandler.apply(this,r([this,a.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],t)),this._logHandler.apply(this,r([this,a.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:a[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qCKp:function(t,e,n){"use strict";n.r(e),n.d(e,"Observable",function(){return r.a}),n.d(e,"ConnectableObservable",function(){return i.a}),n.d(e,"GroupedObservable",function(){return o.a}),n.d(e,"observable",function(){return a.a}),n.d(e,"Subject",function(){return s.a}),n.d(e,"BehaviorSubject",function(){return u.a}),n.d(e,"ReplaySubject",function(){return c.a}),n.d(e,"AsyncSubject",function(){return l.a}),n.d(e,"asap",function(){return h.a}),n.d(e,"asapScheduler",function(){return h.b}),n.d(e,"async",function(){return f.a}),n.d(e,"asyncScheduler",function(){return f.b}),n.d(e,"queue",function(){return d.a}),n.d(e,"queueScheduler",function(){return d.b}),n.d(e,"animationFrame",function(){return j}),n.d(e,"animationFrameScheduler",function(){return k}),n.d(e,"VirtualTimeScheduler",function(){return S}),n.d(e,"VirtualAction",function(){return I}),n.d(e,"Scheduler",function(){return T.a}),n.d(e,"Subscription",function(){return E.a}),n.d(e,"Subscriber",function(){return C.a}),n.d(e,"Notification",function(){return x.a}),n.d(e,"NotificationKind",function(){return x.b}),n.d(e,"pipe",function(){return A.a}),n.d(e,"noop",function(){return N.a}),n.d(e,"identity",function(){return D.a}),n.d(e,"isObservable",function(){return R}),n.d(e,"ArgumentOutOfRangeError",function(){return P.a}),n.d(e,"EmptyError",function(){return L.a}),n.d(e,"ObjectUnsubscribedError",function(){return M.a}),n.d(e,"UnsubscriptionError",function(){return F.a}),n.d(e,"TimeoutError",function(){return V.a}),n.d(e,"bindCallback",function(){return z}),n.d(e,"bindNodeCallback",function(){return Q}),n.d(e,"combineLatest",function(){return X.b}),n.d(e,"concat",function(){return $.a}),n.d(e,"defer",function(){return tt.a}),n.d(e,"empty",function(){return et.b}),n.d(e,"forkJoin",function(){return nt.a}),n.d(e,"from",function(){return rt.a}),n.d(e,"fromEvent",function(){return it.a}),n.d(e,"fromEventPattern",function(){return at}),n.d(e,"generate",function(){return st}),n.d(e,"iif",function(){return ct}),n.d(e,"interval",function(){return ht}),n.d(e,"merge",function(){return dt.a}),n.d(e,"never",function(){return pt.b}),n.d(e,"of",function(){return vt.a}),n.d(e,"onErrorResumeNext",function(){return bt}),n.d(e,"pairs",function(){return yt}),n.d(e,"partition",function(){return Ot}),n.d(e,"race",function(){return kt.a}),n.d(e,"range",function(){return jt}),n.d(e,"throwError",function(){return It.a}),n.d(e,"timer",function(){return Tt.a}),n.d(e,"using",function(){return Et}),n.d(e,"zip",function(){return Ct.b}),n.d(e,"scheduled",function(){return xt.a}),n.d(e,"EMPTY",function(){return et.a}),n.d(e,"NEVER",function(){return pt.a}),n.d(e,"config",function(){return At.a});var r=n("HDdC"),i=n("EQ5u"),o=n("OQgR"),a=n("kJWO"),s=n("XNiG"),u=n("2Vo4"),c=n("jtHE"),l=n("NHP+"),h=n("7Hc7"),f=n("D0XW"),d=n("qgXg"),p=n("1OyB"),v=n("vuIU"),b=n("ReuC"),y=n("foSv"),g=n("Ji7U"),m=n("LK+K"),w=n("3N8a"),_=function(t){Object(g.a)(n,t);var e=Object(m.a)(n);function n(t,r){var i;return Object(p.a)(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return Object(v.a)(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?Object(b.a)(Object(y.a)(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(function(){return t.flush(null)})))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return Object(b.a)(Object(y.a)(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}]),n}(w.a),O=n("IjjT"),k=new(function(t){Object(g.a)(n,t);var e=Object(m.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(v.a)(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(O.a))(_),j=k,S=function(){var t=function(t){Object(g.a)(n,t);var e=Object(m.a)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;return Object(p.a)(this,n),(t=e.call(this,r,function(){return t.frame})).maxFrames=i,t.frame=0,t.index=-1,t}return Object(v.a)(n,[{key:"flush",value:function(){for(var t,e,n=this.actions,r=this.maxFrames;(e=n[0])&&e.delay<=r&&(n.shift(),this.frame=e.delay,!(t=e.execute(e.state,e.delay))););if(t){for(;e=n.shift();)e.unsubscribe();throw t}}}]),n}(O.a);return t.frameTimeFactor=10,t}(),I=function(t){Object(g.a)(n,t);var e=Object(m.a)(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.index+=1;return Object(p.a)(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.index=o,i.active=!0,i.index=t.index=o,i}return Object(v.a)(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.id)return Object(b.a)(Object(y.a)(n.prototype),"schedule",this).call(this,t,e);this.active=!1;var r=new n(this.scheduler,this.work);return this.add(r),r.schedule(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.delay=t.frame+r;var i=t.actions;return i.push(this),i.sort(n.sortActions),!0}},{key:"recycleAsyncId",value:function(t,e){}},{key:"_execute",value:function(t,e){if(!0===this.active)return Object(b.a)(Object(y.a)(n.prototype),"_execute",this).call(this,t,e)}}],[{key:"sortActions",value:function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1}}]),n}(w.a),T=n("Y/cZ"),E=n("quSY"),C=n("7o/Q"),x=n("WMd4"),A=n("mCNh"),N=n("KqfI"),D=n("SpAZ");function R(t){return!!t&&(t instanceof r.a||"function"==typeof t.lift&&"function"==typeof t.subscribe)}var P=n("4I5i"),L=n("sVev"),M=n("9ppp"),F=n("pjAE"),V=n("Y6u4"),U=n("KQm4"),q=n("lJxs"),B=n("8Qeq"),H=n("DH7j"),W=n("z+Ro");function z(t,e,n){if(e){if(!Object(W.a)(e))return function(){return z(t,n).apply(void 0,arguments).pipe(Object(q.a)(function(t){return Object(H.a)(t)?e.apply(void 0,Object(U.a)(t)):e(t)}))};n=e}return function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];var a,s=this,u={context:s,subject:a,callbackFunc:t,scheduler:n};return new r.a(function(e){if(n)return n.schedule(K,0,{args:i,subscriber:e,params:u});if(!a){a=new l.a;try{t.apply(s,[].concat(i,[function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];a.next(e.length<=1?e[0]:e),a.complete()}]))}catch(r){Object(B.a)(a)?a.error(r):console.warn(r)}}return a.subscribe(e)})}}function K(t){var e=this,n=t.args,r=t.subscriber,i=t.params,o=i.callbackFunc,a=i.context,s=i.scheduler,u=i.subject;if(!u){u=i.subject=new l.a;try{o.apply(a,[].concat(Object(U.a)(n),[function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.add(s.schedule(G,0,{value:n.length<=1?n[0]:n,subject:u}))}]))}catch(c){u.error(c)}}this.add(u.subscribe(r))}function G(t){var e=t.subject;e.next(t.value),e.complete()}function Q(t,e,n){if(e){if(!Object(W.a)(e))return function(){return Q(t,n).apply(void 0,arguments).pipe(Object(q.a)(function(t){return Object(H.a)(t)?e.apply(void 0,Object(U.a)(t)):e(t)}))};n=e}return function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];var a={subject:void 0,args:i,callbackFunc:t,scheduler:n,context:this};return new r.a(function(e){var r=a.context,o=a.subject;if(n)return n.schedule(Y,0,{params:a,subscriber:e,context:r});if(!o){o=a.subject=new l.a;try{t.apply(r,[].concat(i,[function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.shift();r?o.error(r):(o.next(e.length<=1?e[0]:e),o.complete())}]))}catch(s){Object(B.a)(o)?o.error(s):console.warn(s)}}return o.subscribe(e)})}}function Y(t){var e=this,n=t.params,r=t.subscriber,i=t.context,o=n.callbackFunc,a=n.args,s=n.scheduler,u=n.subject;if(!u){u=n.subject=new l.a;try{o.apply(i,[].concat(Object(U.a)(a),[function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.shift();e.add(i?s.schedule(Z,0,{err:i,subject:u}):s.schedule(J,0,{value:n.length<=1?n[0]:n,subject:u}))}]))}catch(c){this.add(s.schedule(Z,0,{err:c,subject:u}))}}this.add(u.subscribe(r))}function J(t){var e=t.subject;e.next(t.value),e.complete()}function Z(t){t.subject.error(t.err)}var X=n("itXk"),$=n("GyhO"),tt=n("NXyV"),et=n("EY2u"),nt=n("cp0P"),rt=n("Cfvw"),it=n("xgIS"),ot=n("n6bG");function at(t,e,n){return n?at(t,e).pipe(Object(q.a)(function(t){return Object(H.a)(t)?n.apply(void 0,Object(U.a)(t)):n(t)})):new r.a(function(n){var r,i=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.next(1===e.length?e[0]:e)};try{r=t(i)}catch(o){return void n.error(o)}if(Object(ot.a)(e))return function(){return e(i,r)}})}function st(t,e,n,i,o){var a,s;return 1==arguments.length?(s=t.initialState,e=t.condition,n=t.iterate,a=t.resultSelector||D.a,o=t.scheduler):void 0===i||Object(W.a)(i)?(s=t,a=D.a,o=i):(s=t,a=i),new r.a(function(t){var r=s;if(o)return o.schedule(ut,0,{subscriber:t,iterate:n,condition:e,resultSelector:a,state:r});for(;;){if(e){var i=void 0;try{i=e(r)}catch(c){return void t.error(c)}if(!i){t.complete();break}}var u=void 0;try{u=a(r)}catch(c){return void t.error(c)}if(t.next(u),t.closed)break;try{r=n(r)}catch(c){return void t.error(c)}}})}function ut(t){var e=t.subscriber,n=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(o){return void e.error(o)}else t.needIterate=!0;if(n){var r;try{r=n(t.state)}catch(o){return void e.error(o)}if(!r)return void e.complete();if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(o){return void e.error(o)}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function ct(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:et.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:et.a;return Object(tt.a)(function(){return t()?e:n})}var lt=n("Y7HM");function ht(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.a;return(!Object(lt.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=f.a),new r.a(function(n){return n.add(e.schedule(ft,t,{subscriber:n,counter:0,period:t})),n})}function ft(t){var e=t.subscriber,n=t.counter,r=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}var dt=n("VRyK"),pt=n("5yfJ"),vt=n("LRne");function bt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===e.length)return et.a;var i=e[0],o=e.slice(1);return 1===e.length&&Object(H.a)(i)?bt.apply(void 0,Object(U.a)(i)):new r.a(function(t){var e=function(){return t.add(bt.apply(void 0,Object(U.a)(o)).subscribe(t))};return Object(rt.a)(i).subscribe({next:function(e){t.next(e)},error:e,complete:e})})}function yt(t,e){return new r.a(e?function(n){var r=Object.keys(t),i=new E.a;return i.add(e.schedule(gt,0,{keys:r,index:0,subscriber:n,subscription:i,obj:t})),i}:function(e){for(var n=Object.keys(t),r=0;r<n.length&&!e.closed;r++){var i=n[r];t.hasOwnProperty(i)&&e.next([i,t[i]])}e.complete()})}function gt(t){var e=t.keys,n=t.index,r=t.subscriber,i=t.subscription,o=t.obj;if(!r.closed)if(n<e.length){var a=e[n];r.next([a,o[a]]),i.add(this.schedule({keys:e,index:n+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}var mt=n("F97/"),wt=n("SeVD"),_t=n("pLZG");function Ot(t,e,n){return[Object(_t.a)(e,n)(new r.a(Object(wt.a)(t))),Object(_t.a)(Object(mt.a)(e,n))(new r.a(Object(wt.a)(t)))]}var kt=n("Nv8m");function jt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return new r.a(function(r){void 0===e&&(e=t,t=0);var i=0,o=t;if(n)return n.schedule(St,0,{index:i,count:e,start:t,subscriber:r});for(;;){if(i++>=e){r.complete();break}if(r.next(o++),r.closed)break}})}function St(t){var e=t.start,n=t.index,r=t.subscriber;n>=t.count?r.complete():(r.next(e),r.closed||(t.index=n+1,t.start=e+1,this.schedule(t)))}var It=n("z6cu"),Tt=n("PqYM");function Et(t,e){return new r.a(function(n){var r,i;try{r=t()}catch(a){return void n.error(a)}try{i=e(r)}catch(a){return void n.error(a)}var o=(i?Object(rt.a)(i):et.a).subscribe(n);return function(){o.unsubscribe(),r&&r.unsubscribe()}})}var Ct=n("1uah"),xt=n("7HRe"),At=n("2fFW")},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return d}),n.d(e,"b",function(){return T}),n.d(e,"c",function(){return U}),n.d(e,"d",function(){return i}),n.d(e,"e",function(){return o}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return u}),n.d(e,"h",function(){return P}),n.d(e,"i",function(){return p}),n.d(e,"j",function(){return q}),n.d(e,"k",function(){return h}),n.d(e,"l",function(){return f}),n.d(e,"m",function(){return z}),n.d(e,"n",function(){return J}),n.d(e,"o",function(){return v}),n.d(e,"p",function(){return R}),n.d(e,"q",function(){return g}),n.d(e,"r",function(){return m}),n.d(e,"s",function(){return _}),n.d(e,"t",function(){return M}),n.d(e,"u",function(){return O}),n.d(e,"v",function(){return b}),n.d(e,"w",function(){return y}),n.d(e,"x",function(){return j}),n.d(e,"y",function(){return w}),n.d(e,"z",function(){return S}),n.d(e,"A",function(){return k}),n.d(e,"B",function(){return D}),n.d(e,"C",function(){return x}),n.d(e,"D",function(){return F}),n.d(e,"E",function(){return V}),n.d(e,"F",function(){return L}),n.d(e,"G",function(){return Y}),n.d(e,"H",function(){return Q}),n.d(e,"I",function(){return A}),n.d(e,"J",function(){return W}),n.d(e,"K",function(){return K}),n.d(e,"L",function(){return G});var r=n("30Go"),i=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){var e=a(t);return s.encodeByteArray(e,!0)},c=function(t){return u(t).replace(/\./g,"")},l=function(t){try{return s.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function h(t){return f(void 0,t)}function f(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=f(t[n],e[n]));return t}var d=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function p(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[c(JSON.stringify({alg:"none",type:"JWT"})),c(JSON.stringify(a)),""].join(".")}function v(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function b(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function y(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function g(){return"object"==typeof self&&self.self===self}function m(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function w(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _(){return v().indexOf("Electron/")>=0}function O(){var t=v();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function k(){return v().indexOf("MSAppHost/")>=0}function j(){return!1}function S(){return!y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var I=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,T.prototype.create),o}return Object(r.c)(e,t),e}(Error),T=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?E(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new I(i,s,r);return u},t}();function E(t,e){return t.replace(C,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var C=/\{\$([^}]+)}/g;function x(t){return JSON.parse(t)}function A(t){return JSON.stringify(t)}var N=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=x(l(o[0])||""),n=x(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}},D=function(t){var e=N(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},R=function(t){var e=N(t).claims;return"object"==typeof e&&!0===e.admin};function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function L(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function M(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function F(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function V(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}var U=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^s&(u^c),o=1518500249):(i=s^u^c,o=1859775393):r<60?(i=s&u|c&(s|u),o=2400959708):(i=s^u^c,o=3395469782);var h=(a<<5|a>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function q(t,e){var n=new B(t,e);return n.subscribe.bind(n)}var B=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=H),void 0===r.error&&(r.error=H),void 0===r.complete&&(r.complete=H);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function H(){}var W=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function z(t,e){return t+" failed: "+e+" argument "}function K(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(z(t,e)+"must be a valid function.")}function G(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(z(t,e)+"must be a valid context object.")}var Q=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);if(o>=55296&&o<=56319){var a=o-55296;r++,i(r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(t.charCodeAt(r)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},Y=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function J(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return h});var r=n("1OyB"),i=n("vuIU"),o=n("ReuC"),a=n("foSv"),s=n("Ji7U"),u=n("LK+K"),c=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t,i){var o;return Object(r.a)(this,n),(o=e.call(this,t,i)).scheduler=t,o.work=i,o}return Object(i.a)(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?Object(o.a)(Object(a.a)(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?Object(o.a)(Object(a.a)(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?Object(o.a)(Object(a.a)(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(n("3N8a").a),l=new(function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return n}(n("IjjT").a))(c),h=l},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("1OyB"),i=n("vuIU"),o=n("DH7j"),a=n("XoHu"),s=n("n6bG"),u=n("pjAE"),c=function(){var t,e=function(){function t(e){Object(r.a)(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return Object(i.a)(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,i=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var h=0;h<n.length;++h)n[h].remove(this);if(Object(s.a)(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(v){e=v instanceof u.a?l(v.errors):[v]}}if(Object(o.a)(c))for(var f=-1,d=c.length;++f<d;){var p=c[f];if(Object(a.a)(p))try{p.unsubscribe()}catch(v){e=e||[],v instanceof u.a?e=e.concat(l(v.errors)):e.push(v)}}if(e)throw new u.a(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}();return e.EMPTY=((t=new e).closed=!0,t),e}();function l(t){return t.reduce(function(t,e){return t.concat(e instanceof u.a?e.errors:e)},[])}},rePB:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",function(){return r})},s4An:function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",function(){return r})},sVev:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}()},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return x}),n.d(e,"b",function(){return k}),n.d(e,"c",function(){return O}),n.d(e,"d",function(){return y}),n.d(e,"e",function(){return _}),n.d(e,"f",function(){return E}),n.d(e,"g",function(){return S}),n.d(e,"h",function(){return g}),n.d(e,"i",function(){return w}),n.d(e,"j",function(){return I});var r=n("T5bk"),i=n("KQm4"),o=n("1OyB"),a=n("vuIU"),s=n("qgXg"),u=n("D0XW"),c=n("vkgz"),l=n("tf+s"),h=n("pxpQ"),f=n("fXoL"),d=n("Jgta");function p(){}var v=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.b;Object(o.a)(this,t),this.zone=e,this.delegate=n}return Object(a.a)(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule(function(e){var n=this;r.runGuarded(function(){t.apply(n,[e])})},e,n)}}]),t}(),b=function(){function t(e){Object(o.a)(this,t),this.zone=e,this.task=null}return Object(a.a)(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run(function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",p,{},p,p)}),e.pipe(Object(c.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout(function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)},10)}}]),t}(),y=function t(e){Object(o.a)(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular(function(){return new v(Zone.current)}),this.insideAngular=e.run(function(){return new v(Zone.current,u.b)})};function g(t){return function(e){return(e=e.lift(new b(t.ngZone))).pipe(Object(l.a)(t.outsideAngular),Object(h.b)(t.insideAngular))}}var m=["ngOnDestroy"],w=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(t,{get:function(o,a){return n.runOutsideAngular(function(){var o;if(t[a])return(null===(o=null==r?void 0:r.spy)||void 0===o?void 0:o.get)&&r.spy.get(a,t[a]),t[a];if(m.indexOf(a)>-1)return function(){};var s=e.toPromise().then(function(t){var e=t&&t[a];return"function"==typeof e?e.bind(t):e&&e.then?e.then(function(t){return n.run(function(){return t})}):n.run(function(){return e})});return new Proxy(function(){},{get:function(t,e){return s[e]},apply:function(t,e,n){return s.then(function(t){var e,o=t&&t.apply(void 0,Object(i.a)(n));return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(a,n,o),o})}})})}})},_=function(t,e){e.forEach(function(e){Object.getOwnPropertyNames(e.prototype||e).forEach(function(n){Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},O=new f.s("angularfire2.app.options"),k=new f.s("angularfire2.app.nameOrConfig"),j=new f.Q("6.1.5");function S(e,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=d.a.apps.filter(function(t){return t&&t.name===i.name})[0]||n.runOutsideAngular(function(){return d.a.initializeApp(e,i)});try{if(JSON.stringify(e)!==JSON.stringify(o.options)){var a=!!t.hot;T("error","".concat(o.name," Firebase App already initialized with different options").concat(a?", you may need to reload as Firebase is not HMR aware.":"."))}}catch(s){}return o}var I=function(){T("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},T=function(t){if(Object(f.W)()&&"undefined"!=typeof console){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=console)[t].apply(e,r)}};function E(e,n,o,a,s){var u=globalThis.\u0275AngularfireInstanceCache.get(e)||[],c=Object(r.a)(u),l=c[0],h=c.slice(1);if(l){try{if(s.some(function(t,e){var n=h[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})){var f=!!t.hot;T("error","".concat(n," was already initialized on the ").concat(o.name," Firebase App instance with different settings.").concat(f?" You may need to reload as Firebase is not HMR aware.":""))}}catch(p){}return l}var d=a();return globalThis.\u0275AngularfireInstanceCache.set(e,[d].concat(Object(i.a)(s))),d}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var C={provide:function t(){Object(o.a)(this,t)},useFactory:S,deps:[O,f.B,[new f.C,k]]},x=function(){var t=function(){function t(e){Object(o.a)(this,t),d.a.registerVersion("angularfire",j.full,e.toString()),d.a.registerVersion("angular",f.P.full)}return Object(a.a)(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:O,useValue:e},{provide:k,useValue:n}]}}}]),t}();return t.\u0275mod=f.Lb({type:t}),t.\u0275inj=f.Kb({factory:function(e){return new(e||t)(f.Zb(f.D))},providers:[C]}),t}()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("1OyB"),i=n("vuIU"),o=n("Ji7U"),a=n("LK+K"),s=n("HDdC"),u=n("7Hc7"),c=n("Y7HM"),l=function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a;return Object(r.a)(this,n),(i=e.call(this)).source=t,i.delayTime=o,i.scheduler=a,(!Object(c.a)(o)||o<0)&&(i.delayTime=0),a&&"function"==typeof a.schedule||(i.scheduler=u.a),i}return Object(i.a)(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a;return new n(t,e,r)}},{key:"dispatch",value:function(t){return this.add(t.source.subscribe(t.subscriber))}}]),n}(s.a);function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new f(t,e))}}var f=function(){function t(e,n){Object(r.a)(this,t),this.scheduler=e,this.delay=n}return Object(i.a)(t,[{key:"call",value:function(t,e){return new l(e,this.delay,this.scheduler).subscribe(t)}}]),t}()},uFwe:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("BsWD");function i(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Object(r.a)(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("JX7q"),i=n("Ji7U"),o=n("LK+K"),a=n("1OyB"),s=n("vuIU"),u=n("7o/Q"),c=n("KqfI"),l=n("n6bG");function h(t,e,n){return function(r){return r.lift(new f(t,e,n))}}var f=function(){function t(e,n,r){Object(a.a)(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return Object(s.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new d(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),d=function(t){Object(i.a)(n,t);var e=Object(o.a)(n);function n(t,i,o,s){var u;return Object(a.a)(this,n),(u=e.call(this,t))._tapNext=c.a,u._tapError=c.a,u._tapComplete=c.a,u._tapError=o||c.a,u._tapComplete=s||c.a,Object(l.a)(i)?(u._context=Object(r.a)(u),u._tapNext=i):i&&(u._context=i,u._tapNext=i.next||c.a,u._tapError=i.error||c.a,u._tapComplete=i.complete||c.a),u}return Object(s.a)(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(u.a)},vuIU:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",function(){return i})},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("oB13"),i=n("x+ZX"),o=n("XNiG");function a(){return new o.a}function s(){return function(t){return Object(i.a)()(Object(r.a)(a)(t))}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("Ji7U"),i=n("LK+K"),o=n("1OyB"),a=n("vuIU"),s=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}var c=function(){function t(e){Object(o.a)(this,t),this.connectable=e}return Object(a.a)(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),l=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r){var i;return Object(o.a)(this,n),(i=e.call(this,t)).connectable=r,i}return Object(a.a)(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(s.a)},xbPD:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("Ji7U"),i=n("LK+K"),o=n("1OyB"),a=n("vuIU"),s=n("7o/Q");function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new c(t))}}var c=function(){function t(e){Object(o.a)(this,t),this.defaultValue=e}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.defaultValue))}}]),t}(),l=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r){var i;return Object(o.a)(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return Object(a.a)(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(s.a)},xgIS:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("KQm4"),i=n("HDdC"),o=n("DH7j"),a=n("n6bG"),s=n("lJxs");function u(t,e,n,l){return Object(a.a)(n)&&(l=n,n=void 0),l?u(t,e,n).pipe(Object(s.a)(function(t){return Object(o.a)(t)?l.apply(void 0,Object(r.a)(t)):l(t)})):new i.a(function(r){c(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function c(t,e,n,r,i){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var a=t;t.addEventListener(e,n,i),o=function(){return a.removeEventListener(e,n,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var s=t;t.on(e,n),o=function(){return s.off(e,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var u=t;t.addListener(e,n),o=function(){return u.removeListener(e,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var l=0,h=t.length;l<h;l++)c(t[l],e,n,r,i)}r.add(o)}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function a(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?function(n){return e.schedule(o,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function o(t){t.subscriber.error(t.error)}},zIRd:function(t,e,n){"use strict";var r,i,o=n("30Go"),a=n("qOnz"),s=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),v=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(a.k)(t),this.container=new s.b(e.name),this._addComponent(new s.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=f),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var b=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(Object(a.h)(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new s.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(a.h)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw l.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&Object(a.l)(u,o.serviceProps),r[s]=u,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(v);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(a.l)(e,t)},createSubscribe:a.j,ErrorFactory:a.b,deepExtend:a.l}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(a.q)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=b.initializeApp;b.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(a.w)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),m.apply(void 0,t)};var w=b;!function(t,e){t.INTERNAL.registerComponent(new s.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.30",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL"),i={id:"",profesion:"Computer Systems Engineer",description:"<p>I am simply a FullStack developer but also a Computer Systems Engineer, graduated from Milagro State University. I learned a lot about software development and still am.</p><p>I am passionate about learning new technologies. Some of my qualities are: Actodidact, Adaptability, Communication</p>",image:"./assets/img/personal/perfil.jpg",name:"Bol\xedvar C\xe1rdenas",state:!0,year:1997,url_linklin:"https://www.linkedin.com/in/bolivar-cardenas-perez-10a316199/",url_twiter:"https://twitter.com/bolo_bolivar",url_github:"https://github.com/stemensooh",url_facebook:"https://www.facebook.com/bolivar.cardenas.509",url_instagram:"https://www.instagram.com/stemen_sooh/"},o=[{id:"",name:"Python",percent:85,type:"",image:"./assets/img/img-tecnologia/python.png",state:!0},{id:"",name:"PHP",percent:85,type:"",image:"./assets/img/img-tecnologia/php.png",state:!0},{id:"",name:"SQL Server",percent:85,type:"",image:"./assets/img/img-tecnologia/sqlServer.png",state:!0},{id:"",name:"MySQL",percent:85,type:"",image:"./assets/img/img-tecnologia/mySql.png",state:!0},{id:"",name:"Angular",percent:70,type:"",image:"./assets/img/img-tecnologia/angular.png",state:!0},{id:"",name:"C# .Net",percent:60,type:"",image:"./assets/img/img-tecnologia/cSharp.png",state:!0},{id:"",name:"Visual Basic .Net",percent:60,type:"",image:"./assets/img/img-tecnologia/vb.png",state:!0},{id:"",name:"Django",percent:60,type:"",image:"./assets/img/img-tecnologia/django.jpg",state:!0},{id:"",name:"ASP.NET",percent:55,type:"",image:"./assets/img/img-tecnologia/aspNet.png",state:!0},{id:"",name:"ASP.NET Core",percent:45,type:"",image:"./assets/img/img-tecnologia/netCore.png",state:!0},{id:"",name:"Laravel",percent:20,type:"",image:"./assets/img/img-tecnologia/laravel.png",state:!0}],a=n("ReuC"),s=n("foSv"),u=n("1OyB"),c=n("vuIU"),l=n("Ji7U"),h=n("LK+K"),f=n("uFwe"),d=n("ODXe"),p=null;function v(){return p}var b=function t(){Object(u.a)(this,t)},y=new r.s("DocumentToken"),g=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:m,token:t,providedIn:"platform"}),t}();function m(){return Object(r.Zb)(_)}var w=new r.s("Location Initialized"),_=function(){var t=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var r;return Object(u.a)(this,n),(r=e.call(this))._doc=t,r._init(),r}return Object(c.a)(n,[{key:"_init",value:function(){this.location=v().getLocation(),this._history=v().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return v().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){v().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){v().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(t,e,n){O()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){O()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(g);return t.\u0275fac=function(e){return new(e||t)(r.Zb(y))},t.\u0275prov=Object(r.Jb)({factory:k,token:t,providedIn:"platform"}),t}();function O(){return!!window.history.pushState}function k(){return new _(Object(r.Zb)(y))}function j(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function S(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function I(t){return t&&"?"!==t[0]?"?"+t:t}var T=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:E,token:t,providedIn:"root"}),t}();function E(t){var e=Object(r.Zb)(y).location;return new x(Object(r.Zb)(g),e&&e.origin||"")}var C=new r.s("appBaseHref"),x=function(){var t=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t,r){var i;if(Object(u.a)(this,n),(i=e.call(this))._platformLocation=t,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,i}return Object(c.a)(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return j(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+I(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+I(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+I(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(T);return t.\u0275fac=function(e){return new(e||t)(r.Zb(g),r.Zb(C,8))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t}(),A=function(){var t=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t,r){var i;return Object(u.a)(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",null!=r&&(i._baseHref=r),i}return Object(c.a)(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=j(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+I(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+I(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(T);return t.\u0275fac=function(e){return new(e||t)(r.Zb(g),r.Zb(C,8))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t}(),N=function(){var t=function(){function t(e,n){var i=this;Object(u.a)(this,t),this._subject=new r.o,this._urlChangeListeners=[],this._platformStrategy=e;var o=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=S(R(o)),this._platformStrategy.onPopState(function(t){i._subject.emit({url:i.path(!0),pop:!0,state:t.state,type:t.type})})}return Object(c.a)(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+I(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,R(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+I(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+I(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(t,e)})}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Zb(T),r.Zb(g))},t.normalizeQueryParams=I,t.joinWithSlash=j,t.stripTrailingSlash=S,t.\u0275prov=Object(r.Jb)({factory:D,token:t,providedIn:"root"}),t}();function D(){return new N(Object(r.Zb)(T),Object(r.Zb)(g))}function R(t){return t.replace(/\/index.html$/,"")}var P=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),L=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),M=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),F=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),V=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function U(t,e,n){var i=Object(r.kb)(t),o=Y([i[r.bb.DayPeriodsFormat],i[r.bb.DayPeriodsStandalone]],e);return Y(o,n)}function q(t,e,n){var i=Object(r.kb)(t),o=Y([i[r.bb.DaysFormat],i[r.bb.DaysStandalone]],e);return Y(o,n)}function B(t,e,n){var i=Object(r.kb)(t),o=Y([i[r.bb.MonthsFormat],i[r.bb.MonthsStandalone]],e);return Y(o,n)}function H(t,e){return Y(Object(r.kb)(t)[r.bb.DateFormat],e)}function W(t,e){return Y(Object(r.kb)(t)[r.bb.TimeFormat],e)}function z(t,e){return Y(Object(r.kb)(t)[r.bb.DateTimeFormat],e)}function K(t,e){var n=Object(r.kb)(t),i=n[r.bb.NumberSymbols][e];if(void 0===i){if(e===V.CurrencyDecimal)return n[r.bb.NumberSymbols][V.Decimal];if(e===V.CurrencyGroup)return n[r.bb.NumberSymbols][V.Group]}return i}var G=r.nb;function Q(t){if(!t[r.bb.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(t[r.bb.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function Y(t,e){for(var n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function J(t){var e=t.split(":"),n=Object(d.a)(e,2);return{hours:+n[0],minutes:+n[1]}}var Z=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,X={},$=/((?:[^GyYMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,tt=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),et=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),nt=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function rt(t,e,n,r){var i=function(t){if(mt(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();var e,n=parseFloat(t);if(!isNaN(t-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){var r=t.split("-").map(function(t){return+t}),i=Object(d.a)(r,3);return new Date(i[0],i[1]-1,i[2])}if(e=t.match(Z))return function(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));var a=Number(t[4]||0)-n,s=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,a,s,u,c),e}(e)}var o=new Date(t);if(!mt(o))throw new Error('Unable to convert "'.concat(t,'" into a date'));return o}(t);e=it(n,e)||e;for(var o,a=[];e;){if(!(o=$.exec(e))){a.push(e);break}var s=(a=a.concat(o.slice(1))).pop();if(!s)break;e=s}var u=i.getTimezoneOffset();r&&(u=gt(r,u),i=function(t,e,n){var r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(gt(e,r)-r))}(i,r));var c="";return a.forEach(function(t){var e=function(t){if(yt[t])return yt[t];var e;switch(t){case"G":case"GG":case"GGG":e=lt(nt.Eras,M.Abbreviated);break;case"GGGG":e=lt(nt.Eras,M.Wide);break;case"GGGGG":e=lt(nt.Eras,M.Narrow);break;case"y":e=ut(et.FullYear,1,0,!1,!0);break;case"yy":e=ut(et.FullYear,2,0,!0,!0);break;case"yyy":e=ut(et.FullYear,3,0,!1,!0);break;case"yyyy":e=ut(et.FullYear,4,0,!1,!0);break;case"Y":e=bt(1);break;case"YY":e=bt(2,!0);break;case"YYY":e=bt(3);break;case"YYYY":e=bt(4);break;case"M":case"L":e=ut(et.Month,1,1);break;case"MM":case"LL":e=ut(et.Month,2,1);break;case"MMM":e=lt(nt.Months,M.Abbreviated);break;case"MMMM":e=lt(nt.Months,M.Wide);break;case"MMMMM":e=lt(nt.Months,M.Narrow);break;case"LLL":e=lt(nt.Months,M.Abbreviated,L.Standalone);break;case"LLLL":e=lt(nt.Months,M.Wide,L.Standalone);break;case"LLLLL":e=lt(nt.Months,M.Narrow,L.Standalone);break;case"w":e=vt(1);break;case"ww":e=vt(2);break;case"W":e=vt(1,!0);break;case"d":e=ut(et.Date,1);break;case"dd":e=ut(et.Date,2);break;case"E":case"EE":case"EEE":e=lt(nt.Days,M.Abbreviated);break;case"EEEE":e=lt(nt.Days,M.Wide);break;case"EEEEE":e=lt(nt.Days,M.Narrow);break;case"EEEEEE":e=lt(nt.Days,M.Short);break;case"a":case"aa":case"aaa":e=lt(nt.DayPeriods,M.Abbreviated);break;case"aaaa":e=lt(nt.DayPeriods,M.Wide);break;case"aaaaa":e=lt(nt.DayPeriods,M.Narrow);break;case"b":case"bb":case"bbb":e=lt(nt.DayPeriods,M.Abbreviated,L.Standalone,!0);break;case"bbbb":e=lt(nt.DayPeriods,M.Wide,L.Standalone,!0);break;case"bbbbb":e=lt(nt.DayPeriods,M.Narrow,L.Standalone,!0);break;case"B":case"BB":case"BBB":e=lt(nt.DayPeriods,M.Abbreviated,L.Format,!0);break;case"BBBB":e=lt(nt.DayPeriods,M.Wide,L.Format,!0);break;case"BBBBB":e=lt(nt.DayPeriods,M.Narrow,L.Format,!0);break;case"h":e=ut(et.Hours,1,-12);break;case"hh":e=ut(et.Hours,2,-12);break;case"H":e=ut(et.Hours,1);break;case"HH":e=ut(et.Hours,2);break;case"m":e=ut(et.Minutes,1);break;case"mm":e=ut(et.Minutes,2);break;case"s":e=ut(et.Seconds,1);break;case"ss":e=ut(et.Seconds,2);break;case"S":e=ut(et.FractionalSeconds,1);break;case"SS":e=ut(et.FractionalSeconds,2);break;case"SSS":e=ut(et.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=ft(tt.Short);break;case"ZZZZZ":e=ft(tt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ft(tt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=ft(tt.Long);break;default:return null}return yt[t]=e,e}(t);c+=e?e(i,n,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function it(t,e){var n=function(t){return Object(r.kb)(t)[r.bb.LocaleId]}(t);if(X[n]=X[n]||{},X[n][e])return X[n][e];var i="";switch(e){case"shortDate":i=H(t,F.Short);break;case"mediumDate":i=H(t,F.Medium);break;case"longDate":i=H(t,F.Long);break;case"fullDate":i=H(t,F.Full);break;case"shortTime":i=W(t,F.Short);break;case"mediumTime":i=W(t,F.Medium);break;case"longTime":i=W(t,F.Long);break;case"fullTime":i=W(t,F.Full);break;case"short":var o=it(t,"shortTime"),a=it(t,"shortDate");i=ot(z(t,F.Short),[o,a]);break;case"medium":var s=it(t,"mediumTime"),u=it(t,"mediumDate");i=ot(z(t,F.Medium),[s,u]);break;case"long":var c=it(t,"longTime"),l=it(t,"longDate");i=ot(z(t,F.Long),[c,l]);break;case"full":var h=it(t,"fullTime"),f=it(t,"fullDate");i=ot(z(t,F.Full),[h,f])}return i&&(X[n][e]=i),i}function ot(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function at(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));for(var a=String(t);a.length<e;)a="0"+a;return r&&(a=a.substr(a.length-e)),o+a}function st(t,e){return at(t,3).substr(0,e)}function ut(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(o,a){var s=ct(t,o);if((n>0||s>-n)&&(s+=n),t===et.Hours)0===s&&-12===n&&(s=12);else if(t===et.FractionalSeconds)return st(s,e);var u=K(a,V.MinusSign);return at(s,e,u,r,i)}}function ct(t,e){switch(t){case et.FullYear:return e.getFullYear();case et.Month:return e.getMonth();case et.Date:return e.getDate();case et.Hours:return e.getHours();case et.Minutes:return e.getMinutes();case et.Seconds:return e.getSeconds();case et.FractionalSeconds:return e.getMilliseconds();case et.Day:return e.getDay();default:throw new Error('Unknown DateType value "'.concat(t,'".'))}}function lt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L.Format,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,o){return ht(i,o,t,e,n,r)}}function ht(t,e,n,i,o,a){switch(n){case nt.Months:return B(e,o,i)[t.getMonth()];case nt.Days:return q(e,o,i)[t.getDay()];case nt.DayPeriods:var s=t.getHours(),u=t.getMinutes();if(a){var c=function(t){var e=Object(r.kb)(t);return Q(e),(e[r.bb.ExtraData][2]||[]).map(function(t){return"string"==typeof t?J(t):[J(t[0]),J(t[1])]})}(e),l=function(t,e,n){var i=Object(r.kb)(t);Q(i);var o=Y([i[r.bb.ExtraData][0],i[r.bb.ExtraData][1]],e)||[];return Y(o,n)||[]}(e,o,i),h=c.findIndex(function(t){if(Array.isArray(t)){var e=Object(d.a)(t,2),n=e[0],r=e[1],i=s>=n.hours&&u>=n.minutes,o=s<r.hours||s===r.hours&&u<r.minutes;if(n.hours<r.hours){if(i&&o)return!0}else if(i||o)return!0}else if(t.hours===s&&t.minutes===u)return!0;return!1});if(-1!==h)return l[h]}return U(e,o,i)[s<12?0:1];case nt.Eras:return function(t,e){return Y(Object(r.kb)(t)[r.bb.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type ".concat(n))}}function ft(t){return function(e,n,r){var i=-1*r,o=K(n,V.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case tt.Short:return(i>=0?"+":"")+at(a,2,o)+at(Math.abs(i%60),2,o);case tt.ShortGMT:return"GMT"+(i>=0?"+":"")+at(a,1,o);case tt.Long:return"GMT"+(i>=0?"+":"")+at(a,2,o)+":"+at(Math.abs(i%60),2,o);case tt.Extended:return 0===r?"Z":(i>=0?"+":"")+at(a,2,o)+":"+at(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'.concat(t,'"'))}}}function dt(t){var e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}function pt(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function vt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var i;if(e){var o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,a=n.getDate();i=1+Math.floor((a+o)/7)}else{var s=pt(n),u=dt(s.getFullYear()),c=s.getTime()-u.getTime();i=1+Math.round(c/6048e5)}return at(i,t,K(r,V.MinusSign))}}function bt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){return at(pt(n).getFullYear(),t,K(r,V.MinusSign),e)}}var yt={};function gt(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function mt(t){return t instanceof Date&&!isNaN(t.valueOf())}var wt=function t(){Object(u.a)(this,t)},_t=function(){var t=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var r;return Object(u.a)(this,n),(r=e.call(this)).locale=t,r}return Object(c.a)(n,[{key:"getPluralCategory",value:function(t,e){switch(G(e||this.locale)(t)){case P.Zero:return"zero";case P.One:return"one";case P.Two:return"two";case P.Few:return"few";case P.Many:return"many";default:return"other"}}}]),n}(wt);return t.\u0275fac=function(e){return new(e||t)(r.Zb(r.w))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t}(),Ot=function(){function t(e,n,r,i){Object(u.a)(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return Object(c.a)(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),kt=function(){var t=function(){function t(e,n,r){Object(u.a)(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return Object(c.a)(t,[{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(t){this._trackByFn=t}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new Ot(null,e._ngForOf,-1,-1),null===i?void 0:i),a=new jt(t,o);n.push(a)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=e._viewContainer.get(r);e._viewContainer.move(s,i);var u=new jt(t,s);n.push(u)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.R),r.Nb(r.M),r.Nb(r.u))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t}(),jt=function t(e,n){Object(u.a)(this,t),this.record=e,this.view=n},St=function(){var t=function(){function t(e,n){Object(u.a)(this,t),this._viewContainer=e,this._context=new It,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return Object(c.a)(t,[{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){Tt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){Tt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.R),r.Nb(r.M))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t}(),It=function t(){Object(u.a)(this,t),this.$implicit=null,this.ngIf=null};function Tt(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(Object(r.vb)(e),"'."))}var Et=function(){var t=function(){function t(e){Object(u.a)(this,t),this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return Object(c.a)(t,[{key:"ngOnChanges",value:function(t){if(this._shouldRecreateView(t)){var e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}},{key:"_shouldRecreateView",value:function(t){var e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}},{key:"_hasContextShapeChanged",value:function(t){var e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){var r,i=Object(f.a)(n);try{for(i.s();!(r=i.n()).done;)if(-1===e.indexOf(r.value))return!0}catch(o){i.e(o)}finally{i.f()}return!1}return!0}},{key:"_updateExistingContext",value:function(t){for(var e=0,n=Object.keys(t);e<n.length;e++){var r=n[e];this._viewRef.context[r]=this.ngTemplateOutletContext[r]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.R))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r.yb]}),t}();function Ct(t,e){return Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat(Object(r.vb)(t),"'"))}var xt=function(){var t=function(){function t(e){Object(u.a)(this,t),this.locale=e}return Object(c.a)(t,[{key:"transform",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(null==e||""===e||e!=e)return null;try{return rt(e,n,i||this.locale,r)}catch(o){throw Ct(t,o.message)}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.w))},t.\u0275pipe=r.Mb({name:"date",type:t,pure:!0}),t}(),At=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[{provide:wt,useClass:_t}]}),t}();function Nt(t){return"server"===t}var Dt=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275prov=Object(r.Jb)({token:t,providedIn:"root",factory:function(){return new Rt(Object(r.Zb)(y),window,Object(r.Zb)(r.n))}}),t}(),Rt=function(){function t(e,n,r){Object(u.a)(this,t),this.document=e,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return Object(c.a)(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportsScrolling()){var e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var t=Pt(this.window.history)||Pt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}]),t}();function Pt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var Lt,Mt=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=Ft||(Ft=document.querySelector("base"))?Ft.getAttribute("href"):null;return null==n?null:(e=n,Lt||(Lt=document.createElement("a")),Lt.setAttribute("href",e),"/"===Lt.pathname.charAt(0)?Lt.pathname:"/"+Lt.pathname)}},{key:"resetBaseElement",value:function(){Ft=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return function(t,e){e=encodeURIComponent(e);var n,r=Object(f.a)(t.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),a=-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],s=Object(d.a)(a,2),u=s[1];if(s[0].trim()===e)return decodeURIComponent(u)}}catch(c){r.e(c)}finally{r.f()}return null}(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,p||(p=t)}}]),n}(function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){return Object(u.a)(this,n),e.call(this)}return Object(c.a)(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(b)),Ft=null,Vt=new r.s("TRANSITION_ID"),Ut=[{provide:r.d,useFactory:function(t,e,n){return function(){n.get(r.e).donePromise.then(function(){var n=v();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(function(e){return e.getAttribute("ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[Vt,y,r.t],multi:!0}],qt=function(){function t(){Object(u.a)(this,t)}return Object(c.a)(t,[{key:"addToWindow",value:function(t){r.pb.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.pb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},r.pb.getAllAngularRootElements=function(){return t.getAllRootElements()},r.pb.frameworkStabilizers||(r.pb.frameworkStabilizers=[]),r.pb.frameworkStabilizers.push(function(t){var e=r.pb.getAllAngularTestabilities(),n=e.length,i=!1,o=function(e){i=i||e,0==--n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?v().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){Object(r.Y)(new t)}}]),t}(),Bt=new r.s("EventManagerPlugins"),Ht=function(){var t=function(){function t(e,n){var r=this;Object(u.a)(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach(function(t){return t.manager=r}),this._plugins=e.slice().reverse()}return Object(c.a)(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Zb(Bt),r.Zb(r.B))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t}(),Wt=function(){function t(e){Object(u.a)(this,t),this._doc=e}return Object(c.a)(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=v().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),zt=function(){var t=function(){function t(){Object(u.a)(this,t),this._stylesSet=new Set}return Object(c.a)(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t}(),Kt=function(){var t=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var r;return Object(u.a)(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return Object(c.a)(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach(function(t){return v().remove(t)})}}]),n}(zt);return t.\u0275fac=function(e){return new(e||t)(r.Zb(y))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t}(),Gt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Qt=/%COMP%/g,Yt="%COMP%",Jt="_nghost-".concat(Yt),Zt="_ngcontent-".concat(Yt);function Xt(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?Xt(t,i,n):(i=i.replace(Qt,t),n.push(i))}return n}function $t(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var te=function(){var t=function(){function t(e,n,r){Object(u.a)(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ee(e)}return Object(c.a)(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.S.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new ne(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case 1:case r.S.ShadowDom:return new re(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=Xt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Zb(Ht),r.Zb(Kt),r.Zb(r.c))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t}(),ee=function(){function t(e){Object(u.a)(this,t),this.eventManager=e,this.data=Object.create(null)}return Object(c.a)(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(Gt[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=Gt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=Gt[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,i){i&(r.H.DashCase|r.H.Important)?t.style.setProperty(e,n,i&r.H.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&r.H.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,$t(n)):this.eventManager.addEventListener(t,e,$t(n))}}]),t}(),ne=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t,r,i,o){var a;Object(u.a)(this,n),(a=e.call(this,t)).component=i;var s=Xt(o+"-"+i.id,i.styles,[]);return r.addStyles(s),a.contentAttr=Zt.replace(Qt,o+"-"+i.id),a.hostAttr=Jt.replace(Qt,o+"-"+i.id),a}return Object(c.a)(n,[{key:"applyToHost",value:function(t){Object(a.a)(Object(s.a)(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=Object(a.a)(Object(s.a)(n.prototype),"createElement",this).call(this,t,e);return Object(a.a)(Object(s.a)(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(ee),re=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t,r,i,o){var a;Object(u.a)(this,n),(a=e.call(this,t)).sharedStylesHost=r,a.hostEl=i,a.shadowRoot=i.attachShadow({mode:"open"}),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=Xt(o.id,o.styles,[]),c=0;c<s.length;c++){var l=document.createElement("style");l.textContent=s[c],a.shadowRoot.appendChild(l)}return a}return Object(c.a)(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return Object(a.a)(Object(s.a)(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return Object(a.a)(Object(s.a)(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return Object(a.a)(Object(s.a)(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(Object(a.a)(Object(s.a)(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(ee),ie=function(){var t=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){return Object(u.a)(this,n),e.call(this,t)}return Object(c.a)(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(Wt);return t.\u0275fac=function(e){return new(e||t)(r.Zb(y))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t}(),oe=["alt","control","meta","shift"],ae={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},se={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ue={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},ce=function(){var t=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){return Object(u.a)(this,n),e.call(this,t)}return Object(c.a)(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return v().onAndCancel(t,i.domEventName,o)})}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(oe.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&se.hasOwnProperty(e)&&(e=se[e]))}return ae[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),oe.forEach(function(r){r!=n&&(0,ue[r])(t)&&(e+=r+".")}),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded(function(){return e(i)})}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(Wt);return t.\u0275fac=function(e){return new(e||t)(r.Zb(y))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t}(),le=[{provide:r.D,useValue:"browser"},{provide:r.E,useValue:function(){Mt.makeCurrent(),qt.init()},multi:!0},{provide:y,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],he=Object(r.T)(r.X,"browser",le),fe=[[],{provide:r.ab,useValue:"root"},{provide:r.n,useFactory:function(){return new r.n},deps:[]},{provide:Bt,useClass:ie,multi:!0,deps:[y,r.B,r.D]},{provide:Bt,useClass:ce,multi:!0,deps:[y]},[],{provide:te,useClass:te,deps:[Ht,Kt,r.c]},{provide:r.G,useExisting:te},{provide:zt,useExisting:Kt},{provide:Kt,useClass:Kt,deps:[y]},{provide:r.N,useClass:r.N,deps:[r.B]},{provide:Ht,useClass:Ht,deps:[Bt,r.B]},[]],de=function(){var t=function(){function t(e){if(Object(u.a)(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return Object(c.a)(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Vt,useExisting:r.c},Ut]}}}]),t}();return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)(r.Zb(t,12))},providers:fe,imports:[At,r.f]}),t}();"undefined"!=typeof window&&window;var pe=n("JX7q"),ve=n("KQm4"),be=(n("cp0P"),n("Cfvw")),ye=n("lJxs"),ge=new r.s("NgValueAccessor"),me=new r.s("NgValidators"),we=function(){var t=function(){function t(){Object(u.a)(this,t),this._accessors=[]}return Object(c.a)(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t}(),_e={provide:ge,useExisting:Object(r.V)(function(){return ke}),multi:!0};function Oe(t,e){return null==t?"".concat(e):(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}var ke=function(){var t=function(){function t(e,n){Object(u.a)(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Object.is}return Object(c.a)(t,[{key:"compareWith",set:function(t){this._compareWith=t}},{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=Oe(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.F),r.Nb(r.m))},t.\u0275dir=r.Ib({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.cc("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([_e])]}),t}(),je=function(){var t=function(){function t(e,n,r){Object(u.a)(this,t),this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}return Object(c.a)(t,[{key:"ngValue",set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Oe(this.id,t)),this._select.writeValue(this._select.value))}},{key:"value",set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}},{key:"_setElementValue",value:function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.m),r.Nb(r.F),r.Nb(ke,9))},t.\u0275dir=r.Ib({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t}(),Se={provide:ge,useExisting:Object(r.V)(function(){return Te}),multi:!0};function Ie(t,e){return null==t?"".concat(e):("string"==typeof e&&(e="'".concat(e,"'")),e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}var Te=function(){var t=function(){function t(e,n){Object(u.a)(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Object.is}return Object(c.a)(t,[{key:"compareWith",set:function(t){this._compareWith=t}},{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map(function(t){return n._getOptionId(t)});e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var r=[];if(void 0!==n.selectedOptions)for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var h=e._getOptionValue(l.value);r.push(h)}}e.value=r,t(r)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.F),r.Nb(r.m))},t.\u0275dir=r.Ib({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.cc("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([Se])]}),t}(),Ee=function(){var t=function(){function t(e,n,r){Object(u.a)(this,t),this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}return Object(c.a)(t,[{key:"ngValue",set:function(t){null!=this._select&&(this._value=t,this._setElementValue(Ie(this.id,t)),this._select.writeValue(this._select.value))}},{key:"value",set:function(t){this._select?(this._value=t,this._setElementValue(Ie(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}},{key:"_setElementValue",value:function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}},{key:"_setSelected",value:function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.m),r.Nb(r.F),r.Nb(Te,9))},t.\u0275dir=r.Ib({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t}(),Ce=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)}}),t}(),xe=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[we],imports:[Ce]}),t}();function Ae(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Ne(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function De(t,e){return function(n,r){e(n,r,t)}}var Re,Pe,Le,Me,Fe,Ve,Ue,qe,Be,He,We,ze,Ke,Ge,Qe,Ye,Je,Ze,Xe,$e,tn,en,nn,rn=n("XNiG"),on=n("2Vo4"),an=n("itXk"),sn=(n("PqYM"),n("5yfJ"),n("xgIS")),un=n("VRyK"),cn=n("Nv8m"),ln=n("HDdC"),hn=n("JX91"),fn=n("/uUt"),dn=n("eIep"),pn=n("1G5W"),vn=n("pLZG"),bn=n("IzEk"),yn=n("vkgz"),gn=n("zp1y"),mn=n("3E0/"),wn=n("w1tV"),_n=["*"],On=["defaultDayTemplate"],kn=["content"];function jn(t,e){if(1&t&&r.Ob(0,"div",7),2&t){var n=e.currentMonth,i=e.selected,o=e.disabled,a=e.focused;r.lc("date",e.date)("currentMonth",n)("selected",i)("disabled",o)("focused",a)}}function Sn(t,e){if(1&t&&(r.Sb(0,"div",12),r.Dc(1),r.Rb()),2&t){var n=r.gc().$implicit,i=r.gc(2);r.Ab(1),r.Gc(" ",i.i18n.getMonthFullName(n.number,n.year)," ",i.i18n.getYearNumerals(n.year)," ")}}function In(t,e){if(1&t&&(r.Sb(0,"div",9),r.Bc(1,Sn,2,2,"div",10),r.Ob(2,"ngb-datepicker-month",11),r.Rb()),2&t){var n=e.$implicit,i=r.gc(2);r.Ab(1),r.lc("ngIf","none"===i.navigation||i.displayMonths>1&&"select"===i.navigation),r.Ab(1),r.lc("month",n.firstDate)}}function Tn(t,e){if(1&t&&r.Bc(0,In,3,2,"div",8),2&t){var n=r.gc();r.lc("ngForOf",n.model.months)}}function En(t,e){if(1&t){var n=r.Tb();r.Sb(0,"ngb-datepicker-navigation",13),r.cc("navigate",function(t){return r.uc(n),r.gc().onNavigateEvent(t)})("select",function(t){return r.uc(n),r.gc().onNavigateDateSelect(t)}),r.Rb()}if(2&t){var i=r.gc();r.lc("date",i.model.firstDate)("months",i.model.months)("disabled",i.model.disabled)("showSelect","select"===i.model.navigation)("prevDisabled",i.model.prevDisabled)("nextDisabled",i.model.nextDisabled)("selectBoxes",i.model.selectBoxes)}}function Cn(t,e){}function xn(t,e){}function An(t,e){1&t&&r.Ob(0,"div",5)}function Nn(t,e){if(1&t&&(r.Sb(0,"div",6),r.Dc(1),r.Rb()),2&t){var n=e.$implicit,i=r.gc(2);r.Ab(1),r.Fc(" ",i.i18n.getWeekdayShortName(n)," ")}}function Dn(t,e){if(1&t&&(r.Sb(0,"div",2),r.Bc(1,An,1,0,"div",3),r.Bc(2,Nn,2,1,"div",4),r.Rb()),2&t){var n=r.gc();r.Ab(1),r.lc("ngIf",n.datepicker.showWeekNumbers),r.Ab(1),r.lc("ngForOf",n.viewModel.weekdays)}}function Rn(t,e){if(1&t&&(r.Sb(0,"div",11),r.Dc(1),r.Rb()),2&t){var n=r.gc(2).$implicit,i=r.gc();r.Ab(1),r.Ec(i.i18n.getWeekNumerals(n.number))}}function Pn(t,e){}function Ln(t,e){if(1&t&&r.Bc(0,Pn,0,0,"ng-template",14),2&t){var n=r.gc().$implicit,i=r.gc(3);r.lc("ngTemplateOutlet",i.datepicker.dayTemplate)("ngTemplateOutletContext",n.context)}}function Mn(t,e){if(1&t){var n=r.Tb();r.Sb(0,"div",12),r.cc("click",function(t){r.uc(n);var i=e.$implicit;return r.gc(3).doSelect(i),t.preventDefault()}),r.Bc(1,Ln,1,2,"ng-template",13),r.Rb()}if(2&t){var i=e.$implicit;r.Fb("disabled",i.context.disabled)("hidden",i.hidden)("ngb-dp-today",i.context.today),r.lc("tabindex",i.tabindex),r.Bb("aria-label",i.ariaLabel),r.Ab(1),r.lc("ngIf",!i.hidden)}}function Fn(t,e){if(1&t&&(r.Sb(0,"div",8),r.Bc(1,Rn,2,1,"div",9),r.Bc(2,Mn,2,9,"div",10),r.Rb()),2&t){var n=r.gc().$implicit,i=r.gc();r.Ab(1),r.lc("ngIf",i.datepicker.showWeekNumbers),r.Ab(1),r.lc("ngForOf",n.days)}}function Vn(t,e){1&t&&r.Bc(0,Fn,3,2,"div",7),2&t&&r.lc("ngIf",!e.$implicit.collapsed)}function Un(t,e){if(1&t){var n=r.Tb();r.Sb(0,"ngb-datepicker-navigation-select",7),r.cc("select",function(t){return r.uc(n),r.gc().select.emit(t)}),r.Rb()}if(2&t){var i=r.gc();r.lc("date",i.date)("disabled",i.disabled)("months",i.selectBoxes.months)("years",i.selectBoxes.years)}}function qn(t,e){1&t&&r.Ob(0,"div",0)}function Bn(t,e){1&t&&r.Ob(0,"div",0)}function Hn(t,e){if(1&t&&(r.Bc(0,qn,1,0,"div",9),r.Sb(1,"div",10),r.Dc(2),r.Rb(),r.Bc(3,Bn,1,0,"div",9)),2&t){var n=e.$implicit,i=e.index,o=r.gc(2);r.lc("ngIf",i>0),r.Ab(2),r.Gc(" ",o.i18n.getMonthFullName(n.number,n.year)," ",o.i18n.getYearNumerals(n.year)," "),r.Ab(1),r.lc("ngIf",i!==o.months.length-1)}}function Wn(t,e){if(1&t&&r.Bc(0,Hn,4,4,"ng-template",8),2&t){var n=r.gc();r.lc("ngForOf",n.months)}}var zn=["ngbDatepickerDayView",""],Kn=["month"],Gn=["year"];function Qn(t,e){if(1&t&&(r.Sb(0,"option",5),r.Dc(1),r.Rb()),2&t){var n=e.$implicit,i=r.gc();r.lc("value",n),r.Bb("aria-label",i.i18n.getMonthFullName(n,null==i.date?null:i.date.year)),r.Ab(1),r.Ec(i.i18n.getMonthShortName(n,null==i.date?null:i.date.year))}}function Yn(t,e){if(1&t&&(r.Sb(0,"option",5),r.Dc(1),r.Rb()),2&t){var n=e.$implicit,i=r.gc();r.lc("value",n),r.Ab(1),r.Ec(i.i18n.getYearNumerals(n))}}var Jn=["dialog"];function Zn(t,e){if(1&t&&(r.Sb(0,"span"),r.Wb(1,3),r.Rb()),2&t){var n=r.gc();r.Ab(1),r.Yb(n.getPercentValue()),r.Xb(1)}}function Xn(t,e){1&t&&r.Dc(0),2&t&&r.Ec(100===e.fill?"\u2605":"\u2606")}function $n(t,e){}function tr(t,e){if(1&t){var n=r.Tb();r.Sb(0,"span",2),r.Dc(1),r.Rb(),r.Sb(2,"span",3),r.cc("mouseenter",function(){r.uc(n);var t=e.index;return r.gc().enter(t+1)})("click",function(){r.uc(n);var t=e.index;return r.gc().handleClick(t+1)}),r.Bc(3,$n,0,0,"ng-template",4),r.Rb()}if(2&t){var i=e.index,o=r.gc(),a=r.tc(1);r.Ab(1),r.Fc("(",i<o.nextRate?"*":" ",")"),r.Ab(1),r.Ac("cursor",o.readonly||o.disabled?"default":"pointer"),r.Ab(1),r.lc("ngTemplateOutlet",o.starTemplate||o.starTemplateFromContent||a)("ngTemplateOutletContext",o.contexts[i])}}function er(t,e){if(1&t){var n=r.Tb();r.Sb(0,"button",11),r.cc("click",function(){r.uc(n);var t=r.gc();return t.changeHour(t.hourStep)}),r.Ob(1,"span",12),r.Sb(2,"span",13),r.Wb(3,14),r.Rb(),r.Rb()}if(2&t){var i=r.gc();r.Fb("btn-sm",i.isSmallSize)("btn-lg",i.isLargeSize)("disabled",i.disabled),r.lc("disabled",i.disabled)}}function nr(t,e){if(1&t){var n=r.Tb();r.Sb(0,"button",11),r.cc("click",function(){r.uc(n);var t=r.gc();return t.changeHour(-t.hourStep)}),r.Ob(1,"span",15),r.Sb(2,"span",13),r.Wb(3,16),r.Rb(),r.Rb()}if(2&t){var i=r.gc();r.Fb("btn-sm",i.isSmallSize)("btn-lg",i.isLargeSize)("disabled",i.disabled),r.lc("disabled",i.disabled)}}function rr(t,e){if(1&t){var n=r.Tb();r.Sb(0,"button",11),r.cc("click",function(){r.uc(n);var t=r.gc();return t.changeMinute(t.minuteStep)}),r.Ob(1,"span",12),r.Sb(2,"span",13),r.Wb(3,17),r.Rb(),r.Rb()}if(2&t){var i=r.gc();r.Fb("btn-sm",i.isSmallSize)("btn-lg",i.isLargeSize)("disabled",i.disabled),r.lc("disabled",i.disabled)}}function ir(t,e){if(1&t){var n=r.Tb();r.Sb(0,"button",11),r.cc("click",function(){r.uc(n);var t=r.gc();return t.changeMinute(-t.minuteStep)}),r.Ob(1,"span",15),r.Sb(2,"span",13),r.Wb(3,18),r.Rb(),r.Rb()}if(2&t){var i=r.gc();r.Fb("btn-sm",i.isSmallSize)("btn-lg",i.isLargeSize)("disabled",i.disabled),r.lc("disabled",i.disabled)}}function or(t,e){1&t&&(r.Sb(0,"div",5),r.Dc(1,":"),r.Rb())}function ar(t,e){if(1&t){var n=r.Tb();r.Sb(0,"button",11),r.cc("click",function(){r.uc(n);var t=r.gc(2);return t.changeSecond(t.secondStep)}),r.Ob(1,"span",12),r.Sb(2,"span",13),r.Wb(3,21),r.Rb(),r.Rb()}if(2&t){var i=r.gc(2);r.Fb("btn-sm",i.isSmallSize)("btn-lg",i.isLargeSize)("disabled",i.disabled),r.lc("disabled",i.disabled)}}function sr(t,e){if(1&t){var n=r.Tb();r.Sb(0,"button",11),r.cc("click",function(){r.uc(n);var t=r.gc(2);return t.changeSecond(-t.secondStep)}),r.Ob(1,"span",15),r.Sb(2,"span",13),r.Wb(3,22),r.Rb(),r.Rb()}if(2&t){var i=r.gc(2);r.Fb("btn-sm",i.isSmallSize)("btn-lg",i.isLargeSize)("disabled",i.disabled),r.lc("disabled",i.disabled)}}function ur(t,e){if(1&t){var n=r.Tb();r.Sb(0,"div",19),r.Bc(1,ar,4,7,"button",3),r.Sb(2,"input",20),r.cc("change",function(t){return r.uc(n),r.gc().updateSecond(t.target.value)})("input",function(t){return r.uc(n),r.gc().formatInput(t.target)})("keydown.ArrowUp",function(t){r.uc(n);var e=r.gc();return e.changeSecond(e.secondStep),t.preventDefault()})("keydown.ArrowDown",function(t){r.uc(n);var e=r.gc();return e.changeSecond(-e.secondStep),t.preventDefault()}),r.Rb(),r.Bc(3,sr,4,7,"button",3),r.Rb()}if(2&t){var i=r.gc();r.Ab(1),r.lc("ngIf",i.spinners),r.Ab(1),r.Fb("form-control-sm",i.isSmallSize)("form-control-lg",i.isLargeSize),r.lc("value",i.formatMinSec(null==i.model?null:i.model.second))("readOnly",i.readonlyInputs)("disabled",i.disabled),r.Ab(1),r.lc("ngIf",i.spinners)}}function cr(t,e){1&t&&r.Ob(0,"div",5)}function lr(t,e){if(1&t&&(r.Qb(0),r.Wb(1,27),r.Pb()),2&t){var n=r.gc(2);r.Ab(1),r.Yb(n.i18n.getAfternoonPeriod()),r.Xb(1)}}function hr(t,e){if(1&t&&r.Wb(0,28),2&t){var n=r.gc(2);r.Yb(n.i18n.getMorningPeriod()),r.Xb(0)}}function fr(t,e){if(1&t){var n=r.Tb();r.Sb(0,"div",23),r.Sb(1,"button",24),r.cc("click",function(){return r.uc(n),r.gc().toggleMeridian()}),r.Bc(2,lr,2,1,"ng-container",25),r.Bc(3,hr,1,1,"ng-template",null,26,r.Cc),r.Rb(),r.Rb()}if(2&t){var i=r.tc(4),o=r.gc();r.Ab(1),r.Fb("btn-sm",o.isSmallSize)("btn-lg",o.isLargeSize)("disabled",o.disabled),r.lc("disabled",o.disabled),r.Ab(1),r.lc("ngIf",(null==o.model?null:o.model.hour)>=12)("ngIfElse",i)}}function dr(t,e){if(1&t&&(r.Sb(0,"span"),r.Dc(1),r.Rb()),2&t){var n=r.gc().$implicit,i=r.gc();r.Cb(i.highlightClass),r.Ab(1),r.Ec(n)}}function pr(t,e){if(1&t&&r.Dc(0),2&t){var n=r.gc().$implicit;r.Ec(n)}}function vr(t,e){if(1&t&&(r.Bc(0,dr,2,3,"span",1),r.Bc(1,pr,1,1,"ng-template",null,2,r.Cc)),2&t){var n=e.odd,i=r.tc(2);r.lc("ngIf",n)("ngIfElse",i)}}function br(t,e){if(1&t&&r.Ob(0,"ngb-highlight",2),2&t){var n=e.term;r.lc("result",(0,e.formatter)(e.result))("term",n)}}function yr(t,e){}var gr=function(t,e,n){return{result:t,term:e,formatter:n}};function mr(t,e){if(1&t){var n=r.Tb();r.Sb(0,"button",3),r.cc("mouseenter",function(){r.uc(n);var t=e.index;return r.gc().markActive(t)})("click",function(){r.uc(n);var t=e.$implicit;return r.gc().select(t)}),r.Bc(1,yr,0,0,"ng-template",4),r.Rb()}if(2&t){var i=e.$implicit,o=e.index,a=r.gc(),s=r.tc(1);r.Fb("active",o===a.activeIdx),r.lc("id",a.id+"-"+o),r.Ab(1),r.lc("ngTemplateOutlet",a.resultTemplate||s)("ngTemplateOutletContext",r.rc(5,gr,i,a.term,a.formatter))}}function wr(t){return parseInt("".concat(t),10)}function _r(t){return null!=t?"".concat(t):""}function Or(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.max(Math.min(t,e),n)}function kr(t){return"string"==typeof t}function jr(t){return!isNaN(wr(t))}function Sr(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}function Ir(t){return null!=t}function Tr(t){return jr(t)?"0".concat(t).slice(-2):""}function Er(t,e){return t&&t.className&&t.className.split&&t.className.split(/\s+/).indexOf(e)>=0}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var Cr=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[At]]}),t}(),xr=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[At]]}),t}(),Ar=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["","ngbButtonLabel",""]],hostVars:8,hostBindings:function(t,e){2&t&&r.Fb("btn",!0)("active",e.active)("disabled",e.disabled)("focus",e.focused)}}),t}(),Nr={provide:ge,useExisting:Object(r.V)(function(){return Dr}),multi:!0},Dr=function(){var t=function(){function t(e,n){Object(u.a)(this,t),this._label=e,this._cd=n,this.disabled=!1,this.valueChecked=!0,this.valueUnChecked=!1,this.onChange=function(t){},this.onTouched=function(){}}return Object(c.a)(t,[{key:"focused",set:function(t){this._label.focused=t,t||this.onTouched()}},{key:"onInputChange",value:function(t){var e=t.target.checked?this.valueChecked:this.valueUnChecked;this.onChange(e),this.onTouched(),this.writeValue(e)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t,this._label.disabled=t}},{key:"writeValue",value:function(t){this.checked=t===this.valueChecked,this._label.active=this.checked,this._cd.markForCheck()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(Ar),r.Nb(r.i))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngbButton","","type","checkbox"]],hostVars:2,hostBindings:function(t,e){1&t&&r.cc("change",function(t){return e.onInputChange(t)})("focus",function(){return e.focused=!0})("blur",function(){return e.focused=!1}),2&t&&r.Vb("checked",e.checked)("disabled",e.disabled)},inputs:{disabled:"disabled",valueChecked:"valueChecked",valueUnChecked:"valueUnChecked"},features:[r.zb([Nr])]}),t}(),Rr={provide:ge,useExisting:Object(r.V)(function(){return Lr}),multi:!0},Pr=0,Lr=function(){var t=function(){function t(){Object(u.a)(this,t),this._radios=new Set,this._value=null,this.name="ngb-radio-".concat(Pr++),this.onChange=function(t){},this.onTouched=function(){}}return Object(c.a)(t,[{key:"disabled",get:function(){return this._disabled},set:function(t){this.setDisabledState(t)}},{key:"onRadioChange",value:function(t){this.writeValue(t.value),this.onChange(t.value)}},{key:"onRadioValueUpdate",value:function(){this._updateRadiosValue()}},{key:"register",value:function(t){this._radios.add(t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._disabled=t,this._updateRadiosDisabled()}},{key:"unregister",value:function(t){this._radios.delete(t)}},{key:"writeValue",value:function(t){this._value=t,this._updateRadiosValue()}},{key:"_updateRadiosValue",value:function(){var t=this;this._radios.forEach(function(e){return e.updateValue(t._value)})}},{key:"_updateRadiosDisabled",value:function(){this._radios.forEach(function(t){return t.updateDisabled()})}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["","ngbRadioGroup",""]],hostAttrs:["role","radiogroup"],inputs:{name:"name"},features:[r.zb([Rr])]}),t}(),Mr=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)}}),t}(),Fr=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[At]]}),t}(),Vr=function(){var t=function t(){Object(u.a)(this,t),this.collapsed=!1};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["","ngbCollapse",""]],hostVars:4,hostBindings:function(t,e){2&t&&r.Fb("collapse",!0)("show",!e.collapsed)},inputs:{collapsed:["ngbCollapse","collapsed"]},exportAs:["ngbCollapse"]}),t}(),Ur=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)}}),t}(),qr=function(){function t(e,n,r){Object(u.a)(this,t),this.year=Sr(e)?e:null,this.month=Sr(n)?n:null,this.day=Sr(r)?r:null}return Object(c.a)(t,[{key:"equals",value:function(t){return t&&this.year===t.year&&this.month===t.month&&this.day===t.day}},{key:"before",value:function(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day<t.day:this.month<t.month:this.year<t.year)}},{key:"after",value:function(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day>t.day:this.month>t.month:this.year>t.year)}}],[{key:"from",value:function(e){return e instanceof t?e:e?new t(e.year,e.month,e.day):null}}]),t}();function Br(t){return new qr(t.getFullYear(),t.getMonth()+1,t.getDate())}function Hr(t){var e=new Date(t.year,t.month-1,t.day,12);return isNaN(e.getTime())||e.setFullYear(t.year),e}function Wr(){return new Kr}var zr=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:Wr,token:t,providedIn:"root"}),t}(),Kr=function(){var t=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"getDaysPerWeek",value:function(){return 7}},{key:"getMonths",value:function(){return[1,2,3,4,5,6,7,8,9,10,11,12]}},{key:"getWeeksPerMonth",value:function(){return 6}},{key:"getNext",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"d",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=Hr(t),i=!0,o=r.getMonth();switch(e){case"y":r.setFullYear(r.getFullYear()+n);break;case"m":r.setMonth(o+=n),(o%=12)<0&&(o+=12);break;case"d":r.setDate(r.getDate()+n),i=!1;break;default:return t}return i&&r.getMonth()!==o&&r.setDate(0),Br(r)}},{key:"getPrev",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"d",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this.getNext(t,e,-n)}},{key:"getWeekday",value:function(t){var e=Hr(t).getDay();return 0===e?7:e}},{key:"getWeekNumber",value:function(t,e){7===e&&(e=0);var n=Hr(t[(11-e)%7]);n.setDate(n.getDate()+4-(n.getDay()||7));var r=n.getTime();return n.setMonth(0),n.setDate(1),Math.floor(Math.round((r-n.getTime())/864e5)/7)+1}},{key:"getToday",value:function(){return Br(new Date)}},{key:"isValid",value:function(t){if(!(t&&Sr(t.year)&&Sr(t.month)&&Sr(t.day)))return!1;if(0===t.year)return!1;var e=Hr(t);return!isNaN(e.getTime())&&e.getFullYear()===t.year&&e.getMonth()+1===t.month&&e.getDate()===t.day}}]),n}(zr);return t.\u0275fac=function(e){return qo(e||t)},t.\u0275prov=r.Jb({token:t,factory:function(e){return t.\u0275fac(e)}}),t}();function Gr(t,e){return!function(t,e){return!t&&!e||!!t&&!!e&&t.equals(e)}(t,e)}function Qr(t,e){return!(!t&&!e||t&&e&&t.year===e.year&&t.month===e.month)}function Yr(t,e,n){return t&&e&&t.before(e)?e:t&&n&&t.after(n)?n:t}function Jr(t,e){var n=e.minDate,r=e.maxDate,i=e.disabled,o=e.markDisabled;return!(!Ir(t)||i||o&&o(t,{year:t.year,month:t.month})||n&&t.before(n)||r&&t.after(r))}function Zr(t,e,n){var r=t.getDaysPerWeek(),i=new qr(e.year,e.month,1),o=t.getWeekday(i)%r;return t.getPrev(i,"d",(r+o-n)%r)}var Xr=function(){var t=function(){function t(){Object(u.a)(this,t)}return Object(c.a)(t,[{key:"getDayNumerals",value:function(t){return"".concat(t.day)}},{key:"getWeekNumerals",value:function(t){return"".concat(t)}},{key:"getYearNumerals",value:function(t){return"".concat(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:function(){return t=Object(r.Zb)(r.w),new $r(t);var t},token:t,providedIn:"root"}),t}(),$r=function(){var t=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var r;Object(u.a)(this,n),(r=e.call(this))._locale=t;var i=q(t,L.Standalone,M.Short);return r._weekdaysShort=i.map(function(t,e){return i[(e+1)%7]}),r._monthsShort=B(t,L.Standalone,M.Abbreviated),r._monthsFull=B(t,L.Standalone,M.Wide),r}return Object(c.a)(n,[{key:"getWeekdayShortName",value:function(t){return this._weekdaysShort[t-1]}},{key:"getMonthShortName",value:function(t){return this._monthsShort[t-1]}},{key:"getMonthFullName",value:function(t){return this._monthsFull[t-1]}},{key:"getDayAriaLabel",value:function(t){return rt(new Date(t.year,t.month-1,t.day),"fullDate",this._locale)}}]),n}(Xr);return t.\u0275fac=function(e){return new(e||t)(r.Zb(r.w))},t.\u0275prov=r.Jb({token:t,factory:function(e){return t.\u0275fac(e)}}),t=Ne([De(0,Object(r.r)(r.w))],t)}(),ti=function(){var t=function(){function t(e,n){var r=this;Object(u.a)(this,t),this._calendar=e,this._i18n=n,this._VALIDATORS={dayTemplateData:function(t){if(r._state.dayTemplateData!==t)return{dayTemplateData:t}},displayMonths:function(t){if(Sr(t=wr(t))&&t>0&&r._state.displayMonths!==t)return{displayMonths:t}},disabled:function(t){if(r._state.disabled!==t)return{disabled:t}},firstDayOfWeek:function(t){if(Sr(t=wr(t))&&t>=0&&r._state.firstDayOfWeek!==t)return{firstDayOfWeek:t}},focusVisible:function(t){if(r._state.focusVisible!==t&&!r._state.disabled)return{focusVisible:t}},markDisabled:function(t){if(r._state.markDisabled!==t)return{markDisabled:t}},maxDate:function(t){var e=r.toValidDate(t,null);if(Gr(r._state.maxDate,e))return{maxDate:e}},minDate:function(t){var e=r.toValidDate(t,null);if(Gr(r._state.minDate,e))return{minDate:e}},navigation:function(t){if(r._state.navigation!==t)return{navigation:t}},outsideDays:function(t){if(r._state.outsideDays!==t)return{outsideDays:t}}},this._model$=new rn.a,this._dateSelect$=new rn.a,this._state={disabled:!1,displayMonths:1,firstDayOfWeek:1,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectBoxes:{years:[],months:[]},selectedDate:null}}return Object(c.a)(t,[{key:"model$",get:function(){return this._model$.pipe(Object(vn.a)(function(t){return t.months.length>0}))}},{key:"dateSelect$",get:function(){return this._dateSelect$.pipe(Object(vn.a)(function(t){return null!==t}))}},{key:"set",value:function(t){var e=this,n=Object.keys(t).map(function(n){return e._VALIDATORS[n](t[n])}).reduce(function(t,e){return Object.assign(Object.assign({},t),e)},{});Object.keys(n).length>0&&this._nextState(n)}},{key:"focus",value:function(t){!this._state.disabled&&this._calendar.isValid(t)&&Gr(this._state.focusDate,t)&&this._nextState({focusDate:t})}},{key:"focusSelect",value:function(){Jr(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}},{key:"open",value:function(t){var e=this.toValidDate(t,this._calendar.getToday());this._state.disabled||this._state.firstDate&&!Qr(this._state.firstDate,t)||this._nextState({firstDate:e})}},{key:"select",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.toValidDate(t,null);this._state.disabled||(Gr(this._state.selectedDate,n)&&this._nextState({selectedDate:n}),e.emitEvent&&Jr(n,this._state)&&this._dateSelect$.next(n))}},{key:"toValidDate",value:function(t,e){var n=qr.from(t);return void 0===e&&(e=this._calendar.getToday()),this._calendar.isValid(n)?n:e}},{key:"getMonth",value:function(t){var e,n=Object(f.a)(this._state.months);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(t.month===r.number&&t.year===r.year)return r}}catch(i){n.e(i)}finally{n.f()}throw new Error("month ".concat(t.month," of year ").concat(t.year," not found"))}},{key:"_nextState",value:function(t){var e=this._updateState(t);this._patchContexts(e),this._state=e,this._model$.next(this._state)}},{key:"_patchContexts",value:function(t){var e=t.months,n=t.displayMonths,r=t.selectedDate,i=t.focusDate,o=t.focusVisible,a=t.disabled,s=t.outsideDays;t.months.forEach(function(t){t.weeks.forEach(function(u){u.days.forEach(function(u){i&&(u.context.focused=i.equals(u.date)&&o),u.tabindex=!a&&u.date.equals(i)&&i.month===t.number?0:-1,!0===a&&(u.context.disabled=!0),void 0!==r&&(u.context.selected=null!==r&&r.equals(u.date)),t.number!==u.date.month&&(u.hidden="hidden"===s||"collapsed"===s||n>1&&u.date.after(e[0].firstDate)&&u.date.before(e[n-1].lastDate))})})})}},{key:"_updateState",value:function(t){var e,n,r,i,o=Object.assign({},this._state,t),a=o.firstDate;if(("minDate"in t||"maxDate"in t)&&(function(t,e){if(e&&t&&e.before(t))throw new Error("'maxDate' ".concat(e," should be greater than 'minDate' ").concat(t))}(o.minDate,o.maxDate),o.focusDate=Yr(o.focusDate,o.minDate,o.maxDate),o.firstDate=Yr(o.firstDate,o.minDate,o.maxDate),a=o.focusDate),"disabled"in t&&(o.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(a=o.selectedDate),"focusVisible"in t)return o;if("focusDate"in t&&(o.focusDate=Yr(o.focusDate,o.minDate,o.maxDate),a=o.focusDate,0!==o.months.length&&!o.focusDate.before(o.firstDate)&&!o.focusDate.after(o.lastDate)))return o;if("firstDate"in t&&(o.firstDate=Yr(o.firstDate,o.minDate,o.maxDate),a=o.firstDate),a){var s=function(t,e,n,r,i){var o=n.displayMonths,a=n.months,s=a.splice(0,a.length);return Array.from({length:o},function(n,r){var o=Object.assign(t.getNext(e,"m",r),{day:1});if(a[r]=null,!i){var u=s.findIndex(function(t){return t.firstDate.equals(o)});-1!==u&&(a[r]=s.splice(u,1)[0])}return o}).forEach(function(e,i){null===a[i]&&(a[i]=function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=n.dayTemplateData,a=n.minDate,s=n.maxDate,u=n.firstDayOfWeek,c=n.markDisabled,l=n.outsideDays,h=t.getToday();i.firstDate=null,i.lastDate=null,i.number=e.month,i.year=e.year,i.weeks=i.weeks||[],i.weekdays=i.weekdays||[],e=Zr(t,e,u);for(var f=0;f<t.getWeeksPerMonth();f++){var d=i.weeks[f];d||(d=i.weeks[f]={number:0,days:[],collapsed:!0});for(var p=d.days,v=0;v<t.getDaysPerWeek();v++){0===f&&(i.weekdays[v]=t.getWeekday(e));var b=new qr(e.year,e.month,e.day),y=t.getNext(b),g=r.getDayAriaLabel(b),m=!!(a&&b.before(a)||s&&b.after(s));!m&&c&&(m=c(b,{month:i.number,year:i.year}));var w=b.equals(h),_=o?o(b,{month:i.number,year:i.year}):void 0;null===i.firstDate&&b.month===i.number&&(i.firstDate=b),b.month===i.number&&y.month!==i.number&&(i.lastDate=b);var O=p[v];O||(O=p[v]={}),O.date=b,O.context=Object.assign(O.context||{},{$implicit:b,date:b,data:_,currentMonth:i.number,currentYear:i.year,disabled:m,focused:!1,selected:!1,today:w}),O.tabindex=-1,O.ariaLabel=g,O.hidden=!1,e=y}d.number=t.getWeekNumber(p.map(function(t){return t.date}),u),d.collapsed="collapsed"===l&&p[0].date.month!==i.number&&p[p.length-1].date.month!==i.number}return i}(t,e,n,r,s.shift()||{}))}),a}(this._calendar,a,o,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t);o.months=s,o.firstDate=s.length>0?s[0].firstDate:void 0,o.lastDate=s.length>0?s[s.length-1].lastDate:void 0,"selectedDate"in t&&!Jr(o.selectedDate,o)&&(o.selectedDate=null),"firstDate"in t&&(void 0===o.focusDate||o.focusDate.before(o.firstDate)||o.focusDate.after(o.lastDate))&&(o.focusDate=a);var u=!this._state.firstDate||this._state.firstDate.year!==o.firstDate.year,c=!this._state.firstDate||this._state.firstDate.month!==o.firstDate.month;"select"===o.navigation?(("minDate"in t||"maxDate"in t||0===o.selectBoxes.years.length||u)&&(o.selectBoxes.years=function(t,e,n){if(!t)return[];for(var r=e?Math.max(e.year,t.year-500):t.year-10,i=(n?Math.min(n.year,t.year+500):t.year+10)-r+1,o=Array(i),a=0;a<i;a++)o[a]=r+a;return o}(o.firstDate,o.minDate,o.maxDate)),("minDate"in t||"maxDate"in t||0===o.selectBoxes.months.length||u)&&(o.selectBoxes.months=function(t,e,n,r){if(!e)return[];var i=t.getMonths(e.year);if(n&&e.year===n.year){var o=i.findIndex(function(t){return t===n.month});i=i.slice(o)}if(r&&e.year===r.year){var a=i.findIndex(function(t){return t===r.month});i=i.slice(0,a+1)}return i}(this._calendar,o.firstDate,o.minDate,o.maxDate))):o.selectBoxes={years:[],months:[]},"arrows"!==o.navigation&&"select"!==o.navigation||!(c||u||"minDate"in t||"maxDate"in t||"disabled"in t)||(o.prevDisabled=o.disabled||(e=o.minDate,n=Object.assign(this._calendar.getPrev(o.firstDate,"m"),{day:1}),e&&(n.year===e.year&&n.month<e.month||n.year<e.year&&1===e.month)),o.nextDisabled=o.disabled||(r=o.maxDate,i=Object.assign(this._calendar.getNext(o.lastDate,"m"),{day:1}),r&&i.after(r)))}return o}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Zb(zr),r.Zb(Xr))},t.\u0275prov=r.Jb({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),ei=function(t){return t[t.PREV=0]="PREV",t[t.NEXT=1]="NEXT",t}({}),ni=function(){var t=function t(){Object(u.a)(this,t),this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekdays=!0,this.showWeekNumbers=!1};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t}();function ri(){return new oi}var ii=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:ri,token:t,providedIn:"root"}),t}(),oi=function(){var t=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"fromModel",value:function(t){return t&&Sr(t.year)&&Sr(t.month)&&Sr(t.day)?{year:t.year,month:t.month,day:t.day}:null}},{key:"toModel",value:function(t){return t&&Sr(t.year)&&Sr(t.month)&&Sr(t.day)?{year:t.year,month:t.month,day:t.day}:null}}]),n}(ii);return t.\u0275fac=function(e){return Bo(e||t)},t.\u0275prov=r.Jb({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),ai={provide:ge,useExisting:Object(r.V)(function(){return ui}),multi:!0},si=function(){var t=function t(e){Object(u.a)(this,t),this.templateRef=e};return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.M))},t.\u0275dir=r.Ib({type:t,selectors:[["ng-template","ngbDatepickerContent",""]]}),t}(),ui=function(){var t=function(){function t(e,n,i,o,a,s,c,l){var h=this;Object(u.a)(this,t),this._service=e,this._calendar=n,this.i18n=i,this._elementRef=s,this._ngbDateAdapter=c,this._ngZone=l,this._destroyed$=new rn.a,this._publicState={},this.navigate=new r.o,this.dateSelect=new r.o,this.select=this.dateSelect,this.onChange=function(t){},this.onTouched=function(){},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekdays","showWeekNumbers","startDate"].forEach(function(t){return h[t]=o[t]}),e.dateSelect$.pipe(Object(pn.a)(this._destroyed$)).subscribe(function(t){h.dateSelect.emit(t)}),e.model$.pipe(Object(pn.a)(this._destroyed$)).subscribe(function(t){var e=t.firstDate,n=h.model?h.model.firstDate:null;h._publicState={maxDate:t.maxDate,minDate:t.minDate,firstDate:t.firstDate,lastDate:t.lastDate,focusedDate:t.focusDate,months:t.months.map(function(t){return t.firstDate})};var r=!1;if(e.equals(n)||(h.navigate.emit({current:n?{year:n.year,month:n.month}:null,next:{year:e.year,month:e.month},preventDefault:function(){return r=!0}}),!r||null===n)){var i=t.selectedDate,o=t.focusDate,s=h.model?h.model.focusDate:null;h.model=t,Gr(i,h._controlValue)&&(h._controlValue=i,h.onTouched(),h.onChange(h._ngbDateAdapter.toModel(i))),Gr(o,s)&&s&&t.focusVisible&&h.focus(),a.markForCheck()}else h._service.open(n)})}return Object(c.a)(t,[{key:"state",get:function(){return this._publicState}},{key:"calendar",get:function(){return this._calendar}},{key:"focusDate",value:function(t){this._service.focus(qr.from(t))}},{key:"focusSelect",value:function(){this._service.focusSelect()}},{key:"focus",value:function(){var t=this;this._ngZone.onStable.asObservable().pipe(Object(bn.a)(1)).subscribe(function(){var e=t._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');e&&e.focus()})}},{key:"navigateTo",value:function(t){this._service.open(qr.from(t?t.day?t:Object.assign(Object.assign({},t),{day:1}):null))}},{key:"ngAfterViewInit",value:function(){var t=this;this._ngZone.runOutsideAngular(function(){var e=Object(sn.a)(t._contentEl.nativeElement,"focusin"),n=Object(sn.a)(t._contentEl.nativeElement,"focusout"),r=t._elementRef.nativeElement;Object(un.a)(e,n).pipe(Object(vn.a)(function(t){var e=t.target,n=t.relatedTarget;return!(Er(e,"ngb-dp-day")&&Er(n,"ngb-dp-day")&&r.contains(e)&&r.contains(n))}),Object(pn.a)(t._destroyed$)).subscribe(function(e){var n=e.type;return t._ngZone.run(function(){return t._service.set({focusVisible:"focusin"===n})})})})}},{key:"ngOnDestroy",value:function(){this._destroyed$.next()}},{key:"ngOnInit",value:function(){var t=this;if(void 0===this.model){var e={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].forEach(function(n){return e[n]=t[n]}),this._service.set(e),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}},{key:"ngOnChanges",value:function(t){var e=this,n={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].filter(function(e){return e in t}).forEach(function(t){return n[t]=e[t]}),this._service.set(n),"startDate"in t){var r=t.startDate;Qr(r.previousValue,r.currentValue)&&this.navigateTo(this.startDate)}}},{key:"onDateSelect",value:function(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}},{key:"onNavigateDateSelect",value:function(t){this._service.open(t)}},{key:"onNavigateEvent",value:function(t){switch(t){case ei.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case ei.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._service.set({disabled:t})}},{key:"writeValue",value:function(t){this._controlValue=qr.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(ti),r.Nb(zr),r.Nb(Xr),r.Nb(ni),r.Nb(r.i),r.Nb(r.m),r.Nb(ii),r.Nb(r.B))},t.\u0275cmp=r.Hb({type:t,selectors:[["ngb-datepicker"]],contentQueries:function(t,e,n){var i;1&t&&r.yc(n,si,!0),2&t&&r.sc(i=r.dc())&&(e.contentTemplate=i.first)},viewQuery:function(t,e){var n;1&t&&(r.zc(On,!0),r.zc(kn,!0)),2&t&&(r.sc(n=r.dc())&&(e._defaultDayTemplate=n.first),r.sc(n=r.dc())&&(e._contentEl=n.first))},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate"},outputs:{navigate:"navigate",dateSelect:"dateSelect",select:"select"},exportAs:["ngbDatepicker"],features:[r.zb([ai,ti]),r.yb],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(t,e){if(1&t&&(r.Bc(0,jn,1,5,"ng-template",null,0,r.Cc),r.Bc(2,Tn,1,1,"ng-template",null,1,r.Cc),r.Sb(4,"div",2),r.Bc(5,En,1,7,"ngb-datepicker-navigation",3),r.Rb(),r.Sb(6,"div",4,5),r.Bc(8,Cn,0,0,"ng-template",6),r.Rb(),r.Bc(9,xn,0,0,"ng-template",6)),2&t){var n=r.tc(3);r.Ab(5),r.lc("ngIf","none"!==e.navigation),r.Ab(1),r.Fb("ngb-dp-months",!e.contentTemplate),r.Ab(2),r.lc("ngTemplateOutlet",(null==e.contentTemplate?null:e.contentTemplate.templateRef)||n),r.Ab(1),r.lc("ngTemplateOutlet",e.footerTemplate)}},directives:function(){return[St,Et,xi,kt,hi,fi]},styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1050}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-months{display:-ms-flexbox;display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}"],encapsulation:2,changeDetection:0}),t}(),ci=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({}),li=function(){var t=function(){function t(){Object(u.a)(this,t)}return Object(c.a)(t,[{key:"processKey",value:function(t,e){var n=e.state,r=e.calendar;switch(t.which){case ci.PageUp:e.focusDate(r.getPrev(n.focusedDate,t.shiftKey?"y":"m",1));break;case ci.PageDown:e.focusDate(r.getNext(n.focusedDate,t.shiftKey?"y":"m",1));break;case ci.End:e.focusDate(t.shiftKey?n.maxDate:n.lastDate);break;case ci.Home:e.focusDate(t.shiftKey?n.minDate:n.firstDate);break;case ci.ArrowLeft:e.focusDate(r.getPrev(n.focusedDate,"d",1));break;case ci.ArrowUp:e.focusDate(r.getPrev(n.focusedDate,"d",r.getDaysPerWeek()));break;case ci.ArrowRight:e.focusDate(r.getNext(n.focusedDate,"d",1));break;case ci.ArrowDown:e.focusDate(r.getNext(n.focusedDate,"d",r.getDaysPerWeek()));break;case ci.Enter:case ci.Space:e.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),hi=function(){var t=function(){function t(e,n,r,i){Object(u.a)(this,t),this.i18n=e,this.datepicker=n,this._keyboardService=r,this._service=i}return Object(c.a)(t,[{key:"month",set:function(t){this.viewModel=this._service.getMonth(t)}},{key:"onKeyDown",value:function(t){this._keyboardService.processKey(t,this.datepicker)}},{key:"doSelect",value:function(t){t.context.disabled||t.hidden||this.datepicker.onDateSelect(t.date)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(Xr),r.Nb(ui),r.Nb(li),r.Nb(ti))},t.\u0275cmp=r.Hb({type:t,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(t,e){1&t&&r.cc("keydown",function(t){return e.onKeyDown(t)})},inputs:{month:"month"},decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(r.Bc(0,Dn,3,2,"div",0),r.Bc(1,Vn,1,1,"ng-template",1)),2&t&&(r.lc("ngIf",e.datepicker.showWeekdays),r.Ab(1),r.lc("ngForOf",e.viewModel.weeks))},directives:[St,kt,Et],styles:['ngb-datepicker-month{display:block}.ngb-dp-week-number,.ngb-dp-weekday{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#5bc0de;color:var(--info)}.ngb-dp-week{border-radius:.25rem;display:-ms-flexbox;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-day,.ngb-dp-week-number,.ngb-dp-weekday{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default}.ngb-dp-day[tabindex="0"]{z-index:1}'],encapsulation:2}),t}(),fi=function(){var t=function(){function t(e){Object(u.a)(this,t),this.i18n=e,this.navigation=ei,this.months=[],this.navigate=new r.o,this.select=new r.o}return Object(c.a)(t,[{key:"onClickPrev",value:function(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}},{key:"onClickNext",value:function(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(Xr))},t.\u0275cmp=r.Hb({type:t,selectors:[["ngb-datepicker-navigation"]],inputs:{months:"months",date:"date",disabled:"disabled",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},decls:8,vars:4,consts:function(){return[[1,"ngb-dp-arrow"],["type","button","aria-label",$localize(Re||(Re=Ae([":@@ngb.datepicker.previous-month\u241fc3b08b07b5ab98e7cdcf18df39355690ab7d3884\u241f8586908745456864217:Previous month"]))),"title",$localize(Pe||(Pe=Ae([":@@ngb.datepicker.previous-month\u241fc3b08b07b5ab98e7cdcf18df39355690ab7d3884\u241f8586908745456864217:Previous month"]))),1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",$localize(Le||(Le=Ae([":@@ngb.datepicker.next-month\u241f4bd046985cfe13040d5ef0cd881edce0968a111a\u241f3628374603023447227:Next month"]))),"title",$localize(Me||(Me=Ae([":@@ngb.datepicker.next-month\u241f4bd046985cfe13040d5ef0cd881edce0968a111a\u241f3628374603023447227:Next month"]))),1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"button",1),r.cc("click",function(t){return e.onClickPrev(t)}),r.Ob(2,"span",2),r.Rb(),r.Rb(),r.Bc(3,Un,1,4,"ngb-datepicker-navigation-select",3),r.Bc(4,Wn,1,1,void 0,4),r.Sb(5,"div",5),r.Sb(6,"button",6),r.cc("click",function(t){return e.onClickNext(t)}),r.Ob(7,"span",2),r.Rb(),r.Rb()),2&t&&(r.Ab(1),r.lc("disabled",e.prevDisabled),r.Ab(2),r.lc("ngIf",e.showSelect),r.Ab(1),r.lc("ngIf",!e.showSelect),r.Ab(2),r.lc("disabled",e.nextDisabled))},directives:function(){return[St,Ai,kt]},styles:["ngb-datepicker-navigation{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;-webkit-transform:rotate(-135deg);transform:rotate(-135deg)}.right .ngb-dp-navigation-chevron{-webkit-transform:rotate(45deg);transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{-ms-flex-pack:end;justify-content:flex-end}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:-ms-flexbox;display:flex;-ms-flex:1 1 9rem;flex:1 1 9rem}"],encapsulation:2,changeDetection:0}),t}(),di=function(t,e){return!!e&&e.some(function(e){return e.contains(t)})},pi=function(t,e){return!e||null!=function(t,e){return e?t.closest(e):null}(t,e)},vi="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function bi(t,e,n,r,i,o,a,s){var u;n&&t.runOutsideAngular((u=function(){var u=Object(sn.a)(e,"keydown").pipe(Object(pn.a)(i),Object(vn.a)(function(t){return t.which===ci.Escape}),Object(yn.a)(function(t){return t.preventDefault()})),c=Object(sn.a)(e,"mousedown").pipe(Object(ye.a)(function(t){var e=t.target;return 2!==t.button&&!di(e,a)&&("inside"===n?di(e,o)&&pi(e,s):"outside"===n?!di(e,o):pi(e,s)||!di(e,o))}),Object(pn.a)(i)),l=Object(sn.a)(e,"mouseup").pipe(Object(gn.a)(c),Object(vn.a)(function(t){return Object(d.a)(t,2)[1]}),Object(mn.a)(0),Object(pn.a)(i));Object(cn.a)([u,l]).subscribe(function(){return t.run(r)})},vi?function(){return setTimeout(function(){return u()},100)}:u))}var yi=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function gi(t){var e=Array.from(t.querySelectorAll(yi)).filter(function(t){return-1!==t.tabIndex});return[e[0],e[e.length-1]]}var mi=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.runOutsideAngular(function(){var t=Object(sn.a)(e,"focusin").pipe(Object(pn.a)(n),Object(ye.a)(function(t){return t.target}));Object(sn.a)(e,"keydown").pipe(Object(pn.a)(n),Object(vn.a)(function(t){return t.which===ci.Tab}),Object(gn.a)(t)).subscribe(function(t){var n=Object(d.a)(t,2),r=n[0],i=n[1],o=gi(e),a=Object(d.a)(o,2),s=a[0],u=a[1];i!==s&&i!==e||!r.shiftKey||(u.focus(),r.preventDefault()),i!==u||r.shiftKey||(s.focus(),r.preventDefault())}),r&&Object(sn.a)(e,"click").pipe(Object(pn.a)(n),Object(gn.a)(t),Object(ye.a)(function(t){return t[1]})).subscribe(function(t){return t.focus()})})},wi=/\s+/,_i=new(function(){function t(){Object(u.a)(this,t)}return Object(c.a)(t,[{key:"getAllStyles",value:function(t){return window.getComputedStyle(t)}},{key:"getStyle",value:function(t,e){return this.getAllStyles(t)[e]}},{key:"isStaticPositioned",value:function(t){return"static"===(this.getStyle(t,"position")||"static")}},{key:"offsetParent",value:function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}},{key:"position",value:function(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))e={top:(e=t.getBoundingClientRect()).top,bottom:e.bottom,left:e.left,right:e.right,height:e.height,width:e.width};else{var i=this.offsetParent(t);e=this.offset(t,!1),i!==document.documentElement&&(r=this.offset(i,!1)),r.top+=i.clientTop,r.left+=i.clientLeft}return e.top-=r.top,e.bottom-=r.top,e.left-=r.left,e.right-=r.left,n&&(e.top=Math.round(e.top),e.bottom=Math.round(e.bottom),e.left=Math.round(e.left),e.right=Math.round(e.right)),e}},{key:"offset",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.getBoundingClientRect(),r={top:window.pageYOffset-document.documentElement.clientTop,left:window.pageXOffset-document.documentElement.clientLeft},i={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r.top,bottom:n.bottom+r.top,left:n.left+r.left,right:n.right+r.left};return e&&(i.height=Math.round(i.height),i.width=Math.round(i.width),i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i}},{key:"positionElements",value:function(t,e,n,r){var i=n.split("-"),o=Object(d.a)(i,2),a=o[0],s=void 0===a?"top":a,u=o[1],c=void 0===u?"center":u,l=r?this.offset(t,!1):this.position(t,!1),h=this.getAllStyles(e),f=parseFloat(h.marginTop),p=parseFloat(h.marginBottom),v=parseFloat(h.marginLeft),b=parseFloat(h.marginRight),y=0,g=0;switch(s){case"top":y=l.top-(e.offsetHeight+f+p);break;case"bottom":y=l.top+l.height;break;case"left":g=l.left-(e.offsetWidth+v+b);break;case"right":g=l.left+l.width}switch(c){case"top":y=l.top;break;case"bottom":y=l.top+l.height-e.offsetHeight;break;case"left":g=l.left;break;case"right":g=l.left+l.width-e.offsetWidth;break;case"center":"top"===s||"bottom"===s?g=l.left+l.width/2-e.offsetWidth/2:y=l.top+l.height/2-e.offsetHeight/2}e.style.transform="translate(".concat(Math.round(g),"px, ").concat(Math.round(y),"px)");var m=e.getBoundingClientRect(),w=document.documentElement,_=window.innerHeight||w.clientHeight,O=window.innerWidth||w.clientWidth;return m.left>=0&&m.top>=0&&m.right<=O&&m.bottom<=_}}]),t}());function Oi(t,e,n,r,i){var o=Array.isArray(n)?n:n.split(wi),a=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],s=e.classList,u=function(t){var e=t.split("-"),n=Object(d.a)(e,2),r=n[0],o=n[1],a=[];return i&&(a.push("".concat(i,"-").concat(r)),o&&a.push("".concat(i,"-").concat(r,"-").concat(o)),a.forEach(function(t){s.add(t)})),a};i&&a.forEach(function(t){s.remove("".concat(i,"-").concat(t))});var c=o.findIndex(function(t){return"auto"===t});c>=0&&a.forEach(function(t){null==o.find(function(e){return-1!==e.search("^"+t)})&&o.splice(c++,1,t)});var l,h=e.style;h.position="absolute",h.top="0",h.left="0",h["will-change"]="transform";var p,v=!1,b=Object(f.a)(o);try{for(b.s();!(p=b.n()).done;){var y=u(l=p.value);if(_i.positionElements(t,e,l,r)){v=!0;break}i&&y.forEach(function(t){s.remove(t)})}}catch(g){b.e(g)}finally{b.f()}return v||(u(l=o[0]),_i.positionElements(t,e,l,r)),l}function ki(){return new Si}var ji=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:ki,token:t,providedIn:"root"}),t}(),Si=function(){var t=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"parse",value:function(t){if(t){var e=t.trim().split("-");if(1===e.length&&jr(e[0]))return{year:wr(e[0]),month:null,day:null};if(2===e.length&&jr(e[0])&&jr(e[1]))return{year:wr(e[0]),month:wr(e[1]),day:null};if(3===e.length&&jr(e[0])&&jr(e[1])&&jr(e[2]))return{year:wr(e[0]),month:wr(e[1]),day:wr(e[2])}}return null}},{key:"format",value:function(t){return t?"".concat(t.year,"-").concat(jr(t.month)?Tr(t.month):"","-").concat(jr(t.day)?Tr(t.day):""):""}}]),n}(ji);return t.\u0275fac=function(e){return Ho(e||t)},t.\u0275prov=r.Jb({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),Ii=function(){var t=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;return Object(u.a)(this,n),(t=e.apply(this,arguments)).autoClose=!0,t.placement=["bottom-left","bottom-right","top-left","top-right"],t.restoreFocus=!0,t}return n}(ni);return t.\u0275fac=function(e){return Wo(e||t)},t.\u0275prov=Object(r.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),Ti={provide:ge,useExisting:Object(r.V)(function(){return Ci}),multi:!0},Ei={provide:me,useExisting:Object(r.V)(function(){return Ci}),multi:!0},Ci=function(){var t=function(){function t(e,n,i,o,a,s,c,l,h,f,d){var p=this;Object(u.a)(this,t),this._parserFormatter=e,this._elRef=n,this._vcRef=i,this._renderer=o,this._cfr=a,this._ngZone=s,this._calendar=c,this._dateAdapter=l,this._document=h,this._changeDetector=f,this._cRef=null,this._disabled=!1,this._elWithFocus=null,this.dateSelect=new r.o,this.navigate=new r.o,this.closed=new r.o,this._onChange=function(t){},this._onTouched=function(){},this._validatorChange=function(){},["autoClose","container","positionTarget","placement"].forEach(function(t){return p[t]=d[t]}),this._zoneSubscription=s.onStable.subscribe(function(){return p._updatePopupPosition()})}return Object(c.a)(t,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=""===t||t&&"false"!==t,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}},{key:"registerOnChange",value:function(t){this._onChange=t}},{key:"registerOnTouched",value:function(t){this._onTouched=t}},{key:"registerOnValidatorChange",value:function(t){this._validatorChange=t}},{key:"setDisabledState",value:function(t){this.disabled=t}},{key:"validate",value:function(t){var e=t.value;if(null==e)return null;var n=this._fromDateStruct(this._dateAdapter.fromModel(e));return this._calendar.isValid(n)?this.minDate&&n.before(qr.from(this.minDate))?{ngbDate:{minDate:{minDate:this.minDate,actual:e}}}:this.maxDate&&n.after(qr.from(this.maxDate))?{ngbDate:{maxDate:{maxDate:this.maxDate,actual:e}}}:void 0:{ngbDate:{invalid:e}}}},{key:"writeValue",value:function(t){this._model=this._fromDateStruct(this._dateAdapter.fromModel(t)),this._writeModelValue(this._model)}},{key:"manualDateChange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t!==this._inputValue;n&&(this._inputValue=t,this._model=this._fromDateStruct(this._parserFormatter.parse(t))),!n&&e||this._onChange(this._model?this._dateAdapter.toModel(this._model):""===t?null:t),e&&this._model&&this._writeModelValue(this._model)}},{key:"isOpen",value:function(){return!!this._cRef}},{key:"open",value:function(){var t=this;if(!this.isOpen()){var e=this._cfr.resolveComponentFactory(ui);this._cRef=this._vcRef.createComponent(e),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef.instance),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(function(e){t.writeValue(e),t._onChange(e),t._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&window.document.querySelector(this.container).appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,mi(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),this._cRef.instance.focus(),bi(this._ngZone,this._document,this.autoClose,function(){return t.close()},this.closed,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}}},{key:"close",value:function(){if(this.isOpen()){this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this.closed.emit(),this._changeDetector.markForCheck();var t=this._elWithFocus;kr(this.restoreFocus)?t=this._document.querySelector(this.restoreFocus):void 0!==this.restoreFocus&&(t=this.restoreFocus),t&&t.focus?t.focus():this._document.body.focus()}}},{key:"toggle",value:function(){this.isOpen()?this.close():this.open()}},{key:"navigateTo",value:function(t){this.isOpen()&&this._cRef.instance.navigateTo(t)}},{key:"onBlur",value:function(){this._onTouched()}},{key:"onFocus",value:function(){this._elWithFocus=this._elRef.nativeElement}},{key:"ngOnChanges",value:function(t){(t.minDate||t.maxDate)&&(this._validatorChange(),this.isOpen()&&(t.minDate&&(this._cRef.instance.minDate=this._dateAdapter.toModel(t.minDate.currentValue)),t.maxDate&&(this._cRef.instance.maxDate=this._dateAdapter.toModel(t.maxDate.currentValue)),this._cRef.instance.ngOnChanges(t)))}},{key:"ngOnDestroy",value:function(){this.close(),this._zoneSubscription.unsubscribe()}},{key:"_applyDatepickerInputs",value:function(t){var e=this;["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekdays","showWeekNumbers"].forEach(function(n){void 0!==e[n]&&(t[n]=e[n])}),t.startDate=this.startDate||this._model}},{key:"_applyPopupStyling",value:function(t){this._renderer.addClass(t,"dropdown-menu"),this._renderer.addClass(t,"show"),"body"===this.container&&this._renderer.addClass(t,"ngb-dp-body")}},{key:"_subscribeForDatepickerOutputs",value:function(t){var e=this;t.navigate.subscribe(function(t){return e.navigate.emit(t)}),t.dateSelect.subscribe(function(t){e.dateSelect.emit(t),!0!==e.autoClose&&"inside"!==e.autoClose||e.close()})}},{key:"_writeModelValue",value:function(t){var e=this._parserFormatter.format(t);this._inputValue=e,this._renderer.setProperty(this._elRef.nativeElement,"value",e),this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(t)),this._onTouched())}},{key:"_fromDateStruct",value:function(t){var e=t?new qr(t.year,t.month,t.day):null;return this._calendar.isValid(e)?e:null}},{key:"_updatePopupPosition",value:function(){if(this._cRef){var t;if(t=kr(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?this.positionTarget:this._elRef.nativeElement,this.positionTarget&&!t)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");Oi(t,this._cRef.location.nativeElement,this.placement,"body"===this.container)}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(ji),r.Nb(r.m),r.Nb(r.R),r.Nb(r.F),r.Nb(r.k),r.Nb(r.B),r.Nb(zr),r.Nb(ii),r.Nb(y),r.Nb(r.i),r.Nb(Ii))},t.\u0275dir=r.Ib({type:t,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(t,e){1&t&&r.cc("input",function(t){return e.manualDateChange(t.target.value)})("change",function(t){return e.manualDateChange(t.target.value,!0)})("focus",function(){return e.onFocus()})("blur",function(){return e.onBlur()}),2&t&&r.Vb("disabled",e.disabled)},inputs:{disabled:"disabled",autoClose:"autoClose",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",restoreFocus:"restoreFocus",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],features:[r.zb([Ti,Ei,{provide:ni,useExisting:Ii}]),r.yb]}),t=Ne([De(8,Object(r.r)(y))],t)}(),xi=function(){var t=function(){function t(e){Object(u.a)(this,t),this.i18n=e}return Object(c.a)(t,[{key:"isMuted",value:function(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(Xr))},t.\u0275cmp=r.Hb({type:t,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(t,e){2&t&&r.Fb("bg-primary",e.selected)("text-white",e.selected)("text-muted",e.isMuted())("outside",e.isMuted())("active",e.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},attrs:zn,decls:1,vars:1,template:function(t,e){1&t&&r.Dc(0),2&t&&r.Ec(e.i18n.getDayNumerals(e.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:0 0}[ngbDatepickerDayView].outside{opacity:.5}"],encapsulation:2,changeDetection:0}),t}(),Ai=function(){var t=function(){function t(e,n){Object(u.a)(this,t),this.i18n=e,this._renderer=n,this.select=new r.o,this._month=-1,this._year=-1}return Object(c.a)(t,[{key:"changeMonth",value:function(t){this.select.emit(new qr(this.date.year,wr(t),1))}},{key:"changeYear",value:function(t){this.select.emit(new qr(wr(t),this.date.month,1))}},{key:"ngAfterViewChecked",value:function(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(Xr),r.Nb(r.F))},t.\u0275cmp=r.Hb({type:t,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(t,e){var n;1&t&&(r.zc(Kn,!0,r.m),r.zc(Gn,!0,r.m)),2&t&&(r.sc(n=r.dc())&&(e.monthSelect=n.first),r.sc(n=r.dc())&&(e.yearSelect=n.first))},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},decls:6,vars:4,consts:function(){return[["aria-label",$localize(Fe||(Fe=Ae([":@@ngb.datepicker.select-month\u241f1dbc84807f35518112f62e5775d1daebd3d8462b\u241f2253869508135064750:Select month"]))),"title",$localize(Ve||(Ve=Ae([":@@ngb.datepicker.select-month\u241f1dbc84807f35518112f62e5775d1daebd3d8462b\u241f2253869508135064750:Select month"]))),1,"custom-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",$localize(Ue||(Ue=Ae([":@@ngb.datepicker.select-year\u241f8ceb09d002bf0c5d1cac171dfbffe1805d2b3962\u241f8852264961585484321:Select year"]))),"title",$localize(qe||(qe=Ae([":@@ngb.datepicker.select-year\u241f8ceb09d002bf0c5d1cac171dfbffe1805d2b3962\u241f8852264961585484321:Select year"]))),1,"custom-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(t,e){1&t&&(r.Sb(0,"select",0,1),r.cc("change",function(t){return e.changeMonth(t.target.value)}),r.Bc(2,Qn,2,3,"option",2),r.Rb(),r.Sb(3,"select",3,4),r.cc("change",function(t){return e.changeYear(t.target.value)}),r.Bc(5,Yn,2,2,"option",2),r.Rb()),2&t&&(r.lc("disabled",e.disabled),r.Ab(2),r.lc("ngForOf",e.months),r.Ab(1),r.lc("disabled",e.disabled),r.Ab(2),r.lc("ngForOf",e.years))},directives:[kt,je,Ee],styles:["ngb-datepicker-navigation-select>.custom-select{-ms-flex:1 1 auto;flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.custom-select:focus{z-index:1}ngb-datepicker-navigation-select>.custom-select::-ms-value{background-color:transparent!important}"],encapsulation:2,changeDetection:0}),t}();new Date(1882,10,12),new Date(2174,10,25);var Ni=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[At,xe]]}),t}(),Di=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["",8,"navbar"]]}),t}(),Ri=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)}}),t}(),Pi=function(){var t=function t(){Object(u.a)(this,t),this.backdrop=!0,this.keyboard=!0};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),Li=function t(e,n,r){Object(u.a)(this,t),this.nodes=e,this.viewRef=n,this.componentRef=r},Mi=function(){function t(e,n,r,i,o,a){Object(u.a)(this,t),this._type=e,this._injector=n,this._viewContainerRef=r,this._renderer=i,this._componentFactoryResolver=o,this._applicationRef=a}return Object(c.a)(t,[{key:"open",value:function(t,e){return this._windowRef||(this._contentRef=this._getContentRef(t,e),this._windowRef=this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(this._type),this._viewContainerRef.length,this._injector,this._contentRef.nodes)),this._windowRef}},{key:"close",value:function(){this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null,this._contentRef.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null))}},{key:"_getContentRef",value:function(t,e){if(t){if(t instanceof r.M){var n=t.createEmbeddedView(e);return this._applicationRef.attachView(n),new Li([n.rootNodes],n)}return new Li([[this._renderer.createText("".concat(t))]])}return new Li([])}}]),t}(),Fi=function(){},Vi=function(){var t=function(){function t(e){Object(u.a)(this,t),this._document=e}return Object(c.a)(t,[{key:"compensate",value:function(){var t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):Fi}},{key:"_adjustBody",value:function(t){var e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]="".concat(r+t,"px"),function(){return e.style["padding-right"]=n}}},{key:"_isPresent",value:function(t){var e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}},{key:"_getWidth",value:function(){var t=this._document.createElement("div");t.className="modal-scrollbar-measure";var e=this._document.body;e.appendChild(t);var n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Zb(y))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Zb)(y))},token:t,providedIn:"root"}),t=Ne([De(0,Object(r.r)(y))],t)}(),Ui=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:2,hostBindings:function(t,e){2&t&&r.Cb("modal-backdrop fade show"+(e.backdropClass?" "+e.backdropClass:""))},inputs:{backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t}(),qi=function(){function t(){Object(u.a)(this,t)}return Object(c.a)(t,[{key:"close",value:function(t){}},{key:"dismiss",value:function(t){}}]),t}(),Bi=function(){function t(e,n,r,i){var o=this;Object(u.a)(this,t),this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=i,e.instance.dismissEvent.subscribe(function(t){o.dismiss(t)}),this.result=new Promise(function(t,e){o._resolve=t,o._reject=e}),this.result.then(null,function(){})}return Object(c.a)(t,[{key:"componentInstance",get:function(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}},{key:"close",value:function(t){this._windowCmptRef&&(this._resolve(t),this._removeModalElements())}},{key:"_dismiss",value:function(t){this._reject(t),this._removeModalElements()}},{key:"dismiss",value:function(t){var e=this;if(this._windowCmptRef)if(this._beforeDismiss){var n=this._beforeDismiss();n&&n.then?n.then(function(n){!1!==n&&e._dismiss(t)},function(){}):!1!==n&&this._dismiss(t)}else this._dismiss(t)}},{key:"_removeModalElements",value:function(){var t=this._windowCmptRef.location.nativeElement;if(t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._backdropCmptRef){var e=this._backdropCmptRef.location.nativeElement;e.parentNode.removeChild(e),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null}}]),t}(),Hi=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({}),Wi=function(){var t=function(){function t(e,n,i){Object(u.a)(this,t),this._document=e,this._elRef=n,this._zone=i,this._closed$=new rn.a,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.o}return Object(c.a)(t,[{key:"dismiss",value:function(t){this.dismissEvent.emit(t)}},{key:"ngOnInit",value:function(){this._elWithFocus=this._document.activeElement}},{key:"ngAfterViewInit",value:function(){var t=this,e=this._elRef.nativeElement;if(this._zone.runOutsideAngular(function(){Object(sn.a)(e,"keydown").pipe(Object(pn.a)(t._closed$),Object(vn.a)(function(e){return e.which===ci.Escape&&t.keyboard})).subscribe(function(e){return requestAnimationFrame(function(){e.defaultPrevented||t._zone.run(function(){return t.dismiss(Hi.ESC)})})});var n=!1;Object(sn.a)(t._dialogEl.nativeElement,"mousedown").pipe(Object(pn.a)(t._closed$),Object(yn.a)(function(){return n=!1}),Object(dn.a)(function(){return Object(sn.a)(e,"mouseup").pipe(Object(pn.a)(t._closed$),Object(bn.a)(1))}),Object(vn.a)(function(t){return e===t.target})).subscribe(function(){n=!0}),Object(sn.a)(e,"click").pipe(Object(pn.a)(t._closed$)).subscribe(function(r){!0!==t.backdrop||e!==r.target||n||t._zone.run(function(){return t.dismiss(Hi.BACKDROP_CLICK)}),n=!1})}),!e.contains(document.activeElement)){var n=e.querySelector("[ngbAutofocus]"),r=gi(e)[0];(n||r||e).focus()}}},{key:"ngOnDestroy",value:function(){var t,e=this,n=this._document.body,r=this._elWithFocus;t=r&&r.focus&&n.contains(r)?r:n,this._zone.runOutsideAngular(function(){setTimeout(function(){return t.focus()}),e._elWithFocus=null}),this._closed$.next()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(y),r.Nb(r.m),r.Nb(r.B))},t.\u0275cmp=r.Hb({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){var n;1&t&&r.zc(Jn,!0),2&t&&r.sc(n=r.dc())&&(e._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:4,hostBindings:function(t,e){2&t&&(r.Bb("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy),r.Cb("modal fade show d-block"+(e.windowClass?" "+e.windowClass:"")))},inputs:{backdrop:"backdrop",keyboard:"keyboard",ariaLabelledBy:"ariaLabelledBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:_n,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(r.kc(),r.Sb(0,"div",0,1),r.Sb(2,"div",2),r.jc(3),r.Rb(),r.Rb()),2&t&&r.Cb("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}"],encapsulation:2}),t=Ne([De(0,Object(r.r)(y))],t)}(),zi=function(){var t=function(){function t(e,n,r,i,o,a){var s=this;Object(u.a)(this,t),this._applicationRef=e,this._injector=n,this._document=r,this._scrollBar=i,this._rendererFactory=o,this._ngZone=a,this._activeWindowCmptHasChanged=new rn.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["backdropClass"],this._modalRefs=[],this._windowAttributes=["ariaLabelledBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeWindowCmptHasChanged.subscribe(function(){if(s._windowCmpts.length){var t=s._windowCmpts[s._windowCmpts.length-1];mi(s._ngZone,t.location.nativeElement,s._activeWindowCmptHasChanged),s._revertAriaHidden(),s._setAriaHidden(t.location.nativeElement)}})}return Object(c.a)(t,[{key:"open",value:function(t,e,n,r){var i=this,o=r.container instanceof HTMLElement?r.container:Ir(r.container)?this._document.querySelector(r.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),u=function(){i._modalRefs.length||(a.removeClass(i._document.body,"modal-open"),i._revertAriaHidden())};if(!o)throw new Error('The specified modal container "'.concat(r.container||"body",'" was not found in the DOM.'));var c=new qi,l=this._getContentRef(t,r.injector||e,n,c,r),h=!1!==r.backdrop?this._attachBackdrop(t,o):null,f=this._attachWindowComponent(t,o,l),d=new Bi(f,l,h,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(f),d.result.then(s,s),d.result.then(u,u),c.close=function(t){d.close(t)},c.dismiss=function(t){d.dismiss(t)},this._applyWindowOptions(f.instance,r),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),h&&h.instance&&this._applyBackdropOptions(h.instance,r),d}},{key:"dismissAll",value:function(t){this._modalRefs.forEach(function(e){return e.dismiss(t)})}},{key:"hasOpenModals",value:function(){return this._modalRefs.length>0}},{key:"_attachBackdrop",value:function(t,e){var n=t.resolveComponentFactory(Ui).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}},{key:"_attachWindowComponent",value:function(t,e,n){var r=t.resolveComponentFactory(Wi).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}},{key:"_applyWindowOptions",value:function(t,e){this._windowAttributes.forEach(function(n){Ir(e[n])&&(t[n]=e[n])})}},{key:"_applyBackdropOptions",value:function(t,e){this._backdropAttributes.forEach(function(n){Ir(e[n])&&(t[n]=e[n])})}},{key:"_getContentRef",value:function(t,e,n,i,o){return n?n instanceof r.M?this._createFromTemplateRef(n,i):kr(n)?this._createFromString(n):this._createFromComponent(t,e,n,i,o):new Li([])}},{key:"_createFromTemplateRef",value:function(t,e){var n=t.createEmbeddedView({$implicit:e,close:function(t){e.close(t)},dismiss:function(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new Li([n.rootNodes],n)}},{key:"_createFromString",value:function(t){var e=this._document.createTextNode("".concat(t));return new Li([[e]])}},{key:"_createFromComponent",value:function(t,e,n,i,o){var a=t.resolveComponentFactory(n),s=r.t.create({providers:[{provide:qi,useValue:i}],parent:e}),u=a.create(s),c=u.location.nativeElement;return o.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new Li([[c]],u.hostView,u)}},{key:"_setAriaHidden",value:function(t){var e=this,n=t.parentElement;n&&t!==this._document.body&&(Array.from(n.children).forEach(function(n){n!==t&&"SCRIPT"!==n.nodeName&&(e._ariaHiddenValues.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}},{key:"_revertAriaHidden",value:function(){this._ariaHiddenValues.forEach(function(t,e){t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}},{key:"_registerModalRef",value:function(t){var e=this,n=function(){var n=e._modalRefs.indexOf(t);n>-1&&e._modalRefs.splice(n,1)};this._modalRefs.push(t),t.result.then(n,n)}},{key:"_registerWindowCmpt",value:function(t){var e=this;this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(function(){var n=e._windowCmpts.indexOf(t);n>-1&&(e._windowCmpts.splice(n,1),e._activeWindowCmptHasChanged.next())})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Zb(r.g),r.Zb(r.t),r.Zb(y),r.Zb(Vi),r.Zb(r.G),r.Zb(r.B))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Zb)(r.g),Object(r.Zb)(r.q),Object(r.Zb)(y),Object(r.Zb)(Vi),Object(r.Zb)(r.G),Object(r.Zb)(r.B))},token:t,providedIn:"root"}),t=Ne([De(2,Object(r.r)(y))],t)}(),Ki=function(){var t=function(){function t(e,n,r,i){Object(u.a)(this,t),this._moduleCFR=e,this._injector=n,this._modalStack=r,this._config=i}return Object(c.a)(t,[{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},this._config,e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}},{key:"dismissAll",value:function(t){this._modalStack.dismissAll(t)}},{key:"hasOpenModals",value:function(){return this._modalStack.hasOpenModals()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Zb(r.k),r.Zb(r.t),r.Zb(zi),r.Zb(Pi))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Zb)(r.k),Object(r.Zb)(r.q),Object(r.Zb)(zi),Object(r.Zb)(Pi))},token:t,providedIn:"root"}),t}(),Gi=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[Ki]}),t}(),Qi=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[At]]}),t}(),Yi=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[At]]}),t}(),Ji=function(){function t(e,n){Object(u.a)(this,t),this.open=e,this.close=n,n||(this.close=e)}return Object(c.a)(t,[{key:"isManual",value:function(){return"manual"===this.open||"manual"===this.close}}]),t}(),Zi={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]};function Xi(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zi,n=(t||"").trim();if(0===n.length)return[];var r=n.split(/\s+/).map(function(t){return t.split(":")}).map(function(t){var n=e[t[0]]||t;return new Ji(n[0],n[1])}),i=r.filter(function(t){return t.isManual()});if(i.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===i.length&&r.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return r}function $i(t,e,n,r){return new ln.a(function(i){var o=[],a=function(){return i.next(!0)},s=function(){return i.next(!1)},u=function(){return i.next(!r())};return n.forEach(function(n){n.open===n.close?o.push(t.listen(e,n.open,u)):o.push(t.listen(e,n.open,a),t.listen(e,n.close,s))}),function(){o.forEach(function(t){return t()})}})}var to=function(t){return t>0?Object(mn.a)(t):function(t){return t}};function eo(t,e,n){return function(r){var i=null,o=r.pipe(Object(ye.a)(function(t){return{open:t}}),Object(vn.a)(function(t){var e=n();return e===t.open||i&&i.open!==e?(i&&i.open!==t.open&&(i=null),!1):(i=t,!0)}),Object(wn.a)()),a=o.pipe(Object(vn.a)(function(t){return t.open}),to(t)),s=o.pipe(Object(vn.a)(function(t){return!t.open}),to(e));return Object(un.a)(a,s).pipe(Object(vn.a)(function(t){return t===i&&(i=null,t.open!==n())}),Object(ye.a)(function(t){return t.open}))}}var no=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[At]]}),t}(),ro=function(){var t=function t(){Object(u.a)(this,t),this.max=100,this.animated=!1,this.striped=!1,this.showValue=!1};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),io=function(){var t=function(){function t(e){Object(u.a)(this,t),this.value=0,this.max=e.max,this.animated=e.animated,this.striped=e.striped,this.textType=e.textType,this.type=e.type,this.showValue=e.showValue,this.height=e.height}return Object(c.a)(t,[{key:"max",get:function(){return this._max},set:function(t){this._max=!jr(t)||t<=0?100:t}},{key:"getValue",value:function(){return Or(this.value,this.max)}},{key:"getPercentValue",value:function(){return 100*this.getValue()/this.max}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(ro))},t.\u0275cmp=r.Hb({type:t,selectors:[["ngb-progressbar"]],inputs:{value:"value",max:"max",animated:"animated",striped:"striped",textType:"textType",type:"type",showValue:"showValue",height:"height"},ngContentSelectors:_n,decls:4,vars:13,consts:function(){return[[1,"progress"],["role","progressbar","aria-valuemin","0"],[4,"ngIf"],$localize(Be||(Be=Ae([":@@ngb.progressbar.value\u241f04d611d19c117c60c9e14d0a04399a027184bc77\u241f5214781723415385277:",":INTERPOLATION:%"])),"\ufffd0\ufffd")]},template:function(t,e){1&t&&(r.kc(),r.Sb(0,"div",0),r.Sb(1,"div",1),r.Bc(2,Zn,2,1,"span",2),r.jc(3),r.Rb(),r.Rb()),2&t&&(r.Ac("height",e.height),r.Ab(1),r.Eb("progress-bar",e.type?" bg-"+e.type:"","",e.textType?" text-"+e.textType:"","\n      ",e.animated?" progress-bar-animated":"","",e.striped?" progress-bar-striped":"",""),r.Ac("width",e.getPercentValue(),"%"),r.Bb("aria-valuenow",e.getValue())("aria-valuemax",e.max),r.Ab(1),r.lc("ngIf",e.showValue))},directives:[St],encapsulation:2,changeDetection:0}),t}(),oo=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[At]]}),t}(),ao=function(){var t=function t(){Object(u.a)(this,t),this.max=10,this.readonly=!1,this.resettable=!1};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),so={provide:ge,useExisting:Object(r.V)(function(){return uo}),multi:!0},uo=function(){var t=function(){function t(e,n){Object(u.a)(this,t),this._changeDetectorRef=n,this.contexts=[],this.disabled=!1,this.hover=new r.o,this.leave=new r.o,this.rateChange=new r.o(!0),this.onChange=function(t){},this.onTouched=function(){},this.max=e.max,this.readonly=e.readonly}return Object(c.a)(t,[{key:"ariaValueText",value:function(){return"".concat(this.nextRate," out of ").concat(this.max)}},{key:"enter",value:function(t){this.readonly||this.disabled||this._updateState(t),this.hover.emit(t)}},{key:"handleBlur",value:function(){this.onTouched()}},{key:"handleClick",value:function(t){this.readonly||this.disabled||this.update(this.resettable&&this.rate===t?0:t)}},{key:"handleKeyDown",value:function(t){switch(t.which){case ci.ArrowDown:case ci.ArrowLeft:this.update(this.rate-1);break;case ci.ArrowUp:case ci.ArrowRight:this.update(this.rate+1);break;case ci.Home:this.update(0);break;case ci.End:this.update(this.max);break;default:return}t.preventDefault()}},{key:"ngOnChanges",value:function(t){t.rate&&this.update(this.rate)}},{key:"ngOnInit",value:function(){this.contexts=Array.from({length:this.max},function(t,e){return{fill:0,index:e}}),this._updateState(this.rate)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"reset",value:function(){this.leave.emit(this.nextRate),this._updateState(this.rate)}},{key:"setDisabledState",value:function(t){this.disabled=t}},{key:"update",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Or(t,this.max,0);this.readonly||this.disabled||this.rate===n||(this.rate=n,this.rateChange.emit(this.rate)),e&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}},{key:"writeValue",value:function(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}},{key:"_getFillValue",value:function(t){var e=this.nextRate-t;return e>=1?100:e<1&&e>0?parseInt((100*e).toFixed(2),10):0}},{key:"_updateState",value:function(t){var e=this;this.nextRate=t,this.contexts.forEach(function(t,n){return t.fill=e._getFillValue(n)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(ao),r.Nb(r.i))},t.\u0275cmp=r.Hb({type:t,selectors:[["ngb-rating"]],contentQueries:function(t,e,n){var i;1&t&&r.Gb(n,r.M,!0),2&t&&r.sc(i=r.dc())&&(e.starTemplateFromContent=i.first)},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(t,e){1&t&&r.cc("blur",function(){return e.handleBlur()})("keydown",function(t){return e.handleKeyDown(t)})("mouseleave",function(){return e.reset()}),2&t&&(r.Vb("tabindex",e.disabled?-1:0),r.Bb("aria-valuemax",e.max)("aria-valuenow",e.nextRate)("aria-valuetext",e.ariaValueText())("aria-disabled",!!e.readonly||null))},inputs:{max:"max",readonly:"readonly",rate:"rate",resettable:"resettable",starTemplate:"starTemplate"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[r.zb([so]),r.yb],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"sr-only"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(r.Bc(0,Xn,1,1,"ng-template",null,0,r.Cc),r.Bc(2,tr,4,5,"ng-template",1)),2&t&&(r.Ab(2),r.lc("ngForOf",e.contexts))},directives:[kt,Et],encapsulation:2,changeDetection:0}),t}(),co=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[At]]}),t}(),lo=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[At]]}),t}(),ho=function(){function t(e,n,r){Object(u.a)(this,t),this.hour=wr(e),this.minute=wr(n),this.second=wr(r)}return Object(c.a)(t,[{key:"changeHour",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.updateHour((isNaN(this.hour)?0:this.hour)+t)}},{key:"updateHour",value:function(t){this.hour=jr(t)?(t<0?24+t:t)%24:NaN}},{key:"changeMinute",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.updateMinute((isNaN(this.minute)?0:this.minute)+t)}},{key:"updateMinute",value:function(t){jr(t)?(this.minute=t%60<0?60+t%60:t%60,this.changeHour(Math.floor(t/60))):this.minute=NaN}},{key:"changeSecond",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.updateSecond((isNaN(this.second)?0:this.second)+t)}},{key:"updateSecond",value:function(t){jr(t)?(this.second=t<0?60+t%60:t%60,this.changeMinute(Math.floor(t/60))):this.second=NaN}},{key:"isValid",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return jr(this.hour)&&jr(this.minute)&&(!t||jr(this.second))}},{key:"toString",value:function(){return"".concat(this.hour||0,":").concat(this.minute||0,":").concat(this.second||0)}}]),t}(),fo=function(){var t=function t(){Object(u.a)(this,t),this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t}();function po(){return new bo}var vo=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:po,token:t,providedIn:"root"}),t}(),bo=function(){var t=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"fromModel",value:function(t){return t&&Sr(t.hour)&&Sr(t.minute)?{hour:t.hour,minute:t.minute,second:Sr(t.second)?t.second:null}:null}},{key:"toModel",value:function(t){return t&&Sr(t.hour)&&Sr(t.minute)?{hour:t.hour,minute:t.minute,second:Sr(t.second)?t.second:null}:null}}]),n}(vo);return t.\u0275fac=function(e){return zo(e||t)},t.\u0275prov=r.Jb({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),yo=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:function(){return t=Object(r.Zb)(r.w),new go(t);var t},token:t,providedIn:"root"}),t}(),go=function(){var t=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var r;return Object(u.a)(this,n),(r=e.call(this))._periods=U(t,L.Standalone,M.Narrow),r}return Object(c.a)(n,[{key:"getMorningPeriod",value:function(){return this._periods[0]}},{key:"getAfternoonPeriod",value:function(){return this._periods[1]}}]),n}(yo);return t.\u0275fac=function(e){return new(e||t)(r.Zb(r.w))},t.\u0275prov=r.Jb({token:t,factory:function(e){return t.\u0275fac(e)}}),t=Ne([De(0,Object(r.r)(r.w))],t)}(),mo=/[^0-9]/g,wo={provide:ge,useExisting:Object(r.V)(function(){return _o}),multi:!0},_o=function(){var t=function(){function t(e,n,r,i){Object(u.a)(this,t),this._config=e,this._ngbTimeAdapter=n,this._cd=r,this.i18n=i,this.onChange=function(t){},this.onTouched=function(){},this.meridian=e.meridian,this.spinners=e.spinners,this.seconds=e.seconds,this.hourStep=e.hourStep,this.minuteStep=e.minuteStep,this.secondStep=e.secondStep,this.disabled=e.disabled,this.readonlyInputs=e.readonlyInputs,this.size=e.size}return Object(c.a)(t,[{key:"hourStep",get:function(){return this._hourStep},set:function(t){this._hourStep=Sr(t)?t:this._config.hourStep}},{key:"minuteStep",get:function(){return this._minuteStep},set:function(t){this._minuteStep=Sr(t)?t:this._config.minuteStep}},{key:"secondStep",get:function(){return this._secondStep},set:function(t){this._secondStep=Sr(t)?t:this._config.secondStep}},{key:"writeValue",value:function(t){var e=this._ngbTimeAdapter.fromModel(t);this.model=e?new ho(e.hour,e.minute,e.second):new ho,this.seconds||e&&jr(e.second)||(this.model.second=0),this._cd.markForCheck()}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t}},{key:"changeHour",value:function(t){this.model.changeHour(t),this.propagateModelChange()}},{key:"changeMinute",value:function(t){this.model.changeMinute(t),this.propagateModelChange()}},{key:"changeSecond",value:function(t){this.model.changeSecond(t),this.propagateModelChange()}},{key:"updateHour",value:function(t){var e=this.model.hour>=12,n=wr(t);this.model.updateHour(this.meridian&&(e&&n<12||!e&&12===n)?n+12:n),this.propagateModelChange()}},{key:"updateMinute",value:function(t){this.model.updateMinute(wr(t)),this.propagateModelChange()}},{key:"updateSecond",value:function(t){this.model.updateSecond(wr(t)),this.propagateModelChange()}},{key:"toggleMeridian",value:function(){this.meridian&&this.changeHour(12)}},{key:"formatInput",value:function(t){t.value=t.value.replace(mo,"")}},{key:"formatHour",value:function(t){return jr(t)?Tr(this.meridian?t%12==0?12:t%12:t%24):Tr(NaN)}},{key:"formatMinSec",value:function(t){return Tr(t)}},{key:"isSmallSize",get:function(){return"small"===this.size}},{key:"isLargeSize",get:function(){return"large"===this.size}},{key:"ngOnChanges",value:function(t){t.seconds&&!this.seconds&&this.model&&!jr(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}},{key:"propagateModelChange",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t&&this.onTouched(),this.model.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(fo),r.Nb(vo),r.Nb(r.i),r.Nb(yo))},t.\u0275cmp=r.Hb({type:t,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},features:[r.zb([wo]),r.yb],decls:16,vars:25,consts:function(){return[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",$localize(He||(He=Ae([":@@ngb.timepicker.HH\u241fce676ab1d6d98f85c836381cf100a4a91ef95a1f\u241f4043638465245303811:HH"]))),"aria-label",$localize(We||(We=Ae([":@@ngb.timepicker.hours\u241f3bbce5fef7e1151da052a4e529453edb340e3912\u241f8070396816726827304:Hours"]))),1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",$localize(ze||(ze=Ae([":@@ngb.timepicker.MM\u241f72c8edf6a50068a05bde70991e36b1e881f4ca54\u241f1647282246509919852:MM"]))),"aria-label",$localize(Ke||(Ke=Ae([":@@ngb.timepicker.minutes\u241f41e62daa962947c0d23ded0981975d1bddf0bf38\u241f5531237363767747080:Minutes"]))),1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"sr-only"],$localize(Ge||(Ge=Ae([":@@ngb.timepicker.increment-hours\u241fcb74bc1d625a6c1742f0d7d47306cf495780c218\u241f5939278348542933629:Increment hours"]))),[1,"chevron","ngb-tp-chevron","bottom"],$localize(Qe||(Qe=Ae([":@@ngb.timepicker.decrement-hours\u241f147c7a19429da7d999e247d22e33fee370b1691b\u241f3651829882940481818:Decrement hours"]))),$localize(Ye||(Ye=Ae([":@@ngb.timepicker.increment-minutes\u241ff5a4a3bc05e053f6732475d0e74875ec01c3a348\u241f180147720391025024:Increment minutes"]))),$localize(Je||(Je=Ae([":@@ngb.timepicker.decrement-minutes\u241fc1a6899e529c096da5b660385d4e77fe1f7ad271\u241f7447789825403243588:Decrement minutes"]))),[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",$localize(Ze||(Ze=Ae([":@@ngb.timepicker.SS\u241febe38d36a40a2383c5fefa9b4608ffbda08bd4a3\u241f3628127143071124194:SS"]))),"aria-label",$localize(Xe||(Xe=Ae([":@@ngb.timepicker.seconds\u241f4f2ed9e71a7c981db3e50ae2fedb28aff2ec4e6c\u241f8874012390997067175:Seconds"]))),1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","input","keydown.ArrowUp","keydown.ArrowDown"],$localize($e||($e=Ae([":@@ngb.timepicker.increment-seconds\u241f912322ecee7d659d04dcf494a70e22e49d334b26\u241f5364772110539092174:Increment seconds"]))),$localize(tn||(tn=Ae([":@@ngb.timepicker.decrement-seconds\u241f5db47ac104294243a70eb9124fbea9d0004ddf69\u241f753633511487974857:Decrement seconds"]))),[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],$localize(en||(en=Ae([":@@ngb.timepicker.PM\u241f8d6e691e10306c1b34c6b26805151aaea320ef7f\u241f3564199131264287502:",":INTERPOLATION:"])),"\ufffd0\ufffd"),$localize(nn||(nn=Ae([":@@ngb.timepicker.AM\u241f69a1f176a93998876952adac57c3bc3863b6105e\u241f4592818992509942761:",":INTERPOLATION:"])),"\ufffd0\ufffd")]},template:function(t,e){1&t&&(r.Sb(0,"fieldset",0),r.Sb(1,"div",1),r.Sb(2,"div",2),r.Bc(3,er,4,7,"button",3),r.Sb(4,"input",4),r.cc("change",function(t){return e.updateHour(t.target.value)})("input",function(t){return e.formatInput(t.target)})("keydown.ArrowUp",function(t){return e.changeHour(e.hourStep),t.preventDefault()})("keydown.ArrowDown",function(t){return e.changeHour(-e.hourStep),t.preventDefault()}),r.Rb(),r.Bc(5,nr,4,7,"button",3),r.Rb(),r.Sb(6,"div",5),r.Dc(7,":"),r.Rb(),r.Sb(8,"div",6),r.Bc(9,rr,4,7,"button",3),r.Sb(10,"input",7),r.cc("change",function(t){return e.updateMinute(t.target.value)})("input",function(t){return e.formatInput(t.target)})("keydown.ArrowUp",function(t){return e.changeMinute(e.minuteStep),t.preventDefault()})("keydown.ArrowDown",function(t){return e.changeMinute(-e.minuteStep),t.preventDefault()}),r.Rb(),r.Bc(11,ir,4,7,"button",3),r.Rb(),r.Bc(12,or,2,0,"div",8),r.Bc(13,ur,4,9,"div",9),r.Bc(14,cr,1,0,"div",8),r.Bc(15,fr,5,9,"div",10),r.Rb(),r.Rb()),2&t&&(r.Fb("disabled",e.disabled),r.lc("disabled",e.disabled),r.Ab(3),r.lc("ngIf",e.spinners),r.Ab(1),r.Fb("form-control-sm",e.isSmallSize)("form-control-lg",e.isLargeSize),r.lc("value",e.formatHour(null==e.model?null:e.model.hour))("readOnly",e.readonlyInputs)("disabled",e.disabled),r.Ab(1),r.lc("ngIf",e.spinners),r.Ab(4),r.lc("ngIf",e.spinners),r.Ab(1),r.Fb("form-control-sm",e.isSmallSize)("form-control-lg",e.isLargeSize),r.lc("value",e.formatMinSec(null==e.model?null:e.model.minute))("readOnly",e.readonlyInputs)("disabled",e.disabled),r.Ab(1),r.lc("ngIf",e.spinners),r.Ab(1),r.lc("ngIf",e.seconds),r.Ab(1),r.lc("ngIf",e.seconds),r.Ab(1),r.lc("ngIf",e.meridian),r.Ab(1),r.lc("ngIf",e.meridian))},directives:[St],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron::before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;-webkit-transform:rotate(135deg);transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-meridian,.ngb-tp-minute,.ngb-tp-second{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}'],encapsulation:2}),t}(),Oo=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[At]]}),t}(),ko=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[At]]}),t}(),jo=function(){var t=function t(){Object(u.a)(this,t),this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),So=0,Io=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:3,hostBindings:function(t,e){2&t&&(r.Vb("id",e.id),r.Cb("tooltip show"+(e.tooltipClass?" "+e.tooltipClass:"")))},inputs:{id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:_n,decls:3,vars:0,consts:[[1,"arrow"],[1,"tooltip-inner"]],template:function(t,e){1&t&&(r.kc(),r.Ob(0,"div",0),r.Sb(1,"div",1),r.jc(2),r.Rb())},styles:["ngb-tooltip-window.bs-tooltip-bottom .arrow,ngb-tooltip-window.bs-tooltip-top .arrow{left:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-bottom-left .arrow,ngb-tooltip-window.bs-tooltip-top-left .arrow{left:1em}ngb-tooltip-window.bs-tooltip-bottom-right .arrow,ngb-tooltip-window.bs-tooltip-top-right .arrow{left:auto;right:.8rem}ngb-tooltip-window.bs-tooltip-left .arrow,ngb-tooltip-window.bs-tooltip-right .arrow{top:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-left-top .arrow,ngb-tooltip-window.bs-tooltip-right-top .arrow{top:.4rem}ngb-tooltip-window.bs-tooltip-left-bottom .arrow,ngb-tooltip-window.bs-tooltip-right-bottom .arrow{top:auto;bottom:.4rem}"],encapsulation:2,changeDetection:0}),t}(),To=function(){var t=function(){function t(e,n,i,o,a,s,c,l,h,f){var d=this;Object(u.a)(this,t),this._elementRef=e,this._renderer=n,this._ngZone=c,this._document=l,this._changeDetector=h,this.shown=new r.o,this.hidden=new r.o,this._ngbTooltipWindowId="ngb-tooltip-".concat(So++),this.autoClose=s.autoClose,this.placement=s.placement,this.triggers=s.triggers,this.container=s.container,this.disableTooltip=s.disableTooltip,this.tooltipClass=s.tooltipClass,this.openDelay=s.openDelay,this.closeDelay=s.closeDelay,this._popupService=new Mi(Io,i,a,n,o,f),this._zoneSubscription=c.onStable.subscribe(function(){d._windowRef&&Oi(d._elementRef.nativeElement,d._windowRef.location.nativeElement,d.placement,"body"===d.container,"bs-tooltip")})}return Object(c.a)(t,[{key:"ngbTooltip",get:function(){return this._ngbTooltip},set:function(t){this._ngbTooltip=t,!t&&this._windowRef&&this.close()}},{key:"open",value:function(t){var e=this;this._windowRef||!this._ngbTooltip||this.disableTooltip||(this._windowRef=this._popupService.open(this._ngbTooltip,t),this._windowRef.instance.tooltipClass=this.tooltipClass,this._windowRef.instance.id=this._ngbTooltipWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),bi(this._ngZone,this._document,this.autoClose,function(){return e.close()},this.hidden,[this._windowRef.location.nativeElement]),this.shown.emit())}},{key:"close",value:function(){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(),this._windowRef=null,this.hidden.emit(),this._changeDetector.markForCheck())}},{key:"toggle",value:function(){this._windowRef?this.close():this.open()}},{key:"isOpen",value:function(){return null!=this._windowRef}},{key:"ngOnInit",value:function(){this._unregisterListenersFn=function(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=Xi(n);if(1===u.length&&u[0].isManual())return function(){};var c=$i(t,e,u,r).pipe(eo(a,s,r)).subscribe(function(t){return t?i():o()});return function(){return c.unsubscribe()}}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}},{key:"ngOnChanges",value:function(t){var e=t.tooltipClass;e&&this.isOpen()&&(this._windowRef.instance.tooltipClass=e.currentValue)}},{key:"ngOnDestroy",value:function(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.m),r.Nb(r.F),r.Nb(r.t),r.Nb(r.k),r.Nb(r.R),r.Nb(jo),r.Nb(r.B),r.Nb(y),r.Nb(r.i),r.Nb(r.g))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngbTooltip",""]],inputs:{autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[r.yb]}),t=Ne([De(7,Object(r.r)(y))],t)}(),Eo=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)}}),t}(),Co=function(){var t=function(){function t(){Object(u.a)(this,t),this.highlightClass="ngb-highlight"}return Object(c.a)(t,[{key:"ngOnChanges",value:function(t){var e=_r(this.result),n=(Array.isArray(this.term)?this.term:[this.term]).map(function(t){return _r(t).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}).filter(function(t){return t});this.parts=n.length?e.split(new RegExp("(".concat(n.join("|"),")"),"gmi")):[e]}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term"},features:[r.yb],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(t,e){1&t&&r.Bc(0,vr,3,2,"ng-template",0),2&t&&r.lc("ngForOf",e.parts)},directives:[kt,St],styles:[".ngb-highlight{font-weight:700}"],encapsulation:2,changeDetection:0}),t}(),xo=function(){var t=function(){function t(){Object(u.a)(this,t),this.activeIdx=0,this.focusFirst=!0,this.formatter=_r,this.selectEvent=new r.o,this.activeChangeEvent=new r.o}return Object(c.a)(t,[{key:"hasActive",value:function(){return this.activeIdx>-1&&this.activeIdx<this.results.length}},{key:"getActive",value:function(){return this.results[this.activeIdx]}},{key:"markActive",value:function(t){this.activeIdx=t,this._activeChanged()}},{key:"next",value:function(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}},{key:"prev",value:function(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}},{key:"resetActive",value:function(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}},{key:"select",value:function(t){this.selectEvent.emit(t)}},{key:"ngOnInit",value:function(){this.resetActive()}},{key:"_activeChanged",value:function(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["ngb-typeahead-window"]],hostAttrs:["role","listbox",1,"dropdown-menu","show"],hostVars:1,hostBindings:function(t,e){1&t&&r.cc("mousedown",function(t){return t.preventDefault()}),2&t&&r.Vb("id",e.id)},inputs:{focusFirst:"focusFirst",formatter:"formatter",id:"id",results:"results",term:"term",resultTemplate:"resultTemplate"},outputs:{selectEvent:"select",activeChangeEvent:"activeChange"},exportAs:["ngbTypeaheadWindow"],decls:3,vars:1,consts:[["rt",""],["ngFor","",3,"ngForOf"],[3,"result","term"],["type","button","role","option",1,"dropdown-item",3,"id","mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(r.Bc(0,br,1,2,"ng-template",null,0,r.Cc),r.Bc(2,mr,2,9,"ng-template",1)),2&t&&(r.Ab(2),r.lc("ngForOf",e.results))},directives:[kt,Co,Et],encapsulation:2}),t}(),Ao=new r.s("live announcer delay",{providedIn:"root",factory:function(){return 100}});function No(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.body.querySelector("#ngb-live");return null==n&&e&&((n=t.createElement("div")).setAttribute("id","ngb-live"),n.setAttribute("aria-live","polite"),n.setAttribute("aria-atomic","true"),n.classList.add("sr-only"),t.body.appendChild(n)),n}var Do=function(){var t=function(){function t(e,n){Object(u.a)(this,t),this._document=e,this._delay=n}return Object(c.a)(t,[{key:"ngOnDestroy",value:function(){var t=No(this._document);t&&t.parentElement.removeChild(t)}},{key:"say",value:function(t){var e=No(this._document,!0),n=this._delay;e.textContent="";var r=function(){return e.textContent=t};null===n?r():setTimeout(r,n)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Zb(y),r.Zb(Ao))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Zb)(y),Object(r.Zb)(Ao))},token:t,providedIn:"root"}),t=Ne([De(0,Object(r.r)(y)),De(1,Object(r.r)(Ao))],t)}(),Ro=function(){var t=function t(){Object(u.a)(this,t),this.editable=!0,this.focusFirst=!0,this.showHint=!1,this.placement=["bottom-left","bottom-right","top-left","top-right"]};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),Po={provide:ge,useExisting:Object(r.V)(function(){return Mo}),multi:!0},Lo=0,Mo=function(){var t=function(){function t(e,n,i,o,a,s,c,l,h,f,d,p){var v=this;Object(u.a)(this,t),this._elementRef=e,this._renderer=i,this._live=l,this._document=h,this._ngZone=f,this._changeDetector=d,this._closed$=new rn.a,this.autocomplete="off",this.placement="bottom-left",this.selectItem=new r.o,this.popupId="ngb-typeahead-".concat(Lo++),this._onTouched=function(){},this._onChange=function(t){},this.container=s.container,this.editable=s.editable,this.focusFirst=s.focusFirst,this.showHint=s.showHint,this.placement=s.placement,this._valueChanges=Object(sn.a)(e.nativeElement,"input").pipe(Object(ye.a)(function(t){return t.target.value})),this._resubscribeTypeahead=new on.a(null),this._popupService=new Mi(xo,o,n,i,a,p),this._zoneSubscription=c.onStable.subscribe(function(){v.isPopupOpen()&&Oi(v._elementRef.nativeElement,v._windowRef.location.nativeElement,v.placement,"body"===v.container)})}return Object(c.a)(t,[{key:"ngOnInit",value:function(){var t=this,e=this._valueChanges.pipe(Object(yn.a)(function(e){t._inputValueBackup=t.showHint?e:null,t._onChange(t.editable?e:void 0)})).pipe(this.ngbTypeahead),n=this._resubscribeTypeahead.pipe(Object(dn.a)(function(){return e}));this._subscription=this._subscribeToUserInput(n)}},{key:"ngOnDestroy",value:function(){this._closePopup(),this._unsubscribeFromUserInput(),this._zoneSubscription.unsubscribe()}},{key:"registerOnChange",value:function(t){this._onChange=t}},{key:"registerOnTouched",value:function(t){this._onTouched=t}},{key:"writeValue",value:function(t){this._writeInputValue(this._formatItemForInput(t)),this.showHint&&(this._inputValueBackup=t)}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"dismissPopup",value:function(){this.isPopupOpen()&&(this._resubscribeTypeahead.next(null),this._closePopup(),this.showHint&&null!==this._inputValueBackup&&this._writeInputValue(this._inputValueBackup),this._changeDetector.markForCheck())}},{key:"isPopupOpen",value:function(){return null!=this._windowRef}},{key:"handleBlur",value:function(){this._resubscribeTypeahead.next(null),this._onTouched()}},{key:"handleKeyDown",value:function(t){if(this.isPopupOpen())switch(t.which){case ci.ArrowDown:t.preventDefault(),this._windowRef.instance.next(),this._showHint();break;case ci.ArrowUp:t.preventDefault(),this._windowRef.instance.prev(),this._showHint();break;case ci.Enter:case ci.Tab:var e=this._windowRef.instance.getActive();Ir(e)&&(t.preventDefault(),t.stopPropagation(),this._selectResult(e)),this._closePopup()}}},{key:"_openPopup",value:function(){var t=this;this.isPopupOpen()||(this._inputValueBackup=this._elementRef.nativeElement.value,this._windowRef=this._popupService.open(),this._windowRef.instance.id=this.popupId,this._windowRef.instance.selectEvent.subscribe(function(e){return t._selectResultClosePopup(e)}),this._windowRef.instance.activeChangeEvent.subscribe(function(e){return t.activeDescendant=e}),"body"===this.container&&window.document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._changeDetector.markForCheck(),bi(this._ngZone,this._document,"outside",function(){return t.dismissPopup()},this._closed$,[this._elementRef.nativeElement,this._windowRef.location.nativeElement]))}},{key:"_closePopup",value:function(){this._closed$.next(),this._popupService.close(),this._windowRef=null,this.activeDescendant=void 0}},{key:"_selectResult",value:function(t){var e=!1;this.selectItem.emit({item:t,preventDefault:function(){e=!0}}),this._resubscribeTypeahead.next(null),e||(this.writeValue(t),this._onChange(t))}},{key:"_selectResultClosePopup",value:function(t){this._selectResult(t),this._closePopup()}},{key:"_showHint",value:function(){if(this.showHint&&this._windowRef.instance.hasActive()&&null!=this._inputValueBackup){var t=this._inputValueBackup.toLowerCase(),e=this._formatItemForInput(this._windowRef.instance.getActive());t===e.substr(0,this._inputValueBackup.length).toLowerCase()?(this._writeInputValue(this._inputValueBackup+e.substr(this._inputValueBackup.length)),this._elementRef.nativeElement.setSelectionRange.apply(this._elementRef.nativeElement,[this._inputValueBackup.length,e.length])):this._writeInputValue(e)}}},{key:"_formatItemForInput",value:function(t){return null!=t&&this.inputFormatter?this.inputFormatter(t):_r(t)}},{key:"_writeInputValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",_r(t))}},{key:"_subscribeToUserInput",value:function(t){var e=this;return t.subscribe(function(t){t&&0!==t.length?(e._openPopup(),e._windowRef.instance.focusFirst=e.focusFirst,e._windowRef.instance.results=t,e._windowRef.instance.term=e._elementRef.nativeElement.value,e.resultFormatter&&(e._windowRef.instance.formatter=e.resultFormatter),e.resultTemplate&&(e._windowRef.instance.resultTemplate=e.resultTemplate),e._windowRef.instance.resetActive(),e._windowRef.changeDetectorRef.detectChanges(),e._showHint()):e._closePopup();var n=t?t.length:0;e._live.say(0===n?"No results available":"".concat(n," result").concat(1===n?"":"s"," available"))})}},{key:"_unsubscribeFromUserInput",value:function(){this._subscription&&this._subscription.unsubscribe(),this._subscription=null}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.m),r.Nb(r.R),r.Nb(r.F),r.Nb(r.t),r.Nb(r.k),r.Nb(Ro),r.Nb(r.B),r.Nb(Do),r.Nb(y),r.Nb(r.B),r.Nb(r.i),r.Nb(r.g))},t.\u0275dir=r.Ib({type:t,selectors:[["input","ngbTypeahead",""]],hostAttrs:["autocapitalize","off","autocorrect","off","role","combobox","aria-multiline","false"],hostVars:7,hostBindings:function(t,e){1&t&&r.cc("blur",function(){return e.handleBlur()})("keydown",function(t){return e.handleKeyDown(t)}),2&t&&(r.Vb("autocomplete",e.autocomplete),r.Bb("aria-autocomplete",e.showHint?"both":"list")("aria-activedescendant",e.activeDescendant)("aria-owns",e.isPopupOpen()?e.popupId:null)("aria-expanded",e.isPopupOpen()),r.Fb("open",e.isPopupOpen()))},inputs:{autocomplete:"autocomplete",placement:"placement",container:"container",editable:"editable",focusFirst:"focusFirst",showHint:"showHint",inputFormatter:"inputFormatter",ngbTypeahead:"ngbTypeahead",resultFormatter:"resultFormatter",resultTemplate:"resultTemplate"},outputs:{selectItem:"selectItem"},exportAs:["ngbTypeahead"],features:[r.zb([Po])]}),t=Ne([De(8,Object(r.r)(y))],t)}(),Fo=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[At]]}),t}(),Vo=[Cr,xr,Mr,Fr,Ur,Ni,Ri,Gi,Qi,Yi,no,oo,co,Oo,ko,Eo,Fo,lo],Uo=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[Vo,Cr,xr,Mr,Fr,Ur,Ni,Ri,Gi,Qi,Yi,no,oo,co,Oo,ko,Eo,Fo,lo]}),t}(),qo=r.Ub(Kr),Bo=r.Ub(oi),Ho=r.Ub(Si),Wo=r.Ub(Ii),zo=r.Ub(bo),Ko=n("rePB"),Go=n("LRne"),Qo=n("sVev"),Yo=n("NXyV"),Jo=n("EY2u"),Zo=n("0EUg"),Xo=n("NJ9Y"),$o=n("Kqap"),ta=n("JIr8"),ea=n("bOdf"),na=n("SxV6"),ra=n("7wxJ"),ia=n("5+tZ"),oa=n("BFxc"),aa=n("nYR2"),sa=n("bHdf"),ua=function t(e,n){Object(u.a)(this,t),this.id=e,this.url=n},ca=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Object(u.a)(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=a,i}return Object(c.a)(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(ua),la=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t,r,i){var o;return Object(u.a)(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return Object(c.a)(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(ua),ha=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t,r,i){var o;return Object(u.a)(this,n),(o=e.call(this,t,r)).reason=i,o}return Object(c.a)(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(ua),fa=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t,r,i){var o;return Object(u.a)(this,n),(o=e.call(this,t,r)).error=i,o}return Object(c.a)(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(ua),da=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t,r,i,o){var a;return Object(u.a)(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return Object(c.a)(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ua),pa=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t,r,i,o){var a;return Object(u.a)(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return Object(c.a)(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ua),va=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t,r,i,o,a){var s;return Object(u.a)(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return Object(c.a)(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(ua),ba=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t,r,i,o){var a;return Object(u.a)(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return Object(c.a)(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ua),ya=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t,r,i,o){var a;return Object(u.a)(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return Object(c.a)(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ua),ga=function(){function t(e){Object(u.a)(this,t),this.route=e}return Object(c.a)(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),ma=function(){function t(e){Object(u.a)(this,t),this.route=e}return Object(c.a)(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),wa=function(){function t(e){Object(u.a)(this,t),this.snapshot=e}return Object(c.a)(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),_a=function(){function t(e){Object(u.a)(this,t),this.snapshot=e}return Object(c.a)(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Oa=function(){function t(e){Object(u.a)(this,t),this.snapshot=e}return Object(c.a)(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),ka=function(){function t(e){Object(u.a)(this,t),this.snapshot=e}return Object(c.a)(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),ja=function(){function t(e,n,r){Object(u.a)(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return Object(c.a)(t,[{key:"toString",value:function(){var t=this.position?"".concat(this.position[0],", ").concat(this.position[1]):null;return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(t,"')")}}]),t}(),Sa="primary",Ia=function(){function t(e){Object(u.a)(this,t),this.params=e||{}}return Object(c.a)(t,[{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.params,t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function Ta(t){return new Ia(t)}function Ea(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Ca(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function xa(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!Aa(t[n=r[o]],e[n]))return!1;return!0}function Aa(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;var n=Object(ve.a)(t).sort(),r=Object(ve.a)(e).sort();return n.every(function(t,e){return r[e]===t})}return t===e}function Na(t){return Array.prototype.concat.apply([],t)}function Da(t){return t.length>0?t[t.length-1]:null}function Ra(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Pa(t){return Object(r.rb)(t)?t:Object(r.sb)(t)?Object(be.a)(Promise.resolve(t)):Object(Go.a)(t)}function La(t,e,n){return n?function(t,e){return xa(t,e)}(t.queryParams,e.queryParams)&&Ma(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return Aa(t[n],e[n])})}(t.queryParams,e.queryParams)&&Fa(t.root,e.root)}function Ma(t,e){if(!Ha(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var n in e.children){if(!t.children[n])return!1;if(!Ma(t.children[n],e.children[n]))return!1}return!0}function Fa(t,e){return Va(t,e,e.segments)}function Va(t,e,n){if(t.segments.length>n.length)return!!Ha(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Ha(t.segments,n))return!1;for(var r in e.children){if(!t.children[r])return!1;if(!Fa(t.children[r],e.children[r]))return!1}return!0}var i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!Ha(t.segments,i)&&!!t.children.primary&&Va(t.children.primary,e,o)}var Ua=function(){function t(e,n,r){Object(u.a)(this,t),this.root=e,this.queryParams=n,this.fragment=r}return Object(c.a)(t,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Ta(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return Ga.serialize(this)}}]),t}(),qa=function(){function t(e,n){var r=this;Object(u.a)(this,t),this.segments=e,this.children=n,this.parent=null,Ra(n,function(t,e){return t.parent=r})}return Object(c.a)(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return Qa(this)}}]),t}(),Ba=function(){function t(e,n){Object(u.a)(this,t),this.path=e,this.parameters=n}return Object(c.a)(t,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Ta(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return es(this)}}]),t}();function Ha(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function Wa(t,e){var n=[];return Ra(t.children,function(t,r){r===Sa&&(n=n.concat(e(t,r)))}),Ra(t.children,function(t,r){r!==Sa&&(n=n.concat(e(t,r)))}),n}var za=function t(){Object(u.a)(this,t)},Ka=function(){function t(){Object(u.a)(this,t)}return Object(c.a)(t,[{key:"parse",value:function(t){var e=new as(t);return new Ua(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){var e,n,r="/".concat(Ya(t.root,!0)),i=(e=t.queryParams,(n=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return"".concat(Za(t),"=").concat(Za(e))}).join("&"):"".concat(Za(t),"=").concat(Za(n))})).length?"?".concat(n.join("&")):""),o="string"==typeof t.fragment?"#".concat(encodeURI(t.fragment)):"";return"".concat(r).concat(i).concat(o)}}]),t}(),Ga=new Ka;function Qa(t){return t.segments.map(function(t){return es(t)}).join("/")}function Ya(t,e){if(!t.hasChildren())return Qa(t);if(e){var n=t.children.primary?Ya(t.children.primary,!1):"",r=[];return Ra(t.children,function(t,e){e!==Sa&&r.push("".concat(e,":").concat(Ya(t,!1)))}),r.length>0?"".concat(n,"(").concat(r.join("//"),")"):n}var i=Wa(t,function(e,n){return n===Sa?[Ya(t.children.primary,!1)]:["".concat(n,":").concat(Ya(e,!1))]});return 1===Object.keys(t.children).length&&null!=t.children.primary?"".concat(Qa(t),"/").concat(i[0]):"".concat(Qa(t),"/(").concat(i.join("//"),")")}function Ja(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Za(t){return Ja(t).replace(/%3B/gi,";")}function Xa(t){return Ja(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $a(t){return decodeURIComponent(t)}function ts(t){return $a(t.replace(/\+/g,"%20"))}function es(t){return"".concat(Xa(t.path)).concat((e=t.parameters,Object.keys(e).map(function(t){return";".concat(Xa(t),"=").concat(Xa(e[t]))}).join("")));var e}var ns=/^[^\/()?;=#]+/;function rs(t){var e=t.match(ns);return e?e[0]:""}var is=/^[^=?&#]+/,os=/^[^?&#]+/,as=function(){function t(e){Object(u.a)(this,t),this.url=e,this.remaining=e}return Object(c.a)(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qa([],{}):new qa([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new qa(t,e)),n}},{key:"parseSegment",value:function(){var t=rs(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new Ba($a(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=rs(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=rs(this.remaining);r&&this.capture(n=r)}t[$a(e)]=$a(n)}}},{key:"parseQueryParam",value:function(t){var e,n=(e=this.remaining.match(is))?e[0]:"";if(n){this.capture(n);var r="";if(this.consumeOptional("=")){var i=function(t){var e=t.match(os);return e?e[0]:""}(this.remaining);i&&this.capture(r=i)}var o=ts(n),a=ts(r);if(t.hasOwnProperty(o)){var s=t[o];Array.isArray(s)||(t[o]=s=[s]),s.push(a)}else t[o]=a}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=rs(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Sa);var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new qa([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),ss=function(){function t(e){Object(u.a)(this,t),this._root=e}return Object(c.a)(t,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=us(t,this._root);return e?e.children.map(function(t){return t.value}):[]}},{key:"firstChild",value:function(t){var e=us(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=cs(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})}},{key:"pathFromRoot",value:function(t){return cs(t,this._root).map(function(t){return t.value})}}]),t}();function us(t,e){if(t===e.value)return e;var n,r=Object(f.a)(e.children);try{for(r.s();!(n=r.n()).done;){var i=us(t,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function cs(t,e){if(t===e.value)return[e];var n,r=Object(f.a)(e.children);try{for(r.s();!(n=r.n()).done;){var i=cs(t,n.value);if(i.length)return i.unshift(e),i}}catch(o){r.e(o)}finally{r.f()}return[]}var ls=function(){function t(e,n){Object(u.a)(this,t),this.value=e,this.children=n}return Object(c.a)(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function hs(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var fs=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t,r){var i;return Object(u.a)(this,n),(i=e.call(this,t)).snapshot=r,ms(Object(pe.a)(i),t),i}return Object(c.a)(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(ss);function ds(t,e){var n=function(t,e){var n=new ys([],{},{},"",{},Sa,e,null,t.root,-1,{});return new gs("",new ls(n,[]))}(t,e),r=new on.a([new Ba("",{})]),i=new on.a({}),o=new on.a({}),a=new on.a({}),s=new on.a(""),u=new ps(r,i,a,s,o,Sa,e,n.root);return u.snapshot=n.root,new fs(new ls(u,[]),n)}var ps=function(){function t(e,n,r,i,o,a,s,c){Object(u.a)(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=c}return Object(c.a)(t,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(ye.a)(function(t){return Ta(t)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(ye.a)(function(t){return Ta(t)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),t}();function vs(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return bs(n.slice(r))}function bs(t){return t.reduce(function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}},{params:{},data:{},resolve:{}})}var ys=function(){function t(e,n,r,i,o,a,s,c,l,h,f){Object(u.a)(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=c,this._urlSegment=l,this._lastPathIndex=h,this._resolve=f}return Object(c.a)(t,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Ta(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Ta(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){var t=this.url.map(function(t){return t.toString()}).join("/"),e=this.routeConfig?this.routeConfig.path:"";return"Route(url:'".concat(t,"', path:'").concat(e,"')")}}]),t}(),gs=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t,r){var i;return Object(u.a)(this,n),(i=e.call(this,r)).url=t,ms(Object(pe.a)(i),r),i}return Object(c.a)(n,[{key:"toString",value:function(){return ws(this._root)}}]),n}(ss);function ms(t,e){e.value._routerState=t,e.children.forEach(function(e){return ms(t,e)})}function ws(t){var e=t.children.length>0?" { ".concat(t.children.map(ws).join(", ")," } "):"";return"".concat(t.value).concat(e)}function _s(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,xa(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),xa(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!xa(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),xa(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Os(t,e){return xa(t.params,e.params)&&function(t,e){return Ha(t,e)&&t.every(function(t,n){return xa(t.parameters,e[n].parameters)})}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Os(t.parent,e.parent))}function ks(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=e.value;var i=function(t,e,n){return e.children.map(function(e){var r,i=Object(f.a)(n.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(t.shouldReuseRoute(e.value,o.value.snapshot))return ks(t,e,o)}}catch(a){i.e(a)}finally{i.f()}return ks(t,e)})}(t,e,n);return new ls(r,i)}var o=t.retrieve(e.value);if(o){var a=o.route;return js(e,a),a}var s,u=new ps(new on.a((s=e.value).url),new on.a(s.params),new on.a(s.queryParams),new on.a(s.fragment),new on.a(s.data),s.outlet,s.component,s),c=e.children.map(function(e){return ks(t,e)});return new ls(u,c)}function js(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)js(t.children[n],e.children[n])}function Ss(t,e,n,r,i){if(0===n.length)return Es(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new xs(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Ra(r.outlets,function(t,e){o[e]="string"==typeof t?t.split("/"):t}),[].concat(Object(ve.a)(t),[{outlets:o}])}if(r.segmentPath)return[].concat(Object(ve.a)(t),[r.segmentPath])}return"string"!=typeof r?[].concat(Object(ve.a)(t),[r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[].concat(Object(ve.a)(t),[r])},[]);return new xs(n,e,r)}(n);if(o.toRoot())return Es(e.root,new qa([],{}),e,r,i);var a=function(t,e,n){if(t.isAbsolute)return new As(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new As(r,r===e.root,0)}var i=Is(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new As(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(o,e,t),s=a.processChildren?Ds(a.segmentGroup,a.index,o.commands):Ns(a.segmentGroup,a.index,o.commands);return Es(a.segmentGroup,s,e,r,i)}function Is(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ts(t){return"object"==typeof t&&null!=t&&t.outlets}function Es(t,e,n,r,i){var o={};return r&&Ra(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return"".concat(t)}):"".concat(t)}),new Ua(n.root===t?e:Cs(n.root,t,e),o,i)}function Cs(t,e,n){var r={};return Ra(t.children,function(t,i){r[i]=t===e?n:Cs(t,e,n)}),new qa(t.segments,r)}var xs=function(){function t(e,n,r){if(Object(u.a)(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Is(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find(Ts);if(i&&i!==Da(r))throw new Error("{outlets:{}} has to be the last command")}return Object(c.a)(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),As=function t(e,n,r){Object(u.a)(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function Ns(t,e,n){if(t||(t=new qa([],{})),0===t.segments.length&&t.hasChildren())return Ds(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=n[r];if(Ts(s))break;var u="".concat(s),c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!Ms(u,c,a))return o;r+=2}else{if(!Ms(u,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new qa(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new qa(t.segments.slice(r.pathIndex),t.children),Ds(o,0,i)}return r.match&&0===i.length?new qa(t.segments,{}):r.match&&!t.hasChildren()?Rs(t,e,n):r.match?Ds(t,0,i):Rs(t,e,n)}function Ds(t,e,n){if(0===n.length)return new qa(t.segments,{});var r=function(t){return Ts(t[0])?t[0].outlets:Object(Ko.a)({},Sa,t)}(n),i={};return Ra(r,function(n,r){"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Ns(t.children[r],e,n))}),Ra(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new qa(t.segments,i)}function Rs(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){var o=n[i];if(Ts(o)){var a=Ps(o.outlets);return new qa(r,a)}if(0===i&&Is(n[0]))r.push(new Ba(t.segments[e].path,n[0])),i++;else{var s=Ts(o)?o.outlets.primary:"".concat(o),u=i<n.length-1?n[i+1]:null;s&&u&&Is(u)?(r.push(new Ba(s,Ls(u))),i+=2):(r.push(new Ba(s,{})),i++)}}return new qa(r,{})}function Ps(t){var e={};return Ra(t,function(t,n){"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Rs(new qa([],{}),0,t))}),e}function Ls(t){var e={};return Ra(t,function(t,n){return e[n]="".concat(t)}),e}function Ms(t,e,n){return t==n.path&&xa(e,n.parameters)}var Fs=function(){function t(e,n,r,i){Object(u.a)(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return Object(c.a)(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),_s(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=hs(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),Ra(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=hs(t),o=t.value.component?r.children:e;Ra(i,function(t,e){return n.deactivateRouteAndItsChildren(t,o)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=hs(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new ka(t.value.snapshot))}),t.children.length&&this.forwardEvent(new _a(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(_s(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Vs(s.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function Vs(t){_s(t.value),t.children.forEach(Vs)}var Us=function t(e,n){Object(u.a)(this,t),this.routes=e,this.module=n};function qs(t){return"function"==typeof t}function Bs(t){return t instanceof Ua}var Hs=Symbol("INITIAL_VALUE");function Ws(){return Object(dn.a)(function(t){return an.b.apply(void 0,Object(ve.a)(t.map(function(t){return t.pipe(Object(bn.a)(1),Object(hn.a)(Hs))}))).pipe(Object($o.a)(function(t,e){var n=!1;return e.reduce(function(t,r,i){if(t!==Hs)return t;if(r===Hs&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Bs(r))return r}return t},t)},Hs),Object(vn.a)(function(t){return t!==Hs}),Object(ye.a)(function(t){return Bs(t)?t:!0===t}),Object(bn.a)(1))})}var zs=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Ob(0,"router-outlet")},directives:function(){return[Vu]},encapsulation:2}),t}();function Ks(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n],i=Qs(e,r);Gs(r,i)}}function Gs(t,e){t.children&&Ks(t.children,e)}function Qs(t,e){return e?t||e.path?t&&!e.path?"".concat(t,"/"):!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function Ys(t){var e=t.children&&t.children.map(Ys),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Sa&&(n.component=zs),n}function Js(t){return t.outlet||Sa}var Zs=function t(e){Object(u.a)(this,t),this.segmentGroup=e||null},Xs=function t(e){Object(u.a)(this,t),this.urlTree=e};function $s(t){return new ln.a(function(e){return e.error(new Zs(t))})}function tu(t){return new ln.a(function(e){return e.error(new Xs(t))})}function eu(t){return new ln.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))})}var nu=function(){function t(e,n,i,o,a){Object(u.a)(this,t),this.configLoader=n,this.urlSerializer=i,this.urlTree=o,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(r.z)}return Object(c.a)(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Sa).pipe(Object(ye.a)(function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)})).pipe(Object(ta.a)(function(e){if(e instanceof Xs)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Zs)throw t.noMatchError(e);throw e}))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,Sa).pipe(Object(ye.a)(function(n){return e.createUrlTree(n,t.queryParams,t.fragment)})).pipe(Object(ta.a)(function(t){if(t instanceof Zs)throw e.noMatchError(t);throw t}))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new qa([],Object(Ko.a)({},Sa,t)):t;return new Ua(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(ye.a)(function(t){return new qa([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(Go.a)({});var o=[],a=[],s={};return Ra(n,function(n,i){var u,c,l=(u=i,c=n,r.expandSegmentGroup(t,e,c,u)).pipe(Object(ye.a)(function(t){return s[i]=t}));i===Sa?o.push(l):a.push(l)}),Go.a.apply(null,o.concat(a)).pipe(Object(Zo.a)(),Object(Xo.a)(),Object(ye.a)(function(){return s}))}(n.children)}},{key:"expandSegment",value:function(t,e,n,r,i,o){var a=this,s=function(t){return t.reduce(function(t,e){var n=Js(e);return t.has(n)?t.get(n).push(e):t.set(n,[e]),t},new Map)}(n);s.has(i)||s.set(i,[]);var u=Array.from(s.entries()).map(function(n){var s=Object(d.a)(n,2),u=s[0],c=function(n){return Object(be.a)(n).pipe(Object(ea.a)(function(s){return a.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Object(ta.a)(function(t){if(t instanceof Zs)return Object(Go.a)(null);throw t}))}),Object(na.a)(function(t){return null!==t}),Object(ta.a)(function(t){if(t instanceof Qo.a||"EmptyError"===t.name){if(a.noLeftoversInUrl(e,r,i))return Object(Go.a)(new qa([],{}));throw new Zs(e)}throw t}))}(s[1]);return u===i?c:c.pipe(Object(ye.a)(function(){return null}),Object(ta.a)(function(){return Object(Go.a)(null)}))});return Object(be.a)(u).pipe(Object(ra.a)(),Object(na.a)(),Object(ye.a)(function(t){return t.find(function(t){return null!==t})}))}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,a){return Js(r)!==o&&""!==r.path?$s(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):$s(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?tu(o):this.lineralizeSegments(n,o).pipe(Object(ia.b)(function(n){var o=new qa(n,{});return i.expandSegment(t,o,e,n,r,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var a=this,s=ru(e,r,i),u=s.consumedSegments,c=s.lastChild,l=s.positionalParamSegments;if(!s.matched)return $s(e);var h=this.applyRedirectCommands(u,r.redirectTo,l);return r.redirectTo.startsWith("/")?tu(h):this.lineralizeSegments(r,h).pipe(Object(ia.b)(function(r){return a.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(ye.a)(function(t){return n._loadedConfig=t,new qa(r,{})})):Object(Go.a)(new qa(r,{}));var o=ru(e,n,r),a=o.consumedSegments,s=o.lastChild;if(!o.matched)return $s(e);var u=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(ia.b)(function(t){var n=t.module,r=t.routes,o=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(function(n){return ou(t,e,n)&&Js(n)!==Sa})}(t,n,r)?{segmentGroup:iu(new qa(e,function(t,e){var n={};n.primary=e;var r,i=Object(f.a)(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&Js(o)!==Sa&&(n[Js(o)]=new qa([],{}))}}catch(a){i.e(a)}finally{i.f()}return n}(r,new qa(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(function(n){return ou(t,e,n)})}(t,n,r)?{segmentGroup:iu(new qa(t.segments,function(t,e,n,r){var i,o={},a=Object(f.a)(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;ou(t,e,s)&&!r[Js(s)]&&(o[Js(s)]=new qa([],{}))}}catch(u){a.e(u)}finally{a.f()}return Object.assign(Object.assign({},r),o)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,a,u,r),s=o.segmentGroup,c=o.slicedSegments;return 0===c.length&&s.hasChildren()?i.expandChildren(n,r,s).pipe(Object(ye.a)(function(t){return new qa(a,t)})):0===r.length&&0===c.length?Object(Go.a)(new qa(a,{})):i.expandSegment(n,s,r,c,Sa,!0).pipe(Object(ye.a)(function(t){return new qa(a.concat(t.segments),t.children)}))}))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?Object(Go.a)(new Us(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Go.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(ia.b)(function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(ye.a)(function(t){return e._loadedConfig=t,t})):function(t){return new ln.a(function(e){return e.error(Ea("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))})}(e)})):Object(Go.a)(new Us([],t))}},{key:"runCanLoadGuards",value:function(t,e,n){var r=this,i=e.canLoad;if(!i||0===i.length)return Object(Go.a)(!0);var o=i.map(function(r){var i,o=t.get(r);if(function(t){return t&&qs(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!qs(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return Pa(i)});return Object(Go.a)(o).pipe(Ws(),Object(yn.a)(function(t){if(Bs(t)){var e=Ea('Redirecting to "'.concat(r.urlSerializer.serialize(t),'"'));throw e.url=t,e}}),Object(ye.a)(function(t){return!0===t}))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Go.a)(n);if(r.numberOfChildren>1||!r.children.primary)return eu(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new Ua(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return Ra(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return Ra(e.children,function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)}),new qa(o,a)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n,r=0,i=Object(f.a)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return t}}]),t}();function ru(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||Ca)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function iu(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new qa(t.segments.concat(e.segments),e.children)}return t}function ou(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}var au=function t(e){Object(u.a)(this,t),this.path=e,this.route=this.path[this.path.length-1]},su=function t(e,n){Object(u.a)(this,t),this.component=e,this.route=n};function uu(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function cu(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=hs(e);return t.children.forEach(function(t){lu(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Ra(o,function(t,e){return fu(t,n.getContext(e),i)}),i}function lu(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var u=hu(a,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new au(r)):(o.data=a.data,o._resolvedData=a._resolvedData),cu(t,e,o.component?s?s.children:null:n,r,i),u&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new su(s.outlet.component,a))}else a&&fu(e,s,i),i.canActivateChecks.push(new au(r)),cu(t,null,o.component?s?s.children:null:n,r,i);return i}function hu(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ha(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ha(t.url,e.url)||!xa(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Os(t,e)||!xa(t.queryParams,e.queryParams);case"paramsChange":default:return!Os(t,e)}}function fu(t,e,n){var r=hs(t),i=t.value;Ra(r,function(t,r){fu(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new su(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function du(t,e){return null!==t&&e&&e(new Oa(t)),Object(Go.a)(!0)}function pu(t,e){return null!==t&&e&&e(new wa(t)),Object(Go.a)(!0)}function vu(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Go.a)(!0);var i=r.map(function(r){return Object(Yo.a)(function(){var i,o=uu(r,e,n);if(function(t){return t&&qs(t.canActivate)}(o))i=Pa(o.canActivate(e,t));else{if(!qs(o))throw new Error("Invalid CanActivate guard");i=Pa(o(e,t))}return i.pipe(Object(na.a)())})});return Object(Go.a)(i).pipe(Ws())}function bu(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return Object(Yo.a)(function(){var i=e.guards.map(function(i){var o,a=uu(i,e.node,n);if(function(t){return t&&qs(t.canActivateChild)}(a))o=Pa(a.canActivateChild(r,t));else{if(!qs(a))throw new Error("Invalid CanActivateChild guard");o=Pa(a(r,t))}return o.pipe(Object(na.a)())});return Object(Go.a)(i).pipe(Ws())})});return Object(Go.a)(i).pipe(Ws())}var yu=function t(){Object(u.a)(this,t)},gu=function(){function t(e,n,r,i,o,a){Object(u.a)(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return Object(c.a)(t,[{key:"recognize",value:function(){try{var t=_u(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Sa),n=new ys([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Sa,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ls(n,e),i=new gs(this.url,r);return this.inheritParamsAndData(i._root),Object(Go.a)(i)}catch(Ck){return new ln.a(function(e){return e.error(Ck)})}}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=vs(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){var n,r=this,i=Wa(e,function(e,n){return r.processSegmentGroup(t,e,n)});return n={},i.forEach(function(t){var e=n[t.value.outlet];if(e){var r=e.url.map(function(t){return t.toString()}).join("/"),i=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[t.value.outlet]=t.value}),i.sort(function(t,e){return t.value.outlet===Sa?-1:e.value.outlet===Sa?1:t.value.outlet.localeCompare(e.value.outlet)}),i}},{key:"processSegment",value:function(t,e,n,r){var i,o=Object(f.a)(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{return this.processSegmentAgainstRoute(a,e,n,r)}catch(Ck){if(!(Ck instanceof yu))throw Ck}}}catch(s){o.e(s)}finally{o.f()}if(this.noLeftoversInUrl(e,n,r))return[];throw new yu}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo)throw new yu;if((t.outlet||Sa)!==r)throw new yu;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?Da(n).parameters:{};i=new ys(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ku(t),r,t.component,t,mu(e),wu(e)+n.length,ju(t))}else{var u=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new yu;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||Ca)(n,t,e);if(!r)throw new yu;var i={};Ra(r.posParams,function(t,e){i[e]=t.path});var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=u.consumedSegments,a=n.slice(u.lastChild),i=new ys(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ku(t),r,t.component,t,mu(e),wu(e)+o.length,ju(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=_u(e,o,a,c,this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return[new ls(i,d)]}if(0===c.length&&0===f.length)return[new ls(i,[])];var p=this.processSegment(c,h,f,Sa);return[new ls(i,p)]}}]),t}();function mu(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function wu(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function _u(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(function(n){return Ou(t,e,n)&&Js(n)!==Sa})}(t,n,r)){var o=new qa(e,function(t,e,n,r){var i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var o,a=Object(f.a)(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&Js(s)!==Sa){var u=new qa([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,i[Js(s)]=u}}}catch(c){a.e(c)}finally{a.f()}return i}(t,e,r,new qa(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(function(n){return Ou(t,e,n)})}(t,n,r)){var a=new qa(t.segments,function(t,e,n,r,i,o){var a,s={},u=Object(f.a)(r);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(Ou(t,n,c)&&!i[Js(c)]){var l=new qa([],{});l._sourceSegment=t,l._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Js(c)]=l}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var s=new qa(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Ou(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function ku(t){return t.data||{}}function ju(t){return t.resolve||{}}function Su(t){return function(e){return e.pipe(Object(dn.a)(function(e){var n=t(e);return n?Object(be.a)(n).pipe(Object(ye.a)(function(){return e})):Object(be.a)([e])}))}}var Iu=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return n}(function(){function t(){Object(u.a)(this,t)}return Object(c.a)(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}()),Tu=new r.s("ROUTES"),Eu=function(){function t(e,n,r,i){Object(u.a)(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return Object(c.a)(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(ye.a)(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new Us(Na(i.injector.get(Tu)).map(Ys),i)}))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Object(be.a)(this.loader.load(t)):Pa(t()).pipe(Object(ia.b)(function(t){return t instanceof r.x?Object(Go.a)(t):Object(be.a)(e.compiler.compileModuleAsync(t))}))}}]),t}(),Cu=function t(){Object(u.a)(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new xu,this.attachRef=null},xu=function(){function t(){Object(u.a)(this,t),this.contexts=new Map}return Object(c.a)(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new Cu,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),Au=function(){function t(){Object(u.a)(this,t)}return Object(c.a)(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function Nu(t){throw t}function Du(t,e,n){return e.parse("/")}function Ru(t,e){return Object(Go.a)(null)}var Pu=function(){var t=function(){function t(e,n,i,o,a,s,c,l){var h=this;Object(u.a)(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=i,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new rn.a,this.errorHandler=Nu,this.malformedUriErrorHandler=Du,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ru,afterPreactivation:Ru},this.urlHandlingStrategy=new Au,this.routeReuseStrategy=new Iu,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=a.get(r.z),this.console=a.get(r.Z);var f=a.get(r.B);this.isNgZoneEnabled=f instanceof r.B,this.resetConfig(l),this.currentUrlTree=new Ua(new qa([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Eu(s,c,function(t){return h.triggerEvent(new ga(t))},function(t){return h.triggerEvent(new ma(t))}),this.routerState=ds(this.currentUrlTree,this.rootComponentType),this.transitions=new on.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return Object(c.a)(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(Object(vn.a)(function(t){return 0!==t.id}),Object(ye.a)(function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),Object(dn.a)(function(t){var r,i,o,a=!1,s=!1;return Object(Go.a)(t).pipe(Object(yn.a)(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(dn.a)(function(t){var r,i,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Go.a)(t).pipe(Object(dn.a)(function(t){var r=e.transitions.getValue();return n.next(new ca(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?Jo.a:[t]}),Object(dn.a)(function(t){return Promise.resolve(t)}),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,a=e.config,function(t){return t.pipe(Object(dn.a)(function(t){return function(t,e,n,r,i){return new nu(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,a).pipe(Object(ye.a)(function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})}))}))}),Object(yn.a)(function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,n,r,i,o){return function(r){return r.pipe(Object(ia.b)(function(r){return function(t,e,n,r){return new gu(t,e,n,r,arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy").recognize()}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe(Object(ye.a)(function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})}));var a}))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Object(yn.a)(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),Object(yn.a)(function(t){var r=new da(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)}));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.extractedUrl,c=t.source,l=t.restoredState,h=t.extras,f=new ca(t.id,e.serializeUrl(u),c,l);n.next(f);var d=ds(u,e.rootComponentType).snapshot;return Object(Go.a)(Object.assign(Object.assign({},t),{targetSnapshot:d,urlAfterRedirects:u,extras:Object.assign(Object.assign({},h),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Jo.a}),Su(function(t){var n=t.extras;return e.hooks.beforePreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),Object(yn.a)(function(t){var n=new pa(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),Object(ye.a)(function(t){return Object.assign(Object.assign({},t),{guards:(n=t.targetSnapshot,r=t.currentSnapshot,i=e.rootContexts,o=n._root,cu(o,r?r._root:null,i,[o.value]))});var n,r,i,o}),function(t,e){return function(n){return n.pipe(Object(ia.b)(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Object(Go.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(be.a)(t).pipe(Object(ia.b)(function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Go.a)(!0);var a=o.map(function(o){var a,s=uu(o,e,i);if(function(t){return t&&qs(t.canDeactivate)}(s))a=Pa(s.canDeactivate(t,e,n,r));else{if(!qs(s))throw new Error("Invalid CanDeactivate guard");a=Pa(s(t,e,n,r))}return a.pipe(Object(na.a)())});return Object(Go.a)(a).pipe(Ws())}(t.component,t.route,n,e,r)}),Object(na.a)(function(t){return!0!==t},!0))}(s,r,i,t).pipe(Object(ia.b)(function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(be.a)(e).pipe(Object(ea.a)(function(e){return Object(be.a)([pu(e.route.parent,r),du(e.route,r),bu(t,e.path,n),vu(t,e.route,n)]).pipe(Object(Zo.a)(),Object(na.a)(function(t){return!0!==t},!0))}),Object(na.a)(function(t){return!0!==t},!0))}(r,a,t,e):Object(Go.a)(n)}),Object(ye.a)(function(t){return Object.assign(Object.assign({},n),{guardsResult:t})}))}))}}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),Object(yn.a)(function(t){if(Bs(t.guardsResult)){var n=Ea('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}}),Object(yn.a)(function(t){var n=new va(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)}),Object(vn.a)(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new ha(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0}),Su(function(t){if(t.guards.canActivateChecks.length)return Object(Go.a)(t).pipe(Object(yn.a)(function(t){var n=new ba(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),Object(dn.a)(function(t){var r,i,o=!1;return Object(Go.a)(t).pipe((r=e.paramsInheritanceStrategy,i=e.ngModule.injector,function(t){return t.pipe(Object(ia.b)(function(t){var e=t.targetSnapshot,n=t.guards.canActivateChecks;if(!n.length)return Object(Go.a)(t);var o=0;return Object(be.a)(n).pipe(Object(ea.a)(function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Object(Go.a)({});var o={};return Object(be.a)(i).pipe(Object(ia.b)(function(i){return function(t,e,n,r){var i=uu(t,e,r);return Pa(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(yn.a)(function(t){o[i]=t}))}),Object(oa.a)(1),Object(ia.b)(function(){return Object.keys(o).length===i.length?Object(Go.a)(o):Jo.a}))}(t._resolve,t,e,r).pipe(Object(ye.a)(function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),vs(t,n).resolve),null}))}(t.route,e,r,i)}),Object(yn.a)(function(){return o++}),Object(oa.a)(1),Object(ia.b)(function(e){return o===n.length?Object(Go.a)(t):Jo.a}))}))}),Object(yn.a)({next:function(){return o=!0},complete:function(){if(!o){var r=new ha(t.id,e.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");n.next(r),t.resolve(!1)}}}))}),Object(yn.a)(function(t){var n=new ya(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}))}),Su(function(t){var n=t.extras;return e.hooks.afterPreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),Object(ye.a)(function(t){var n,r,i,o=(i=ks(e.routeReuseStrategy,(n=t.targetSnapshot)._root,(r=t.currentRouterState)?r._root:void 0),new fs(i,n));return Object.assign(Object.assign({},t),{targetRouterState:o})}),Object(yn.a)(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),(r=e.rootContexts,i=e.routeReuseStrategy,o=function(t){return e.triggerEvent(t)},Object(ye.a)(function(t){return new Fs(i,t.targetRouterState,t.currentRouterState,o).activate(r),t})),Object(yn.a)({next:function(){a=!0},complete:function(){a=!0}}),Object(aa.a)(function(){if(!a&&!s){e.resetUrlToCurrentUrlTree();var r=new ha(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null}),Object(ta.a)(function(r){if(s=!0,(u=r)&&u.ngNavigationCancelingError){var i=Bs(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new ha(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout(function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);return e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new fa(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch($p){t.reject($p)}}var u;return Jo.a}))}))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.extractLocationChangeInfoFromEvent(e);t.shouldScheduleNavigation(t.lastLocationChangeInfo,n)&&setTimeout(function(){var e=n.source,r=n.state,i=n.urlTree,o={replaceUrl:!0};if(r){var a=Object.assign({},r);delete a.navigationId,0!==Object.keys(a).length&&(o.state=a)}t.scheduleNavigation(i,e,r,o)},0),t.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(t,e){if(!t)return!0;var n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){Ks(t),this.config=t.map(Ys),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,r=e.queryParams,i=e.fragment,o=e.queryParamsHandling,a=e.preserveFragment,s=n||this.routerState.root,u=a?this.currentUrlTree.fragment:i,c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),Ss(s,this.currentUrlTree,t,c,u)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=Bs(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return Lu(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(Ck){e=this.malformedUriErrorHandler(Ck,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(Bs(t))return La(this.currentUrlTree,t,e);var n=this.parseUrl(t);return La(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!=r&&(e[n]=r),e},{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new la(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(t,e,n,r,i){var o,a,s,u=this.getTransition(),c="imperative"!==e&&"imperative"===(null==u?void 0:u.source),l=(this.lastSuccessfulId===u.id||this.currentNavigation?u.rawUrl:u.urlAfterRedirects).toString()===t.toString();if(c&&l)return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise(function(t,e){o=t,a=e});var h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(t){return Promise.reject(t)})}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Zb(r.O),r.Zb(za),r.Zb(xu),r.Zb(N),r.Zb(r.t),r.Zb(r.y),r.Zb(r.j),r.Zb(void 0))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t}();function Lu(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}var Mu=function(){var t=function(){function t(e,n,r){var i=this;Object(u.a)(this,t),this.router=e,this.route=n,this.locationStrategy=r,this.commands=[],this.onChanges=new rn.a,this.subscription=e.events.subscribe(function(t){t instanceof la&&i.updateTargetUrlAndHref()})}return Object(c.a)(t,[{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var o={skipLocationChange:Fu(this.skipLocationChange),replaceUrl:Fu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Fu(this.preserveFragment)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(Pu),r.Nb(ps),r.Nb(T))},t.\u0275dir=r.Ib({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.cc("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Vb("href",e.href,r.wc),r.Bb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.yb]}),t}();function Fu(t){return""===t||!!t}var Vu=function(){var t=function(){function t(e,n,i,o,a){Object(u.a)(this,t),this.parentContexts=e,this.location=n,this.resolver=i,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.o,this.deactivateEvents=new r.o,this.name=o||Sa,e.onChildOutletCreated(this.name,this)}return Object(c.a)(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Uu(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(xu),r.Nb(r.R),r.Nb(r.k),r.ac("name"),r.Nb(r.i))},t.\u0275dir=r.Ib({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t}(),Uu=function(){function t(e,n,r){Object(u.a)(this,t),this.route=e,this.childContexts=n,this.parent=r}return Object(c.a)(t,[{key:"get",value:function(t,e){return t===ps?this.route:t===xu?this.childContexts:this.parent.get(t,e)}}]),t}(),qu=function t(){Object(u.a)(this,t)},Bu=function(){function t(){Object(u.a)(this,t)}return Object(c.a)(t,[{key:"preload",value:function(t,e){return e().pipe(Object(ta.a)(function(){return Object(Go.a)(null)}))}}]),t}(),Hu=function(){function t(){Object(u.a)(this,t)}return Object(c.a)(t,[{key:"preload",value:function(t,e){return Object(Go.a)(null)}}]),t}(),Wu=function(){var t=function(){function t(e,n,r,i,o){Object(u.a)(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new Eu(n,r,function(t){return e.triggerEvent(new ga(t))},function(t){return e.triggerEvent(new ma(t))})}return Object(c.a)(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(Object(vn.a)(function(t){return t instanceof la}),Object(ea.a)(function(){return t.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var t=this.injector.get(r.z);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,r=[],i=Object(f.a)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(t,o)):o.children&&r.push(this.processRoutes(t,o.children))}}catch(s){i.e(s)}finally{i.f()}return Object(be.a)(r).pipe(Object(sa.a)(),Object(ye.a)(function(t){}))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return n.loader.load(t.injector,e).pipe(Object(ia.b)(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Zb(Pu),r.Zb(r.y),r.Zb(r.j),r.Zb(r.t),r.Zb(qu))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t}(),zu=function(){var t=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(u.a)(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return Object(c.a)(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof ca?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof la&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof ja&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new ja(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Zb(Pu),r.Zb(Dt),r.Zb(void 0))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t}(),Ku=new r.s("ROUTER_CONFIGURATION"),Gu=new r.s("ROUTER_FORROOT_GUARD"),Qu=[N,{provide:za,useClass:Ka},{provide:Pu,useFactory:function(t,e,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,l=new Pu(null,t,e,n,r,i,o,Na(a));if(u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),ec(s,l),s.enableTracing){var h=v();l.events.subscribe(function(t){h.logGroup("Router Event: ".concat(t.constructor.name)),h.log(t.toString()),h.log(t),h.logGroupEnd()})}return l},deps:[za,xu,N,r.t,r.y,r.j,Tu,Ku,[function t(){Object(u.a)(this,t)},new r.C],[function t(){Object(u.a)(this,t)},new r.C]]},xu,{provide:ps,useFactory:function(t){return t.routerState.root},deps:[Pu]},{provide:r.y,useClass:r.L},Wu,Hu,Bu,{provide:Ku,useValue:{enableTracing:!1}}];function Yu(){return new r.A("Router",Pu)}var Ju=function(){var t=function(){function t(e,n){Object(u.a)(this,t)}return Object(c.a)(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[Qu,tc(e),{provide:Gu,useFactory:$u,deps:[[Pu,new r.C,new r.K]]},{provide:Ku,useValue:n||{}},{provide:T,useFactory:Xu,deps:[g,[new r.r(C),new r.C],Ku]},{provide:zu,useFactory:Zu,deps:[Pu,Dt,Ku]},{provide:qu,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Hu},{provide:r.A,multi:!0,useFactory:Yu},[nc,{provide:r.d,multi:!0,useFactory:rc,deps:[nc]},{provide:oc,useFactory:ic,deps:[nc]},{provide:r.b,multi:!0,useExisting:oc}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[tc(e)]}}}]),t}();return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)(r.Zb(Gu,8),r.Zb(Pu,8))}}),t}();function Zu(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new zu(t,e,n)}function Xu(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new A(t,e):new x(t,e)}function $u(t){return"guarded"}function tc(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Tu,multi:!0,useValue:t}]}function ec(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}var nc=function(){var t=function(){function t(e){Object(u.a)(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new rn.a}return Object(c.a)(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(w,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(Pu),i=t.injector.get(Ku);return"disabled"===i.initialNavigation?(r.setUpLocationChangeListener(),e(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(r.hooks.afterPreactivation=function(){return t.initNavigation?Object(Go.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()):e(!0),n})}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(Ku),n=this.injector.get(Wu),i=this.injector.get(zu),o=this.injector.get(Pu),a=this.injector.get(r.g);t===a.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Zb(r.t))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t}();function rc(t){return t.appInitializer.bind(t)}function ic(t){return t.bootstrapListener.bind(t)}var oc=new r.s("Router Initializer");n("fjAU");var ac=n("D0XW"),sc=n("Zy1z"),uc=n("pxpQ"),cc=n("spgP"),lc=n("Jgta"),hc=n("zIRd"),fc=n("30Go"),dc=n("qOnz"),pc=n("q/0M"),vc=function(t,e){return(vc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function bc(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var yc,gc="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},mc=mc||{},wc=gc||self;function _c(){}function Oc(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function kc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var jc="closure_uid_"+(1e9*Math.random()>>>0),Sc=0;function Ic(t,e,n){return t.call.apply(t.bind,arguments)}function Tc(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ec(t,e,n){return(Ec=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ic:Tc).apply(null,arguments)}function Cc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function xc(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Ac(){this.s=this.s,this.o=this.o}var Nc={};Ac.prototype.s=!1,Ac.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,jc)&&t[jc]||(t[jc]=++Sc)}(this);delete Nc[t]}},Ac.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Dc=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Rc=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Pc(t){return Array.prototype.concat.apply([],arguments)}function Lc(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Mc(t){return/^[\s\xa0]*$/.test(t)}var Fc,Vc=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Uc(t,e){return-1!=t.indexOf(e)}function qc(t,e){return t<e?-1:t>e?1:0}t:{var Bc=wc.navigator;if(Bc){var Hc=Bc.userAgent;if(Hc){Fc=Hc;break t}}Fc=""}function Wc(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function zc(t){var e={};for(var n in t)e[n]=t[n];return e}var Kc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gc(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Kc.length;o++)n=Kc[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Qc(t){return Qc[" "](t),t}Qc[" "]=_c;var Yc,Jc,Zc=Uc(Fc,"Opera"),Xc=Uc(Fc,"Trident")||Uc(Fc,"MSIE"),$c=Uc(Fc,"Edge"),tl=$c||Xc,el=Uc(Fc,"Gecko")&&!(Uc(Fc.toLowerCase(),"webkit")&&!Uc(Fc,"Edge"))&&!(Uc(Fc,"Trident")||Uc(Fc,"MSIE"))&&!Uc(Fc,"Edge"),nl=Uc(Fc.toLowerCase(),"webkit")&&!Uc(Fc,"Edge");function rl(){var t=wc.document;return t?t.documentMode:void 0}t:{var il="",ol=(Jc=Fc,el?/rv:([^\);]+)(\)|;)/.exec(Jc):$c?/Edge\/([\d\.]+)/.exec(Jc):Xc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Jc):nl?/WebKit\/(\S+)/.exec(Jc):Zc?/(?:Version)[ \/]?(\S+)/.exec(Jc):void 0);if(ol&&(il=ol?ol[1]:""),Xc){var al=rl();if(null!=al&&al>parseFloat(il)){Yc=String(al);break t}}Yc=il}var sl={};var ul=wc.document&&Xc&&(rl()||parseInt(Yc,10))||void 0,cl=function(){if(!wc.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{wc.addEventListener("test",_c,e),wc.removeEventListener("test",_c,e)}catch(n){}return t}();function ll(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function hl(t,e){if(ll.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(el){t:{try{Qc(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:fl[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&hl.Z.h.call(this)}}ll.prototype.h=function(){this.defaultPrevented=!0},xc(hl,ll);var fl={2:"touch",3:"pen",4:"mouse"};hl.prototype.h=function(){hl.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var dl="closure_listenable_"+(1e6*Math.random()|0),pl=0;function vl(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++pl,this.ca=this.fa=!1}function bl(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function yl(t){this.src=t,this.g={},this.h=0}function gl(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=Dc(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(bl(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function ml(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}yl.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var a=ml(t,e,r,i);return-1<a?(e=t[a],n||(e.fa=!1)):((e=new vl(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var wl="closure_lm_"+(1e6*Math.random()|0),_l={};function Ol(t,e,n,r,i){if(r&&r.once)return jl(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ol(t,e[o],n,r,i);return null}return n=Al(n),t&&t[dl]?t.N(e,n,kc(r)?!!r.capture:!!r,i):kl(t,e,n,!1,r,i)}function kl(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=kc(i)?!!i.capture:!!i,s=Cl(t);if(s||(t[wl]=s=new yl(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=El;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)cl||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Tl(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function jl(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)jl(t,e[o],n,r,i);return null}return n=Al(n),t&&t[dl]?t.O(e,n,kc(r)?!!r.capture:!!r,i):kl(t,e,n,!0,r,i)}function Sl(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Sl(t,e[o],n,r,i);else r=kc(r)?!!r.capture:!!r,n=Al(n),t&&t[dl]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=ml(o=t.g[e],n,r,i))&&(bl(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=Cl(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ml(e,n,r,i)),(n=-1<t?e[t]:null)&&Il(n))}function Il(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[dl])gl(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Tl(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Cl(e))?(gl(n,t),0==n.h&&(n.src=null,e[wl]=null)):bl(t)}}}function Tl(t){return t in _l?_l[t]:_l[t]="on"+t}function El(t,e){if(t.ca)t=!0;else{e=new hl(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Il(t),t=n.call(r,e)}return t}function Cl(t){return(t=t[wl])instanceof yl?t:null}var xl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Al(t){return"function"==typeof t?t:(t[xl]||(t[xl]=function(e){return t.handleEvent(e)}),t[xl])}function Nl(){Ac.call(this),this.i=new yl(this),this.P=this,this.I=null}function Dl(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new ll(e,t);else if(e instanceof ll)e.target=e.target||t;else{var i=e;Gc(e=new ll(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];i=Rl(a,r,!0,e)&&i}if(i=Rl(a=e.g=t,r,!0,e)&&i,i=Rl(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Rl(a=e.g=n[o],r,!1,e)&&i}function Rl(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&gl(t.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}xc(Nl,Ac),Nl.prototype[dl]=!0,Nl.prototype.removeEventListener=function(t,e,n,r){Sl(this,t,e,n,r)},Nl.prototype.M=function(){if(Nl.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)bl(n[r]);delete e.g[t],e.h--}}this.I=null},Nl.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Nl.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Pl=wc.JSON.stringify;function Ll(){var t=Wl,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Ml,Fl=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Vl.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Vl=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())(function(){return new Ul},function(t){return t.reset()}),Ul=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function ql(t){wc.setTimeout(function(){throw t},0)}function Bl(t,e){Ml||function(){var t=wc.Promise.resolve(void 0);Ml=function(){t.then(zl)}}(),Hl||(Ml(),Hl=!0),Wl.add(t,e)}var Hl=!1,Wl=new Fl;function zl(){for(var t;t=Ll();){try{t.h.call(t.g)}catch(n){ql(n)}var e=Vl;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Hl=!1}function Kl(t,e){Nl.call(this),this.h=t||1,this.g=e||wc,this.j=Ec(this.kb,this),this.l=Date.now()}function Gl(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Ql(t,e,n){if("function"==typeof t)n&&(t=Ec(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ec(t.handleEvent,t)}return 2147483647<Number(e)?-1:wc.setTimeout(t,e||0)}function Yl(t){t.g=Ql(function(){t.g=null,t.i&&(t.i=!1,Yl(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}xc(Kl,Nl),(yc=Kl.prototype).da=!1,yc.S=null,yc.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Dl(this,"tick"),this.da&&(Gl(this),this.start()))}},yc.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},yc.M=function(){Kl.Z.M.call(this),Gl(this),delete this.g};var Jl=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}vc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Yl(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(wc.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Ac);function Zl(t){Ac.call(this),this.h=t,this.g={}}xc(Zl,Ac);var Xl=[];function $l(t,e,n,r){Array.isArray(n)||(n&&(Xl[0]=n.toString()),n=Xl);for(var i=0;i<n.length;i++){var o=Ol(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function th(t){Wc(t.g,function(t,e){this.g.hasOwnProperty(e)&&Il(t)},t),t.g={}}function eh(){this.g=!0}function nh(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Pl(n)}catch(s){return e}}(t,n)+(r?" "+r:"")})}Zl.prototype.M=function(){Zl.Z.M.call(this),th(this)},Zl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},eh.prototype.Aa=function(){this.g=!1},eh.prototype.info=function(){};var rh={},ih=null;function oh(){return ih=ih||new Nl}function ah(t){ll.call(this,rh.Ma,t)}function sh(t){var e=oh();Dl(e,new ah(e,t))}function uh(t,e){ll.call(this,rh.STAT_EVENT,t),this.stat=e}function ch(t){var e=oh();Dl(e,new uh(e,t))}function lh(t,e){ll.call(this,rh.Na,t),this.size=e}function hh(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return wc.setTimeout(function(){t()},e)}rh.Ma="serverreachability",xc(ah,ll),rh.STAT_EVENT="statevent",xc(uh,ll),rh.Na="timingevent",xc(lh,ll);var fh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},dh={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ph(){}function vh(){}ph.prototype.h=null;var bh,yh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function gh(){ll.call(this,"d")}function mh(){ll.call(this,"c")}function wh(){}function _h(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Zl(this),this.P=kh,this.W=new Kl(t=tl?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Oh}function Oh(){this.i=null,this.g="",this.h=!1}xc(gh,ll),xc(mh,ll),xc(wh,ph),wh.prototype.g=function(){return new XMLHttpRequest},wh.prototype.i=function(){return{}},bh=new wh;var kh=45e3,jh={},Sh={};function Ih(t,e,n){t.K=1,t.v=Yh(Hh(e)),t.s=n,t.U=!0,Th(t,null)}function Th(t,e){t.F=Date.now(),Ah(t),t.A=Hh(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),cf(n.h,"t",r),t.C=0,n=t.l.H,t.h=new Oh,t.g=ld(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Jl(Ec(t.Ia,t,t.g),t.O)),$l(t.V,t.g,"readystatechange",t.gb),e=t.H?zc(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),sh(1),function(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a})}(t.j,t.u,t.A,t.m,t.X,t.s)}function Eh(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Ch(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=xh(t,n))==Sh){4==e&&(t.o=4,ch(14),i=!1),nh(t.j,t.m,null,"[Incomplete Response]");break}if(r==jh){t.o=4,ch(15),nh(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}nh(t.j,t.m,r,null),Lh(t,r)}Eh(t)&&r!=Sh&&r!=jh&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ch(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),nd(e),e.L=!0,ch(11))):(nh(t.j,t.m,n,"[Invalid Chunked Response]"),Ph(t),Rh(t))}function xh(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Sh:(n=Number(e.substring(n,r)),isNaN(n)?jh:(r+=1)+n>e.length?Sh:(e=e.substr(r,n),t.C=r+n,e))}function Ah(t){t.Y=Date.now()+t.P,Nh(t,t.P)}function Nh(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=hh(Ec(t.eb,t),e)}function Dh(t){t.B&&(wc.clearTimeout(t.B),t.B=null)}function Rh(t){0==t.l.G||t.I||od(t.l,t)}function Ph(t){Dh(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Gl(t.W),th(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Lh(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||bf(n.i,t)))if(n.I=t.N,!t.J&&bf(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;id(n),Gf(n)}ed(n),ch(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=hh(Ec(n.ab,n),6e3));if(1>=vf(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else sd(n,11)}else if((t.J||n.g==t)&&id(n),!Mc(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(Uc(l,"spdy")||Uc(l,"quic")||Uc(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(yf(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,Qh(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((r=n).oa=cd(r,r.H?r.la:null,r.W),d.J){gf(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Dh(p),Ah(p)),r.g=d}else td(r);0<n.l.length&&Jf(n)}else"stop"!=o[0]&&"close"!=o[0]||sd(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?sd(n,7):Kf(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}sh(4)}catch(o){}}function Mh(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Oc(t)||"string"==typeof t)Rc(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(Oc(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(Oc(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Fh(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Fh)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Vh(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Uh(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Uh(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Uh(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(yc=_h.prototype).setTimeout=function(t){this.P=t},yc.gb=function(t){t=t.target;var e=this.L;e&&3==qf(t)?e.l():this.Ia(t)},yc.Ia=function(t){try{if(t==this.g)t:{var e=qf(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||tl||this.g&&(this.h.h||this.g.ga()||Bf(this.g)))){this.I||4!=e||7==n||sh(8==n||0>=r?3:2),Dh(this);var i=this.g.ba();this.N=i;e:if(Eh(this)){var o=Bf(this.g);t="";var a=o.length,s=4==qf(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ph(this),Rh(this);var u="";break e}this.h.i=new wc.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a})}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mc(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,ch(12),Ph(this),Rh(this);break t}nh(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Lh(this,i)}this.U?(Ch(this,e,u),tl&&this.i&&3==e&&($l(this.V,this.W,"tick",this.fb),this.W.start())):(nh(this.j,this.m,u,null),Lh(this,u)),4==e&&Ph(this),this.i&&!this.I&&(4==e?od(this.l,this):(this.i=!1,Ah(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,ch(12)):(this.o=0,ch(13)),Ph(this),Rh(this)}}}catch(e){}},yc.fb=function(){if(this.g){var t=qf(this.g),e=this.g.ga();this.C<e.length&&(Dh(this),Ch(this,t,e),this.i&&4!=t&&Ah(this))}},yc.cancel=function(){this.I=!0,Ph(this)},yc.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(sh(3),ch(17)),Ph(this),this.o=2,Rh(this)):Nh(this,this.Y-t)},(yc=Fh.prototype).R=function(){Vh(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},yc.T=function(){return Vh(this),this.g.concat()},yc.get=function(t,e){return Uh(this.h,t)?this.h[t]:e},yc.set=function(t,e){Uh(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},yc.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var qh=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Bh(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Bh){this.g=void 0!==e?e:t.g,Wh(this,t.j),this.s=t.s,zh(this,t.i),Kh(this,t.m),this.l=t.l,e=t.h;var n=new of;n.i=e.i,e.g&&(n.g=new Fh(e.g),n.h=e.h),Gh(this,n),this.o=t.o}else t&&(n=String(t).match(qh))?(this.g=!!e,Wh(this,n[1]||"",!0),this.s=Jh(n[2]||""),zh(this,n[3]||"",!0),Kh(this,n[4]),this.l=Jh(n[5]||"",!0),Gh(this,n[6]||"",!0),this.o=Jh(n[7]||"")):(this.g=!!e,this.h=new of(null,this.g))}function Hh(t){return new Bh(t)}function Wh(t,e,n){t.j=n?Jh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function zh(t,e,n){t.i=n?Jh(e,!0):e}function Kh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Gh(t,e,n){e instanceof of?(t.h=e,function(t,e){e&&!t.j&&(af(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(sf(this,e),cf(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=Zh(e,nf)),t.h=new of(e,t.g))}function Qh(t,e,n){t.h.set(e,n)}function Yh(t){return Qh(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Jh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Zh(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Xh),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Xh(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Bh.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Zh(e,$h,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Zh(e,$h,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Zh(n,"/"==n.charAt(0)?ef:tf,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Zh(n,rf)),t.join("")};var $h=/[#\/\?@]/g,tf=/[#\?:]/g,ef=/[#\?]/g,nf=/[#\?@]/g,rf=/#/g;function of(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function af(t){t.g||(t.g=new Fh,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function sf(t,e){af(t),e=lf(t,e),Uh(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Uh((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Vh(t)))}function uf(t,e){return af(t),e=lf(t,e),Uh(t.g.h,e)}function cf(t,e,n){sf(t,e),0<n.length&&(t.i=null,t.g.set(lf(t,e),Lc(n)),t.h+=n.length)}function lf(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(yc=of.prototype).add=function(t,e){af(this),this.i=null,t=lf(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},yc.forEach=function(t,e){af(this),this.g.forEach(function(n,r){Rc(n,function(n){t.call(e,n,r,this)},this)},this)},yc.T=function(){af(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},yc.R=function(t){af(this);var e=[];if("string"==typeof t)uf(this,t)&&(e=Pc(e,this.g.get(lf(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Pc(e,t[n])}return e},yc.set=function(t,e){return af(this),this.i=null,uf(this,t=lf(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},yc.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},yc.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.i=t.join("&")};var hf=function(t,e){this.h=t,this.g=e};function ff(t){this.l=t||df,t=wc.PerformanceNavigationTiming?0<(t=wc.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(wc.g&&wc.g.Ea&&wc.g.Ea()&&wc.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var df=10;function pf(t){return!!t.h||!!t.g&&t.g.size>=t.j}function vf(t){return t.h?1:t.g?t.g.size:0}function bf(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function yf(t,e){t.g?t.g.add(e):t.h=e}function gf(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function mf(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=bc(t.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Lc(t.i)}function wf(){}function _f(){this.g=new wf}function Of(t,e,n){var r=n||"";try{Mh(t,function(t,n){var i=t;kc(t)&&(i=Pl(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Ck){throw e.push(r+"type="+encodeURIComponent("_badmap")),Ck}}function kf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function jf(t){this.l=t.$b||null,this.j=t.ib||!1}function Sf(t,e){Nl.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=If,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ff.prototype.cancel=function(){var t,e;if(this.i=mf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=bc(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},wf.prototype.stringify=function(t){return wc.JSON.stringify(t,void 0)},wf.prototype.parse=function(t){return wc.JSON.parse(t,void 0)},xc(jf,ph),jf.prototype.g=function(){return new Sf(this.l,this.j)},jf.prototype.i=function(t){return function(){return t}}({}),xc(Sf,Nl);var If=0;function Tf(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Ef(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Cf(t)}function Cf(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(yc=Sf.prototype).open=function(t,e){if(this.readyState!=If)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Cf(this)},yc.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||wc).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},yc.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ef(this)),this.readyState=If},yc.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Cf(this)),this.g&&(this.readyState=3,Cf(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==wc.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Tf(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},yc.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ef(this):Cf(this),3==this.readyState&&Tf(this)}},yc.Ua=function(t){this.g&&(this.response=this.responseText=t,Ef(this))},yc.Ta=function(t){this.g&&(this.response=t,Ef(this))},yc.ha=function(){this.g&&Ef(this)},yc.setRequestHeader=function(t,e){this.v.append(t,e)},yc.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},yc.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Sf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var xf=wc.JSON.parse;function Af(t){Nl.call(this),this.headers=new Fh,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Nf,this.K=this.L=!1}xc(Af,Nl);var Nf="",Df=/^https?$/i,Rf=["POST","PUT"];function Pf(t){return"content-type"==t.toLowerCase()}function Lf(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Mf(t),Vf(t)}function Mf(t){t.D||(t.D=!0,Dl(t,"complete"),Dl(t,"error"))}function Ff(t){if(t.h&&void 0!==mc&&(!t.C[1]||4!=qf(t)||2!=t.ba()))if(t.v&&4==qf(t))Ql(t.Fa,0,t);else if(Dl(t,"readystatechange"),4==qf(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(qh)[1]||null;if(!o&&wc.self&&wc.self.location){var a=wc.self.location.protocol;o=a.substr(0,a.length-1)}i=!Df.test(o?o.toLowerCase():"")}e=i}if(e)Dl(t,"complete"),Dl(t,"success");else{t.m=6;try{var s=2<qf(t)?t.g.statusText:""}catch(u){s=""}t.j=s+" ["+t.ba()+"]",Mf(t)}}finally{Vf(t)}}}function Vf(t,e){if(t.g){Uf(t);var n=t.g,r=t.C[0]?_c:null;t.g=null,t.C=null,e||Dl(t,"ready");try{n.onreadystatechange=r}catch(Ck){}}}function Uf(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(wc.clearTimeout(t.A),t.A=null)}function qf(t){return t.g?t.g.readyState:0}function Bf(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Nf:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Hf(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Wc(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Qh(t,e,n))}function Wf(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function zf(t){this.za=0,this.l=[],this.h=new eh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Wf("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Wf("baseRetryDelayMs",5e3,t),this.$a=Wf("retryDelaySeedMs",1e4,t),this.Ya=Wf("forwardChannelMaxRetries",2,t),this.ra=Wf("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new ff(t&&t.concurrentRequestLimit),this.Ca=new _f,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Kf(t){if(Qf(t),3==t.G){var e=t.V++,n=Hh(t.F);Qh(n,"SID",t.J),Qh(n,"RID",e),Qh(n,"TYPE","terminate"),Xf(t,n),(e=new _h(t,t.h,e,void 0)).K=2,e.v=Yh(Hh(n)),n=!1,wc.navigator&&wc.navigator.sendBeacon&&(n=wc.navigator.sendBeacon(e.v.toString(),"")),!n&&wc.Image&&((new Image).src=e.v,n=!0),n||(e.g=ld(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ah(e)}ud(t)}function Gf(t){t.g&&(nd(t),t.g.cancel(),t.g=null)}function Qf(t){Gf(t),t.u&&(wc.clearTimeout(t.u),t.u=null),id(t),t.i.cancel(),t.m&&("number"==typeof t.m&&wc.clearTimeout(t.m),t.m=null)}function Yf(t,e){t.l.push(new hf(t.Za++,e)),3==t.G&&Jf(t)}function Jf(t){pf(t.i)||t.m||(t.m=!0,Bl(t.Ha,t),t.C=0)}function Zf(t,e){var n;n=e?e.m:t.V++;var r=Hh(t.F);Qh(r,"SID",t.J),Qh(r,"RID",n),Qh(r,"AID",t.U),Xf(t,r),t.o&&t.s&&Hf(r,t.o,t.s),n=new _h(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=$f(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),yf(t.i,n),Ih(n,r,e)}function Xf(t,e){t.j&&Mh({},function(t,n){Qh(e,n,t)})}function $f(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Ec(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].h)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{Of(l,a,"req"+c+"_")}catch(Hd){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function td(t){t.g||t.u||(t.Y=1,Bl(t.Ga,t),t.A=0)}function ed(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=hh(Ec(t.Ga,t),ad(t,t.A)),t.A++,0))}function nd(t){null!=t.B&&(wc.clearTimeout(t.B),t.B=null)}function rd(t){t.g=new _h(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Hh(t.oa);Qh(e,"RID","rpc"),Qh(e,"SID",t.J),Qh(e,"CI",t.N?"0":"1"),Qh(e,"AID",t.U),Xf(t,e),Qh(e,"TYPE","xmlhttp"),t.o&&t.s&&Hf(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Yh(Hh(e)),n.s=null,n.U=!0,Th(n,t)}function id(t){null!=t.v&&(wc.clearTimeout(t.v),t.v=null)}function od(t,e){var n=null;if(t.g==e){id(t),nd(t),t.g=null;var r=2}else{if(!bf(t.i,e))return;n=e.D,gf(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Dl(r=oh(),new lh(r,n,e,i)),Jf(t)}else td(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(vf(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=hh(Ec(t.Ha,t,e),ad(t,t.C)),t.C++,0)))}(t,e)||2==r&&ed(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:sd(t,5);break;case 4:sd(t,10);break;case 3:sd(t,6);break;default:sd(t,2)}}function ad(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function sd(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Ec(t.jb,t);n||(n=new Bh("//www.google.com/images/cleardot.gif"),wc.location&&"http"==wc.location.protocol||Wh(n,"https"),Yh(n)),function(t,e){var n=new eh;if(wc.Image){var r=new Image;r.onload=Cc(kf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Cc(kf,n,r,"TestLoadImage: error",!1,e),r.onabort=Cc(kf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Cc(kf,n,r,"TestLoadImage: timeout",!1,e),wc.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ch(2);t.G=0,t.j&&t.j.va(e),ud(t),Qf(t)}function ud(t){t.G=0,t.I=-1,t.j&&(0==mf(t.i).length&&0==t.l.length||(t.i.i.length=0,Lc(t.l),t.l.length=0),t.j.ua())}function cd(t,e,n){var r=function(t){return t instanceof Bh?Hh(t):new Bh(t,void 0)}(n);if(""!=r.i)e&&zh(r,e+"."+r.i),Kh(r,r.m);else{var i=wc.location;r=function(t,e,n,r){var i=new Bh(null,void 0);return t&&Wh(i,t),e&&zh(i,e),n&&Kh(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&Wc(t.aa,function(t,e){Qh(r,e,t)}),n=t.sa,(e=t.D)&&n&&Qh(r,e,n),Qh(r,"VER",t.ma),Xf(t,r),r}function ld(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Af(n&&t.Ba&&!t.qa?new jf({ib:!0}):t.qa)).L=t.H,e}function hd(){}function fd(){if(Xc&&!(10<=Number(ul)))throw Error("Environmental error: no available transport.")}function dd(t,e){Nl.call(this),this.g=new zf(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Mc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Mc(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new bd(this)}function pd(t){gh.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function vd(){mh.call(this),this.status=1}function bd(t){this.g=t}(yc=Af.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():bh.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:bh),this.g.onreadystatechange=Ec(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void Lf(this,o)}t=n||"";var i=new Fh(this.headers);r&&Mh(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Pf,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=wc.FormData&&t instanceof wc.FormData,!(0<=Dc(Rf,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Uf(this),0<this.B&&((this.K=function(t){return Xc&&function(){return t=sl,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=Vc(String(Yc)).split("."),n=Vc("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;t=qc(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||qc(0==o[2].length,0==a[2].length)||qc(o[2],a[2]),o=o[3],a=a[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ec(this.pa,this)):this.A=Ql(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Lf(this,o)}},yc.pa=function(){void 0!==mc&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dl(this,"timeout"),this.abort(8))},yc.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Dl(this,"complete"),Dl(this,"abort"),Vf(this))},yc.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vf(this,!0)),Af.Z.M.call(this)},yc.Fa=function(){this.s||(this.F||this.v||this.l?Ff(this):this.cb())},yc.cb=function(){Ff(this)},yc.ba=function(){try{return 2<qf(this)?this.g.status:-1}catch(Jc){return-1}},yc.ga=function(){try{return this.g?this.g.responseText:""}catch(Jc){return""}},yc.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),xf(e)}},yc.Da=function(){return this.m},yc.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(yc=zf.prototype).ma=8,yc.G=1,yc.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},yc.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new _h(this,this.h,t,void 0),n=this.s;if(this.P&&(n?Gc(n=zc(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=$f(this,e,r),Qh(i=Hh(this.F),"RID",t),Qh(i,"CVER",22),this.D&&Qh(i,"X-HTTP-Session-Id",this.D),Xf(this,i),this.o&&n&&Hf(i,this.o,n),yf(this.i,e),this.Ra&&Qh(i,"TYPE","init"),this.ja?(Qh(i,"$req",r),Qh(i,"SID","null"),e.$=!0,Ih(e,i,null)):Ih(e,i,r),this.G=2}}else 3==this.G&&(t?Zf(this,t):0==this.l.length||pf(this.i)||Zf(this))},yc.Ga=function(){if(this.u=null,rd(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=hh(Ec(this.bb,this),t)}},yc.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ch(10),Gf(this),rd(this))},yc.ab=function(){null!=this.v&&(this.v=null,Gf(this),ed(this),ch(19))},yc.jb=function(t){t?(this.h.info("Successfully pinged google.com"),ch(2)):(this.h.info("Failed to ping google.com"),ch(1))},(yc=hd.prototype).xa=function(){},yc.wa=function(){},yc.va=function(){},yc.ua=function(){},yc.Oa=function(){},fd.prototype.g=function(t,e){return new dd(t,e)},xc(dd,Nl),dd.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Bl(Ec(t.hb,t,e))),ch(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=cd(t,null,t.W),Jf(t)},dd.prototype.close=function(){Kf(this.g)},dd.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Yf(this.g,e)}else this.v?((e={}).__data__=Pl(t),Yf(this.g,e)):Yf(this.g,t)},dd.prototype.M=function(){this.g.j=null,delete this.j,Kf(this.g),delete this.g,dd.Z.M.call(this)},xc(pd,gh),xc(vd,mh),xc(bd,hd),bd.prototype.xa=function(){Dl(this.g,"a")},bd.prototype.wa=function(t){Dl(this.g,new pd(t))},bd.prototype.va=function(t){Dl(this.g,new vd(t))},bd.prototype.ua=function(){Dl(this.g,"b")},fd.prototype.createWebChannel=fd.prototype.g,dd.prototype.send=dd.prototype.u,dd.prototype.open=dd.prototype.m,dd.prototype.close=dd.prototype.close,fh.NO_ERROR=0,fh.TIMEOUT=8,fh.HTTP_ERROR=6,dh.COMPLETE="complete",vh.EventType=yh,yh.OPEN="a",yh.CLOSE="b",yh.ERROR="c",yh.MESSAGE="d",Nl.prototype.listen=Nl.prototype.N,Af.prototype.listenOnce=Af.prototype.O,Af.prototype.getLastError=Af.prototype.La,Af.prototype.getLastErrorCode=Af.prototype.Da,Af.prototype.getStatus=Af.prototype.ba,Af.prototype.getResponseJson=Af.prototype.Qa,Af.prototype.getResponseText=Af.prototype.ga,Af.prototype.send=Af.prototype.ea;var yd=fh,gd=dh,md=rh,wd=jf,_d=vh,Od=Af,kd=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();kd.o=-1;var jd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Sd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(fc.c)(e,t),e}(Error),Id=new pc.b("@firebase/firestore");function Td(){return Id.logLevel}function Ed(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Id.logLevel<=pc.a.DEBUG){var r=e.map(Ad);Id.debug.apply(Id,Object(fc.f)(["Firestore (8.10.0): "+t],r))}}function Cd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Id.logLevel<=pc.a.ERROR){var r=e.map(Ad);Id.error.apply(Id,Object(fc.f)(["Firestore (8.10.0): "+t],r))}}function xd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Id.logLevel<=pc.a.WARN){var r=e.map(Ad);Id.warn.apply(Id,Object(fc.f)(["Firestore (8.10.0): "+t],r))}}function Ad(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Ck){return t}}function Nd(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+t;throw Cd(e),new Error(e)}function Dd(t,e){t||Nd()}function Rd(t,e){return t}function Pd(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Ld=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Pd(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Md(t,e){return t<e?-1:t>e?1:0}function Fd(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Vd(t){return t+"\0"}var Ud=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Sd(jd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Sd(jd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Sd(jd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Sd(jd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Md(this.nanoseconds,t.nanoseconds):Md(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),qd=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Ud(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Bd(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hd(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Wd(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var zd=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Nd(),void 0===n?n=t.length-e:n>t.length-e&&Nd(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Kd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fc.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Sd(jd.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(zd),Gd=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Qd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fc.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Gd.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Sd(jd.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new Sd(jd.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Sd(jd.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Sd(jd.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(zd),Yd=function(){function t(t){this.fields=t,t.sort(Qd.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Fd(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Jd=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Md(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Jd.EMPTY_BYTE_STRING=new Jd("");var Zd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xd(t){if(Dd(!!t),"string"==typeof t){var e=0,n=Zd.exec(t);if(Dd(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:$d(t.seconds),nanos:$d(t.nanos)}}function $d(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function tp(t){return"string"==typeof t?Jd.fromBase64String(t):Jd.fromUint8Array(t)}function ep(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function np(t){var e=t.mapValue.fields.__previous_value__;return ep(e)?np(e):e}function rp(t){var e=Xd(t.mapValue.fields.__local_write_time__.timestampValue);return new Ud(e.seconds,e.nanos)}function ip(t){return null==t}function op(t){return 0===t&&1/t==-1/0}function ap(t){return"number"==typeof t&&Number.isInteger(t)&&!op(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var sp=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Kd.fromString(e))},t.fromName=function(e){return new t(Kd.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Kd.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Kd.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Kd(e.slice()))},t}();function up(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ep(t)?4:10:Nd()}function cp(t,e){var n=up(t);if(n!==up(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rp(t).isEqual(rp(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Xd(t.timestampValue),r=Xd(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return tp(t.bytesValue).isEqual(tp(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return $d(t.geoPointValue.latitude)===$d(e.geoPointValue.latitude)&&$d(t.geoPointValue.longitude)===$d(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return $d(t.integerValue)===$d(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=$d(t.doubleValue),r=$d(e.doubleValue);return n===r?op(n)===op(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Fd(t.arrayValue.values||[],e.arrayValue.values||[],cp);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Bd(n)!==Bd(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!cp(n[i],r[i])))return!1;return!0}(t,e);default:return Nd()}}function lp(t,e){return void 0!==(t.values||[]).find(function(t){return cp(t,e)})}function hp(t,e){var n=up(t),r=up(e);if(n!==r)return Md(n,r);switch(n){case 0:return 0;case 1:return Md(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=$d(t.integerValue||t.doubleValue),r=$d(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return fp(t.timestampValue,e.timestampValue);case 4:return fp(rp(t),rp(e));case 5:return Md(t.stringValue,e.stringValue);case 6:return function(t,e){var n=tp(t),r=tp(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Md(n[i],r[i]);if(0!==o)return o}return Md(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Md($d(t.latitude),$d(e.latitude));return 0!==n?n:Md($d(t.longitude),$d(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=hp(n[i],r[i]);if(o)return o}return Md(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Md(r[a],o[a]);if(0!==s)return s;var u=hp(n[r[a]],i[o[a]]);if(0!==u)return u}return Md(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Nd()}}function fp(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Md(t,e);var n=Xd(t),r=Xd(e),i=Md(n.seconds,r.seconds);return 0!==i?i:Md(n.nanos,r.nanos)}function dp(t){return pp(t)}function pp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Xd(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?tp(t.bytesValue).toBase64():"referenceValue"in t?sp.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=pp(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+pp(t.fields[o])}return e+"}"}(t.mapValue):Nd();var e}function vp(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function bp(t){return!!t&&"integerValue"in t}function yp(t){return!!t&&"arrayValue"in t}function gp(t){return!!t&&"nullValue"in t}function mp(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wp(t){return!!t&&"mapValue"in t}function _p(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Hd(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=_p(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=_p(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Op=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!wp(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=_p(e)},t.prototype.setAll=function(t){var e=this,n=Qd.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var a=e.getFieldsMap(n);e.applyChanges(a,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=_p(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());wp(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return cp(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];wp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){Hd(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(_p(this.value))},t}();function kp(t){var e=[];return Hd(t.fields,function(t,n){var r=new Qd([t]);if(wp(n)){var i=kp(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++)e.push(r.child(a[o]))}else e.push(r)}),new Yd(e)}var jp=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,qd.min(),Op.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Op.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Op.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Op.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Op.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Sp=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Ip(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Sp(t,e,n,r,i,o,a)}function Tp(t){var e=Rd(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+dp(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),ip(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Up(e.startAt)),e.endAt&&(n+="|ub:",n+=Up(e.endAt)),e.h=n}return e.h}function Ep(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Bp(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!cp(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Wp(t.startAt,e.startAt)&&Wp(t.endAt,e.endAt)}function Cp(t){return sp.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var xp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(fc.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Ap(t,n,r):"array-contains"===n?new Pp(t,r):"in"===n?new Lp(t,r):"not-in"===n?new Mp(t,r):"array-contains-any"===n?new Fp(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Np(t,n):new Dp(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(hp(e,this.value)):null!==e&&up(this.value)===up(e)&&this.m(hp(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Nd()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Ap=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=sp.fromName(r.referenceValue),i}return Object(fc.c)(e,t),e.prototype.matches=function(t){var e=sp.comparator(t.key,this.key);return this.m(e)},e}(xp),Np=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Rp(0,n),r}return Object(fc.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(xp),Dp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Rp(0,n),r}return Object(fc.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(xp);function Rp(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return sp.fromName(t.referenceValue)})}var Pp=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(fc.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return yp(e)&&lp(e.arrayValue,this.value)},e}(xp),Lp=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(fc.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&lp(this.value.arrayValue,e)},e}(xp),Mp=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(fc.c)(e,t),e.prototype.matches=function(t){if(lp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!lp(this.value.arrayValue,e)},e}(xp),Fp=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(fc.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!yp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return lp(e.value.arrayValue,t)})},e}(xp),Vp=function(t,e){this.position=t,this.before=e};function Up(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return dp(t)}).join(",")}var qp=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Bp(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Hp(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?sp.comparator(sp.fromName(a.referenceValue),n.key):hp(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Wp(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!cp(t.position[n],e.position[n]))return!1;return!0}var zp=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null};function Kp(t,e,n,r,i,o,a,s){return new zp(t,e,n,r,i,o,a,s)}function Gp(t){return new zp(t)}function Qp(t){return!ip(t.limit)&&"F"===t.limitType}function Yp(t){return!ip(t.limit)&&"L"===t.limitType}function Jp(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Zp(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Xp(t){return null!==t.collectionGroup}function $p(t){var e=Rd(t);if(null===e.p){e.p=[];var n=Zp(e),r=Jp(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new qp(n)),e.p.push(new qp(Qd.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new qp(Qd.keyField(),u))}}}return e.p}function tv(t){var e=Rd(t);if(!e.T)if("F"===e.limitType)e.T=Ip(e.path,e.collectionGroup,$p(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=$p(e);r<i.length;r++){var o=i[r];n.push(new qp(o.field,"desc"===o.dir?"asc":"desc"))}var a=e.endAt?new Vp(e.endAt.position,!e.endAt.before):null,s=e.startAt?new Vp(e.startAt.position,!e.startAt.before):null;e.T=Ip(e.path,e.collectionGroup,n,e.filters,e.limit,a,s)}return e.T}function ev(t,e,n){return new zp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nv(t,e){return Ep(tv(t),tv(e))&&t.limitType===e.limitType}function rv(t){return Tp(tv(t))+"|lt:"+t.limitType}function iv(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+dp(e.value);var e}).join(", ")+"]"),ip(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Up(t.startAt)),t.endAt&&(e+=", endAt: "+Up(t.endAt)),"Target("+e+")"}(tv(t))+"; limitType="+t.limitType+")"}function ov(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):sp.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Hp(t.startAt,$p(t),e)||t.endAt&&Hp(t.endAt,$p(t),e))}(t,e)}function av(t){return function(e,n){for(var r=!1,i=0,o=$p(t);i<o.length;i++){var a=o[i],s=sv(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function sv(t,e,n){var r=t.field.isKeyField()?sp.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?hp(r,i):Nd()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Nd()}}function uv(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:op(e)?"-0":e}}function cv(t){return{integerValue:""+t}}function lv(t,e){return ap(e)?cv(e):uv(t,e)}var hv=function(){this._=void 0};function fv(t,e,n){return t instanceof vv?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof bv?yv(t,e):t instanceof gv?mv(t,e):function(t,e){var n=pv(t,e),r=_v(n)+_v(t.A);return bp(n)&&bp(t.A)?cv(r):uv(t.R,r)}(t,e)}function dv(t,e,n){return t instanceof bv?yv(t,e):t instanceof gv?mv(t,e):n}function pv(t,e){return t instanceof wv?bp(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var vv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fc.c)(e,t),e}(hv),bv=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(fc.c)(e,t),e}(hv);function yv(t,e){for(var n=Ov(e),r=function(t){n.some(function(e){return cp(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var gv=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(fc.c)(e,t),e}(hv);function mv(t,e){for(var n=Ov(e),r=function(t){n=n.filter(function(e){return!cp(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var wv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(fc.c)(e,t),e}(hv);function _v(t){return $d(t.integerValue||t.doubleValue)}function Ov(t){return yp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var kv=function(t,e){this.field=t,this.transform=e},jv=function(t,e){this.version=t,this.transformResults=e},Sv=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Iv(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Tv=function(){};function Ev(t,e,n){t instanceof Dv?function(t,e,n){var r=t.value.clone(),i=Lv(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Rv?function(t,e,n){if(Iv(t.precondition,e)){var r=Lv(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Pv(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Cv(t,e,n){t instanceof Dv?function(t,e,n){if(Iv(t.precondition,e)){var r=t.value.clone(),i=Mv(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Nv(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Rv?function(t,e,n){if(Iv(t.precondition,e)){var r=Mv(t.fieldTransforms,n,e),i=e.data;i.setAll(Pv(t)),i.setAll(r),e.convertToFoundDocument(Nv(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Iv(t.precondition,e)&&e.convertToNoDocument(qd.min())}(t,e)}function xv(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),s=pv(o.transform,a||null);null!=s&&(null==n&&(n=Op.empty()),n.set(o.field,s))}return n||null}function Av(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Fd(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof bv&&e instanceof bv||t instanceof gv&&e instanceof gv?Fd(t.elements,e.elements,cp):t instanceof wv&&e instanceof wv?cp(t.A,e.A):t instanceof vv&&e instanceof vv}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Nv(t){return t.isFoundDocument()?t.version:qd.min()}var Dv=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(fc.c)(e,t),e}(Tv),Rv=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Object(fc.c)(e,t),e}(Tv);function Pv(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function Lv(t,e,n){var r=new Map;Dd(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,dv(a,s,n[i]))}return r}function Mv(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,fv(s,u,e))}return r}var Fv,Vv,Uv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(fc.c)(e,t),e}(Tv),qv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(fc.c)(e,t),e}(Tv),Bv=function(t){this.count=t};function Hv(t){switch(t){case jd.OK:return Nd();case jd.CANCELLED:case jd.UNKNOWN:case jd.DEADLINE_EXCEEDED:case jd.RESOURCE_EXHAUSTED:case jd.INTERNAL:case jd.UNAVAILABLE:case jd.UNAUTHENTICATED:return!1;case jd.INVALID_ARGUMENT:case jd.NOT_FOUND:case jd.ALREADY_EXISTS:case jd.PERMISSION_DENIED:case jd.FAILED_PRECONDITION:case jd.ABORTED:case jd.OUT_OF_RANGE:case jd.UNIMPLEMENTED:case jd.DATA_LOSS:return!0;default:return Nd()}}function Wv(t){if(void 0===t)return Cd("GRPC error has no .code"),jd.UNKNOWN;switch(t){case Fv.OK:return jd.OK;case Fv.CANCELLED:return jd.CANCELLED;case Fv.UNKNOWN:return jd.UNKNOWN;case Fv.DEADLINE_EXCEEDED:return jd.DEADLINE_EXCEEDED;case Fv.RESOURCE_EXHAUSTED:return jd.RESOURCE_EXHAUSTED;case Fv.INTERNAL:return jd.INTERNAL;case Fv.UNAVAILABLE:return jd.UNAVAILABLE;case Fv.UNAUTHENTICATED:return jd.UNAUTHENTICATED;case Fv.INVALID_ARGUMENT:return jd.INVALID_ARGUMENT;case Fv.NOT_FOUND:return jd.NOT_FOUND;case Fv.ALREADY_EXISTS:return jd.ALREADY_EXISTS;case Fv.PERMISSION_DENIED:return jd.PERMISSION_DENIED;case Fv.FAILED_PRECONDITION:return jd.FAILED_PRECONDITION;case Fv.ABORTED:return jd.ABORTED;case Fv.OUT_OF_RANGE:return jd.OUT_OF_RANGE;case Fv.UNIMPLEMENTED:return jd.UNIMPLEMENTED;case Fv.DATA_LOSS:return jd.DATA_LOSS;default:return Nd()}}(Vv=Fv||(Fv={}))[Vv.OK=0]="OK",Vv[Vv.CANCELLED=1]="CANCELLED",Vv[Vv.UNKNOWN=2]="UNKNOWN",Vv[Vv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vv[Vv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vv[Vv.NOT_FOUND=5]="NOT_FOUND",Vv[Vv.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vv[Vv.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vv[Vv.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vv[Vv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vv[Vv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vv[Vv.ABORTED=10]="ABORTED",Vv[Vv.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vv[Vv.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vv[Vv.INTERNAL=13]="INTERNAL",Vv[Vv.UNAVAILABLE=14]="UNAVAILABLE",Vv[Vv.DATA_LOSS=15]="DATA_LOSS";var zv=function(){function t(t,e){this.comparator=t,this.root=e||Gv.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gv.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gv.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Kv(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Kv(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Kv(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Kv(this.root,t,this.comparator,!0)},t}(),Kv=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Gv=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Nd();if(this.right.isRed())throw Nd();var t=this.left.check();if(t!==this.right.check())throw Nd();return t+(this.isRed()?0:1)},t}();Gv.EMPTY=null,Gv.RED=!0,Gv.BLACK=!1,Gv.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Nd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Nd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Nd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Nd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Nd()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Gv(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Qv=function(){function t(t){this.comparator=t,this.data=new zv(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Yv(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Yv(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Yv=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Jv=new zv(sp.comparator);function Zv(){return Jv}var Xv=new zv(sp.comparator);function $v(){return Xv}var tb=new zv(sp.comparator);function eb(){return tb}var nb=new Qv(sp.comparator);function rb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=nb,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ib=new Qv(Md);function ob(){return ib}var ab=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,sb.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(qd.min(),r,ob(),Zv(),rb())},t}(),sb=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Jd.EMPTY_BYTE_STRING,n,rb(),rb(),rb())},t}(),ub=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},cb=function(t,e){this.targetId=t,this.V=e},lb=function(t,e,n,r){void 0===n&&(n=Jd.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},hb=function(){function t(){this.S=0,this.D=pb(),this.C=Jd.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=rb(),e=rb(),n=rb();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Nd()}}),new sb(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=pb()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),fb=function(){function t(t){this.W=t,this.G=new Map,this.H=Zv(),this.J=db(),this.Y=new Qv(Md)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Nd()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Cp(i))if(0===n){var o=new sp(i.path);this.tt(e,o,jp.newNoDocument(o,qd.min()))}else Dd(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&Cp(o.target)){var a=new sp(o.target.path);null!==e.H.get(a)||e.at(i,a)||e.tt(i,a,jp.newNoDocument(a,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=rb();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new ab(t,n,this.Y,this.H,r);return this.H=Zv(),this.J=db(),this.Y=new Qv(Md),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new hb,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Qv(Md),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Ed("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new hb),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function db(){return new zv(sp.comparator)}function pb(){return new zv(sp.comparator)}var vb={asc:"ASCENDING",desc:"DESCENDING"},bb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yb=function(t,e){this.databaseId=t,this.I=e};function gb(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function mb(t,e){return t.I?e.toBase64():e.toUint8Array()}function wb(t,e){return gb(t,e.toTimestamp())}function _b(t){return Dd(!!t),qd.fromTimestamp(function(t){var e=Xd(t);return new Ud(e.seconds,e.nanos)}(t))}function Ob(t,e){return function(t){return new Kd(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function kb(t){var e=Kd.fromString(t);return Dd(Gb(e)),e}function jb(t,e){return Ob(t.databaseId,e.path)}function Sb(t,e){var n=kb(e);if(n.get(1)!==t.databaseId.projectId)throw new Sd(jd.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Sd(jd.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new sp(Cb(n))}function Ib(t,e){return Ob(t.databaseId,e)}function Tb(t){var e=kb(t);return 4===e.length?Kd.emptyPath():Cb(e)}function Eb(t){return new Kd(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Cb(t){return Dd(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function xb(t,e,n){return{name:jb(t,e),fields:n.value.mapValue.fields}}function Ab(t,e,n){var r=Sb(t,e.name),i=_b(e.updateTime),o=new Op({mapValue:{fields:e.fields}}),a=jp.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Nb(t,e){var n;if(e instanceof Dv)n={update:xb(t,e.key,e.value)};else if(e instanceof Uv)n={delete:jb(t,e.key)};else if(e instanceof Rv)n={update:xb(t,e.key,e.data),updateMask:Kb(e.fieldMask)};else{if(!(e instanceof qv))return Nd();n={verify:jb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof vv)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof bv)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof gv)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof wv)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Nd()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:wb(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Nd()}(t,e.precondition)),n}function Db(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Sv.updateTime(_b(t.updateTime)):void 0!==t.exists?Sv.exists(t.exists):Sv.none()}(e.currentDocument):Sv.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Dd("REQUEST_TIME"===e.setToServerValue),n=new vv):"appendMissingElements"in e?n=new bv(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new gv(e.removeAllFromArray.values||[]):"increment"in e?n=new wv(t,e.increment):Nd();var r=Qd.fromServerFormat(e.fieldPath);return new kv(r,n)}(t,e)}):[];if(e.update){var i=Sb(t,e.update.name),o=new Op({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){return new Yd((t.fieldPaths||[]).map(function(t){return Qd.fromServerFormat(t)}))}(e.updateMask);return new Rv(i,o,a,n,r)}return new Dv(i,o,n,r)}if(e.delete){var s=Sb(t,e.delete);return new Uv(s,n)}if(e.verify){var u=Sb(t,e.verify);return new qv(u,n)}return Nd()}function Rb(t,e){return{documents:[Ib(t,e.path)]}}function Pb(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Ib(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ib(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(mp(t.value))return{unaryFilter:{field:Bb(t.field),op:"IS_NAN"}};if(gp(t.value))return{unaryFilter:{field:Bb(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(mp(t.value))return{unaryFilter:{field:Bb(t.field),op:"IS_NOT_NAN"}};if(gp(t.value))return{unaryFilter:{field:Bb(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bb(t.field),op:qb(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Bb(t.field),direction:Ub(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||ip(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=Fb(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Fb(e.endAt)),n}function Lb(t){var e=Tb(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Dd(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=Mb(n.where));var s=[];n.orderBy&&(s=n.orderBy.map(function(t){return function(t){return new qp(Hb(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return ip(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Vb(n.startAt));var l=null;return n.endAt&&(l=Vb(n.endAt)),Kp(e,i,s,a,u,"F",c,l)}function Mb(t){return t?void 0!==t.unaryFilter?[zb(t)]:void 0!==t.fieldFilter?[Wb(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Mb(t)}).reduce(function(t,e){return t.concat(e)}):Nd():[]}function Fb(t){return{before:t.before,values:t.position}}function Vb(t){return new Vp(t.values||[],!!t.before)}function Ub(t){return vb[t]}function qb(t){return bb[t]}function Bb(t){return{fieldPath:t.canonicalString()}}function Hb(t){return Qd.fromServerFormat(t.fieldPath)}function Wb(t){return xp.create(Hb(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Nd()}}(t.fieldFilter.op),t.fieldFilter.value)}function zb(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Hb(t.unaryFilter.field);return xp.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Hb(t.unaryFilter.field);return xp.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Hb(t.unaryFilter.field);return xp.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Hb(t.unaryFilter.field);return xp.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Nd()}}function Kb(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Gb(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Qb(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Jb(e)),e=Yb(t.get(n),e);return Jb(e)}function Yb(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Jb(t){return t+"\x01\x01"}function Zb(t){var e=t.length;if(Dd(e>=2),2===e)return Dd("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Kd.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&Nd(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:Nd()}o=a+2}return new Kd(r)}var Xb=function(t,e){this.seconds=t,this.nanoseconds=e},$b=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};$b.store="owner",$b.key="owner";var ty=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ty.store="mutationQueues",ty.keyPath="userId";var ey=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ey.store="mutations",ey.keyPath="batchId",ey.userMutationsIndex="userMutationsIndex",ey.userMutationsKeyPath=["userId","batchId"];var ny=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Qb(e)]},t.key=function(t,e,n){return[t,Qb(e),n]},t}();ny.store="documentMutations",ny.PLACEHOLDER=new ny;var ry=function(t,e){this.path=t,this.readTime=e},iy=function(t,e){this.path=t,this.version=e},oy=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};oy.store="remoteDocuments",oy.readTimeIndex="readTimeIndex",oy.readTimeIndexPath="readTime",oy.collectionReadTimeIndex="collectionReadTimeIndex",oy.collectionReadTimeIndexPath=["parentPath","readTime"];var ay=function(t){this.byteSize=t};ay.store="remoteDocumentGlobal",ay.key="remoteDocumentGlobalKey";var sy=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};sy.store="targets",sy.keyPath="targetId",sy.queryTargetsIndexName="queryTargetsIndex",sy.queryTargetsKeyPath=["canonicalId","targetId"];var uy=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};uy.store="targetDocuments",uy.keyPath=["targetId","path"],uy.documentTargetsIndex="documentTargetsIndex",uy.documentTargetsKeyPath=["path","targetId"];var cy=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};cy.key="targetGlobalKey",cy.store="targetGlobal";var ly=function(t,e){this.collectionId=t,this.parent=e};ly.store="collectionParents",ly.keyPath=["collectionId","parent"];var hy=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};hy.store="clientMetadata",hy.keyPath="clientId";var fy=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};fy.store="bundles",fy.keyPath="bundleId";var dy=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};dy.store="namedQueries",dy.keyPath="name";var py=Object(fc.f)(Object(fc.f)([],Object(fc.f)(Object(fc.f)([],Object(fc.f)(Object(fc.f)([],Object(fc.f)(Object(fc.f)([],[ty.store,ey.store,ny.store,oy.store,sy.store,$b.store,cy.store,uy.store]),[hy.store])),[ay.store])),[ly.store])),[fy.store,dy.store]),vy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",by=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),yy=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},gy=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Nd(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),my=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new yy,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Oy(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Ty(e.target.error);n.ft.reject(new Oy(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Oy(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Ed("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new jy(e)},t}(),wy=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(dc.o)())&&Cd("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Ed("SimpleDb","Removing database:",t),Sy(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(dc.o)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(fc.b)(this,void 0,void 0,function(){var e,n=this;return Object(fc.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Ed("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Oy(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Sd(jd.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Oy(t,n))},i.onupgradeneeded=function(t){Ed("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Ed("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(fc.b)(this,void 0,void 0,function(){var i,o,a,s,u;return Object(fc.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,l;return Object(fc.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(t)];case 2:return s.db=h.sent(),e=my.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch(function(t){return e.abort(t),gy.reject(t)}).toPromise(),u={},a.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return Ed("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),_y=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Sy(this.Pt.delete())},t}(),Oy=function(t){function e(e,n){var r=this;return(r=t.call(this,jd.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(fc.c)(e,t),e}(Sd);function ky(t){return"IndexedDbTransactionError"===t.name}var jy=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Ed("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Ed("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Sy(n)},t.prototype.add=function(t){return Ed("SimpleDb","ADD",this.store.name,t,t),Sy(this.store.add(t))},t.prototype.get=function(t){var e=this;return Sy(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Ed("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Ed("SimpleDb","DELETE",this.store.name,t),Sy(this.store.delete(t))},t.prototype.count=function(){return Ed("SimpleDb","COUNT",this.store.name),Sy(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.kt=function(t,e){Ed("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new gy(function(n,r){e.onerror=function(t){var e=Ty(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new gy(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new _y(i),a=e(i.primaryKey,i.value,o);if(a instanceof gy){var s=a.catch(function(t){return o.done(),gy.reject(t)});n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return gy.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Sy(t){return new gy(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Ty(t.target.error);n(e)}})}var Iy=!1;function Ty(t){var e=wy._t(Object(dc.o)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Sd("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Iy||(Iy=!0,setTimeout(function(){throw r},0)),r}}return t}var Ey=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(fc.c)(e,t),e}(by);function Cy(t,e){var n=Rd(t);return wy.It(n.Mt,e)}var xy=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Ev(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Cv(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Cv(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(qd.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},rb())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Fd(this.mutations,t.mutations,function(t,e){return Av(t,e)})&&Fd(this.baseMutations,t.baseMutations,function(t,e){return Av(t,e)})},t}(),Ay=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Dd(e.mutations.length===r.length);for(var i=eb(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),Ny=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=qd.min()),void 0===o&&(o=qd.min()),void 0===a&&(a=Jd.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Dy=function(t){this.Lt=t};function Ry(t,e){if(e.document)return Ab(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=sp.fromSegments(e.noDocument.path),r=Vy(e.noDocument.readTime),i=jp.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=sp.fromSegments(e.unknownDocument.path);return r=Vy(e.unknownDocument.version),jp.newUnknownDocument(o,r)}return Nd()}function Py(t,e,n){var r=Ly(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:jb(t,e.key),fields:e.data.value.mapValue.fields,updateTime:gb(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new oy(null,null,o,a,r,i)}if(e.isNoDocument()){var s=e.key.path.toArray(),u=Fy(e.version);return a=e.hasCommittedMutations,new oy(null,new ry(s,u),null,a,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Fy(e.version);return new oy(new iy(c,l),null,null,!0,r,i)}return Nd()}function Ly(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function My(t){var e=new Ud(t[0],t[1]);return qd.fromTimestamp(e)}function Fy(t){var e=t.toTimestamp();return new Xb(e.seconds,e.nanoseconds)}function Vy(t){var e=new Ud(t.seconds,t.nanoseconds);return qd.fromTimestamp(e)}function Uy(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Db(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Db(t.Lt,e)}),o=Ud.fromMillis(e.localWriteTimeMs);return new xy(e.batchId,o,n,i)}function qy(t){var e,n,r=Vy(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Vy(t.lastLimboFreeSnapshotVersion):qd.min();return void 0!==t.query.documents?(Dd(1===(n=t.query).documents.length),e=tv(Gp(Tb(n.documents[0])))):e=function(t){return tv(Lb(t))}(t.query),new Ny(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Jd.fromBase64String(t.resumeToken))}function By(t,e){var n,r=Fy(e.snapshotVersion),i=Fy(e.lastLimboFreeSnapshotVersion);n=Cp(e.target)?Rb(t.Lt,e.target):Pb(t.Lt,e.target);var o=e.resumeToken.toBase64();return new sy(e.targetId,Tp(e.target),r,o,e.sequenceNumber,i,n)}function Hy(t){var e=Lb({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ev(e,e.limit,"L"):e}var Wy=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return zy(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Vy(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return zy(t).put({bundleId:(n=e).id,createTime:Fy(_b(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Ky(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Hy(e.bundledQuery),readTime:Vy(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Ky(t).put(function(t){return{name:t.name,readTime:Fy(_b(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function zy(t){return Cy(t,fy.store)}function Ky(t){return Cy(t,dy.store)}var Gy=function(){function t(){this.Bt=new Qy}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),gy.resolve()},t.prototype.getCollectionParents=function(t,e){return gy.resolve(this.Bt.getEntries(e))},t}(),Qy=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Qv(Kd.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Qv(Kd.comparator)).toArray()},t}(),Yy=function(){function t(){this.qt=new Qy}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:Qb(i)};return Jy(t).put(o)}return gy.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Vd(e),""],!1,!0);return Jy(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Zb(o.parent))}return n})},t}();function Jy(t){return Cy(t,ly.store)}var Zy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xy=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function $y(t,e,n){var r=t.store(ey.store),i=t.store(ny.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},function(t,e,n){return s++,n.delete()});o.push(u.next(function(){Dd(1===s)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=ny.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return gy.waitFor(o).next(function(){return c})}function tg(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Nd();e=t.noDocument}return JSON.stringify(e).length}Xy.DEFAULT_COLLECTION_PERCENTILE=10,Xy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xy.DEFAULT=new Xy(41943040,Xy.DEFAULT_COLLECTION_PERCENTILE,Xy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xy.DISABLED=new Xy(-1,0,0);var eg=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return Dd(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rg(t).$t({index:ey.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=ig(t),a=rg(t);return a.add({}).next(function(s){Dd("number"==typeof s);for(var u=new xy(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Nb(t.Lt,e)}),i=n.mutations.map(function(e){return Nb(t.Lt,e)});return new ey(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Qv(function(t,e){return Md(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],v=ny.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,ny.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Kt[s]=u.keys()}),gy.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return rg(t).get(e).next(function(t){return t?(Dd(t.userId===n.userId),Uy(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?gy.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return rg(t).$t({index:ey.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Dd(e.batchId>=r),o=Uy(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return rg(t).$t({index:ey.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rg(t).Nt(ey.userMutationsIndex,n).next(function(t){return t.map(function(t){return Uy(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=ny.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return ig(t).$t({range:i},function(r,i,a){var s=r[0],u=r[2],c=Zb(r[1]);if(s===n.userId&&e.path.isEqual(c))return rg(t).get(u).next(function(t){if(!t)throw Nd();Dd(t.userId===n.userId),o.push(Uy(n.R,t))});a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Qv(Md),i=[];return e.forEach(function(e){var o=ny.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=ig(t).$t({range:a},function(t,i,o){var a=t[0],s=t[2],u=Zb(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):o.done()});i.push(s)}),gy.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=ny.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Qv(Md);return ig(t).$t({range:a},function(t,e,o){var a=t[0],u=t[2],c=Zb(t[1]);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(u)):o.done()}).next(function(){return n.Wt(t,s)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(rg(t).get(e).next(function(t){if(null===t)throw Nd();Dd(t.userId===n.userId),r.push(Uy(n.R,t))}))}),gy.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return $y(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),gy.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return gy.resolve();var r=IDBKeyRange.lowerBound(ny.prefixForUser(e.userId)),i=[];return ig(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=Zb(t[1]);i.push(o)}else r.done()}).next(function(){Dd(0===i.length)})})},t.prototype.containsKey=function(t,e){return ng(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return og(t).get(this.userId).next(function(t){return t||new ty(e.userId,-1,"")})},t}();function ng(t,e,n){var r=ny.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return ig(t).$t({range:o,Ft:!0},function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()}).next(function(){return a})}function rg(t){return Cy(t,ey.store)}function ig(t){return Cy(t,ny.store)}function og(t){return Cy(t,ty.store)}var ag=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),sg=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new ag(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return qd.fromTimestamp(new Ud(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return ug(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Dd(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return ug(t).$t(function(a,s){var u=qy(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return gy.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return ug(t).$t(function(t,n){var r=qy(n);e(r)})},t.prototype.Xt=function(t){return cg(t).get(cy.key).next(function(t){return Dd(null!==t),t})},t.prototype.Zt=function(t,e){return cg(t).put(cy.key,e)},t.prototype.te=function(t,e){return ug(t).put(By(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Tp(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ug(t).$t({range:r,index:sy.queryTargetsIndexName},function(t,n,r){var o=qy(n);Ep(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=lg(t);return e.forEach(function(e){var a=Qb(e.path);i.push(o.put(new uy(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))}),gy.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=lg(t);return gy.forEach(e,function(e){var o=Qb(e.path);return gy.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=lg(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=lg(t),i=rb();return r.$t({range:n,Ft:!0},function(t,e,n){var r=Zb(t[1]),o=new sp(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Qb(e.path),r=IDBKeyRange.bound([n],[Vd(n)],!1,!0),i=0;return lg(t).$t({index:uy.documentTargetsIndex,Ft:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return ug(t).get(e).next(function(t){return t?qy(t):null})},t}();function ug(t){return Cy(t,sy.store)}function cg(t){return Cy(t,cy.store)}function lg(t){return Cy(t,uy.store)}function hg(t){return Object(fc.b)(this,void 0,void 0,function(){return Object(fc.d)(this,function(e){if(t.code!==jd.FAILED_PRECONDITION||t.message!==vy)throw t;return Ed("LocalStore","Unexpectedly lost primary lease"),[2]})})}function fg(t,e){var n=t[1],r=e[1],i=Md(t[0],e[0]);return 0===i?Md(n,r):i}var dg=function(){function t(t){this.ne=t,this.buffer=new Qv(fg),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();fg(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),pg=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Ed("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(fc.b)(e,void 0,void 0,function(){var e;return Object(fc.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return ky(e=n.sent())?(Ed("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,hg(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),vg=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return gy.resolve(kd.o);var r=new dg(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ed("LruGarbageCollector","Garbage collection skipped; disabled"),gy.resolve(Zy)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Ed("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Zy):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(Ed("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Td()<=pc.a.DEBUG&&Ed("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),gy.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),bg=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new vg(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return yg(t,n)},t.prototype.removeReference=function(t,e,n){return yg(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return yg(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return og(t).Ot(function(r){return ng(t,r,e).next(function(t){return t&&(n=!0),gy.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(a,s){if(s<=e){var u=n._e(t,a).next(function(e){if(!e)return o++,r.getEntry(t,a).next(function(){return r.removeEntry(a),lg(t).delete([0,Qb(a.path)])})});i.push(u)}}).next(function(){return gy.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return yg(t,e)},t.prototype.we=function(t,e){var n,r=lg(t),i=kd.o;return r.$t({index:uy.documentTargetsIndex},function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==kd.o&&e(new sp(Zb(n)),i),i=a,n=o):i=kd.o}).next(function(){i!==kd.o&&e(new sp(Zb(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function yg(t,e){return lg(t).put(function(t,e){return new uy(0,Qb(t.path),e)}(e,t.currentSequenceNumber))}var gg=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.equalsFn(o[0],t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Hd(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return Wd(this.inner)},t}(),mg=function(){function t(){this.changes=new gg(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:qd.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:jp.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?gy.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),wg=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return kg(t).put(jg(e),n)},t.prototype.removeEntry=function(t,e){var n=kg(t),r=jg(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return kg(t).get(jg(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return kg(t).get(jg(e)).next(function(t){return{document:n.ye(e,t),size:tg(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=Zv();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=Zv(),i=new zv(sp.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,tg(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return gy.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return kg(t).$t({range:r},function(t,e,r){for(var a=sp.fromSegments(t);o&&sp.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Zv(),o=e.path.length+1,a={};if(n.isEqual(qd.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=Ly(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=oy.collectionReadTimeIndex}return kg(t).$t(a,function(t,n,a){if(t.length===o){var s=Ry(r.R,n);e.path.isPrefixOf(s.key.path)?ov(e,s)&&(i=i.insert(s.key,s)):a.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new _g(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Og(t).get(ay.key).next(function(t){return Dd(!!t),t})},t.prototype.me=function(t,e){return Og(t).put(ay.key,e)},t.prototype.ye=function(t,e){if(e){var n=Ry(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(qd.min()))return n}return jp.newInvalidDocument(t)},t}(),_g=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new gg(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(fc.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Qv(function(t,e){return Md(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var u=Py(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=tg(u);r+=c-s,n.push(e.Ie.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var l=Py(e.Ie.R,jp.newNoDocument(o,qd.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),gy.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(mg);function Og(t){return Cy(t,ay.store)}function kg(t){return Cy(t,oy.store)}function jg(t){return t.path.toArray()}var Sg=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Dd(n<r&&n>=0&&r<=11);var o=new my("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore($b.store)}(t),function(t){t.createObjectStore(ty.store,{keyPath:ty.keyPath}),t.createObjectStore(ey.store,{keyPath:ey.keyPath,autoIncrement:!0}).createIndex(ey.userMutationsIndex,ey.userMutationsKeyPath,{unique:!0}),t.createObjectStore(ny.store)}(t),Ig(t),function(t){t.createObjectStore(oy.store)}(t));var a=gy.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(uy.store),t.deleteObjectStore(sy.store),t.deleteObjectStore(cy.store)}(t),Ig(t)),a=a.next(function(){return function(t){var e=t.store(cy.store),n=new cy(0,0,qd.min().toTimestamp(),0);return e.put(cy.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(a=a.next(function(){return function(t,e){return e.store(ey.store).Nt().next(function(n){t.deleteObjectStore(ey.store),t.createObjectStore(ey.store,{keyPath:ey.keyPath,autoIncrement:!0}).createIndex(ey.userMutationsIndex,ey.userMutationsKeyPath,{unique:!0});var r=e.store(ey.store),i=n.map(function(t){return r.put(t)});return gy.waitFor(i)})}(t,o)})),a=a.next(function(){!function(t){t.createObjectStore(hy.store,{keyPath:hy.keyPath})}(t)})),n<5&&r>=5&&(a=a.next(function(){return i.Re(o)})),n<6&&r>=6&&(a=a.next(function(){return function(t){t.createObjectStore(ay.store)}(t),i.be(o)})),n<7&&r>=7&&(a=a.next(function(){return i.ve(o)})),n<8&&r>=8&&(a=a.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(a=a.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(oy.store);e.createIndex(oy.readTimeIndex,oy.readTimeIndexPath,{unique:!1}),e.createIndex(oy.collectionReadTimeIndex,oy.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(a=a.next(function(){return i.Ve(o)})),n<11&&r>=11&&(a=a.next(function(){!function(t){t.createObjectStore(fy.store,{keyPath:fy.keyPath})}(t),function(t){t.createObjectStore(dy.store,{keyPath:dy.keyPath})}(t)})),a},t.prototype.be=function(t){var e=0;return t.store(oy.store).$t(function(t,n){e+=tg(n)}).next(function(){var n=new ay(e);return t.store(ay.store).put(ay.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(ty.store),r=t.store(ey.store);return n.Nt().next(function(n){return gy.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(ey.userMutationsIndex,i).next(function(r){return gy.forEach(r,function(r){Dd(r.userId===n.userId);var i=Uy(e.R,r);return $y(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(uy.store),n=t.store(oy.store);return t.store(cy.store).get(cy.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new Kd(n),a=function(t){return[0,Qb(t)]}(o);r.push(e.get(a).next(function(n){return n?gy.resolve():function(n){return e.put(new uy(0,Qb(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return gy.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(ly.store,{keyPath:ly.keyPath});var n=e.store(ly.store),r=new Qy,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Qb(i)})}};return e.store(oy.store).$t({Ft:!0},function(t,e){var n=new Kd(t);return i(n.popLast())}).next(function(){return e.store(ny.store).$t({Ft:!0},function(t,e){var n=Zb(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(sy.store);return n.$t(function(t,r){var i=qy(r),o=By(e.R,i);return n.put(o)})},t}();function Ig(t){t.createObjectStore(uy.store,{keyPath:uy.keyPath}).createIndex(uy.documentTargetsIndex,uy.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(sy.store,{keyPath:sy.keyPath}).createIndex(sy.queryTargetsIndexName,sy.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(cy.store)}var Tg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Eg=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Sd(jd.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bg(this,i),this.Le=n+"main",this.R=new Dy(u),this.Be=new wy(this.Le,11,new Sg(this.R)),this.qe=new sg(this.referenceDelegate,this.R),this.Ut=new Yy,this.Ue=function(t,e){return new wg(t,e)}(this.R,this.Ut),this.Ke=new Wy,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Cd("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Sd(jd.FAILED_PRECONDITION,Tg);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new kd(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(fc.b)(e,void 0,void 0,function(){return Object(fc.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(fc.b)(e,void 0,void 0,function(){return Object(fc.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(fc.b)(e,void 0,void 0,function(){return Object(fc.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return xg(e).put(new hy(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(ky(e))return Ed("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Ed("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Cg(t).get($b.key).next(function(t){return gy.resolve(e.tn(t))})},t.prototype.en=function(t){return xg(t).delete(this.clientId)},t.prototype.nn=function(){return Object(fc.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(fc.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Cy(t,hy.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return gy.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?gy.resolve(!0):Cg(t).get($b.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Sd(jd.FAILED_PRECONDITION,Tg);return!1}}return!(!e.networkEnabled||!e.inForeground)||xg(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Ed("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(fc.b)(this,void 0,void 0,function(){var t=this;return Object(fc.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[$b.store,hy.store],function(e){var n=new Ey(e,kd.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return xg(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return eg.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Ed("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",py,function(o){return r=new Ey(o,i.Ne?i.Ne.next():kd.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Cd("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Sd(jd.FAILED_PRECONDITION,vy);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Cg(t).get($b.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Sd(jd.FAILED_PRECONDITION,Tg)})},t.prototype.Ze=function(t){var e=new $b(this.clientId,this.allowTabSynchronization,Date.now());return Cg(t).put($b.key,e)},t.yt=function(){return wy.yt()},t.prototype.Xe=function(t){var e=this,n=Cg(t);return n.get($b.key).next(function(t){return e.tn(t)?(Ed("IndexedDbPersistence","Releasing primary lease."),n.delete($b.key)):gy.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Cd("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),Object(dc.z)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return Ed("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Cd("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Cd("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Cg(t){return Cy(t,$b.store)}function xg(t){return Cy(t,hy.store)}function Ag(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Ng=function(t,e){this.progress=t,this.wn=e},Dg=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return sp.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Xp(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new sp(e)).next(function(t){var e=$v();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=$v();return this.Ut.getCollectionParents(t,i).next(function(a){return gy.forEach(a,function(a){var s=function(t,e){return new zp(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.An(t,s,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=jp.newInvalidDocument(c),r=r.insert(c,l)),Cv(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){ov(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=rb(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Rv&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),Rg=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=rb(),i=rb(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Pg=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(qd.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var a=i.Cn(e,o);return(Qp(e)||Yp(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):(Td()<=pc.a.DEBUG&&Ed("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),iv(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return a.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new Qv(av(t));return e.forEach(function(e,r){ov(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Td()<=pc.a.DEBUG&&Ed("QueryEngine","Using full collection scan to execute query:",iv(e)),this.Sn.getDocumentsMatchingQuery(t,e,qd.min())},t}(),Lg=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new zv(Md),this.Fn=new gg(function(t){return Tp(t)},Ep),this.$n=qd.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Dg(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.kn)})},t}();function Mg(t,e,n,r){return new Lg(t,e,n,r)}function Fg(t,e){return Object(fc.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(fc.d)(this,function(a){switch(a.label){case 0:return n=Rd(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new Dg(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],a=rb(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)a=a.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var v=0,b=p.mutations;v<b.length;v++)a=a.add(b[v].key)}return i.pn(t,a).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function Vg(t,e){var n=Rd(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=gy.resolve();return o.forEach(function(t){a=a.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);Dd(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),a.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function Ug(t){var e=Rd(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function qg(t,e){var n=Rd(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];e.targetChanges.forEach(function(e,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Dd(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.qe.updateTargetData(t,c))}}});var s=Zv();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),a.push(Bg(t,o,e.documentUpdates,r,void 0).next(function(t){s=t})),!r.isEqual(qd.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});a.push(u)}return gy.waitFor(a).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,s)}).next(function(){return s})}).then(function(t){return n.kn=i,t})}function Bg(t,e,n,r,i){var o=rb();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Zv();return n.forEach(function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(qd.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):Ed("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),o})}function Hg(t,e){var n=Rd(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function Wg(t,e){var n=Rd(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?gy.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new Ny(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.kn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t})}function zg(t,e,n){return Object(fc.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(fc.d)(this,function(s){switch(s.label){case 0:r=Rd(t),i=r.kn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!ky(a=s.sent()))throw a;return Ed("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}})})}function Kg(t,e,n){var r=Rd(t),i=qd.min(),o=rb();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Rd(t),i=r.Fn.get(n);return void 0!==i?gy.resolve(r.kn.get(i)):r.qe.getTargetData(e,n)}(r,t,tv(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:qd.min(),n?o:rb())}).next(function(t){return{documents:t,Bn:o}})})}function Gg(t,e){var n=Rd(t),r=Rd(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function Qg(t){var e=Rd(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Rd(t),i=Zv(),o=Ly(n),a=kg(e),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:oy.readTimeIndex,range:s},function(t,e){var n=Ry(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:My(o)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function Yg(t){return Object(fc.b)(this,void 0,void 0,function(){var e;return Object(fc.d)(this,function(n){return[2,(e=Rd(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=kg(t),n=qd.min();return e.$t({index:oy.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=My(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function Jg(t,e,n,r){return Object(fc.b)(this,void 0,void 0,function(){var i,o,a,s,u,c,l,h,f,d;return Object(fc.d)(this,function(p){switch(p.label){case 0:for(i=Rd(t),o=rb(),a=Zv(),s=eb(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,e.Un(l)),s=s.insert(h,e.Kn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,Wg(i,function(t){return tv(Gp(Kd.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Bg(t,f,a,qd.min(),s).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function Zg(t,e,n){return void 0===n&&(n=rb()),Object(fc.b)(this,void 0,void 0,function(){var r,i;return Object(fc.d)(this,function(o){switch(o.label){case 0:return[4,Wg(t,tv(Hy(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Rd(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=_b(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(t,e);var a=r.withResumeToken(Jd.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(t,a).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(t,e)})})]}})})}var Xg=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return gy.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:_b(n.createTime)}),gy.resolve()},t.prototype.getNamedQuery=function(t,e){return gy.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Hy(t.bundledQuery),readTime:_b(t.readTime)}}(e)),gy.resolve()},t}(),$g=function(){function t(){this.Wn=new Qv(tm.Gn),this.zn=new Qv(tm.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new tm(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new tm(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new sp(new Kd([])),r=new tm(n,t),i=new tm(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new sp(new Kd([])),n=new tm(e,t),r=new tm(e,t+1),i=rb();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new tm(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),tm=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return sp.comparator(t.key,e.key)||Md(t.ns,e.ns)},t.Hn=function(t,e){return Md(t.ns,e.ns)||sp.comparator(t.key,e.key)},t}(),em=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Qv(tm.Gn)}return t.prototype.checkEmpty=function(t){return gy.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new xy(i,e,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new tm(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return gy.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return gy.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return gy.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return gy.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return gy.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new tm(e,0),i=new tm(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),gy.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Qv(Md);return e.forEach(function(t){var e=new tm(t,0),i=new tm(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),gy.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;sp.isDocumentKey(i)||(i=i.child(""));var o=new tm(new sp(i),0),a=new Qv(Md);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)},o),gy.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Dd(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return gy.forEach(e.mutations,function(i){var o=new tm(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new tm(e,0),r=this.rs.firstAfterOrEqual(n);return gy.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return gy.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),nm=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new zv(sp.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return gy.resolve(n?n.document.clone():jp.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Zv();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():jp.newInvalidDocument(t))}),gy.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Zv(),i=new sp(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.value,u=s.document,c=s.readTime;if(!e.path.isPrefixOf(a.key.path))break;c.compareTo(n)<=0||ov(e,u)&&(r=r.insert(u.key,u.clone()))}return gy.resolve(r)},t.prototype.fs=function(t,e){return gy.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new rm(this)},t.prototype.getSize=function(t){return gy.resolve(this.size)},t}(),rm=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(fc.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),gy.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(mg),im=function(){function t(t){this.persistence=t,this.ds=new gg(function(t){return Tp(t)},Ep),this.lastRemoteSnapshotVersion=qd.min(),this.highestTargetId=0,this.ws=0,this._s=new $g,this.targetCount=0,this.ys=ag.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),gy.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return gy.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return gy.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),gy.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),gy.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new ag(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,gy.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),gy.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,gy.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),gy.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return gy.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return gy.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),gy.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),gy.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),gy.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return gy.resolve(n)},t.prototype.containsKey=function(t,e){return gy.resolve(this._s.containsKey(e))},t}(),om=function(){function t(t,e){var n=this;this.gs={},this.Ne=new kd(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new im(this),this.Ut=new Gy,this.Ue=function(t,e){return new nm(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Dy(e),this.Ke=new Xg(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new em(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;Ed("MemoryPersistence","Starting transaction:",t);var i=new am(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return gy.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),am=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(fc.c)(e,t),e}(by),sm=function(){function t(t){this.persistence=t,this.As=new $g,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Nd()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),gy.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),gy.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),gy.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gy.forEach(this.vs,function(r){var i=sp.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return gy.or([function(){return gy.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),um=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function cm(t,e){return"firestore_clients_"+t+"_"+e}function lm(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function hm(t,e){return"firestore_targets_"+t+"_"+e}um.UNAUTHENTICATED=new um(null),um.GOOGLE_CREDENTIALS=new um("google-credentials-uid"),um.FIRST_PARTY=new um("first-party-uid"),um.MOCK_USER=new um("mock-user");var fm=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Sd(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(Cd("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),dm=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Sd(i.error.code,i.error.message)),o?new t(e,i.state,r):(Cd("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),pm=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=ob(),a=0;i&&a<r.activeTargetIds.length;++a)i=ap(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(Cd("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),vm=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Cd("SharedClientState","Failed to parse online state: "+e),null)},t}(),bm=function(){function t(){this.activeTargetIds=ob()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),ym=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new zv(Md),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=cm(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new bm),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(fc.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,a,s,u,c,l=this;return Object(fc.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(cm(this.persistenceKey,r)))&&(o=pm.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)this.ks(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(hm(this.persistenceKey,t));if(n){var r=dm.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(hm(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ed("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Ed("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Ed("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Ed("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Cd("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(fc.b)(e,void 0,void 0,function(){var t,e,r,i,o,a;return Object(fc.d)(this,function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(t){var e=kd.o;if(null!=t)try{var n=JSON.parse(t);Dd("number"==typeof n),e=n}catch(t){Cd("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==kd.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new fm(this.currentUser,t,e,n),i=lm(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=lm(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=hm(this.persistenceKey,t),i=new dm(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return pm.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return fm.Vs(new um(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return dm.Vs(r,e)},t.prototype.js=function(t){return vm.Vs(t)},t.prototype.ii=function(t){return Object(fc.b)(this,void 0,void 0,function(){return Object(fc.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Ed("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach(function(t){i.has(t)||a.push(t)}),i.forEach(function(t){o.has(t)||s.push(t)}),this.syncEngine.hi(a,s).then(function(){n.Fs=r})},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=ob();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),gm=function(){function t(){this.li=new bm,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new bm,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),mm=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),wm=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Ed("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Ed("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),_m={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Om=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),km=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(fc.c)(e,t),e.prototype.Fi=function(t,e,n,r){return new Promise(function(i,o){var a=new Od;a.listenOnce(gd.COMPLETE,function(){try{switch(a.getLastErrorCode()){case yd.NO_ERROR:var e=a.getResponseJson();Ed("Connection","XHR received:",JSON.stringify(e)),i(e);break;case yd.TIMEOUT:Ed("Connection",'RPC "'+t+'" timed out'),o(new Sd(jd.DEADLINE_EXCEEDED,"Request time out"));break;case yd.HTTP_ERROR:var n=a.getStatus();if(Ed("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(jd).indexOf(e)>=0?e:jd.UNKNOWN}(r.status);o(new Sd(s,r.message))}else o(new Sd(jd.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Sd(jd.UNAVAILABLE,"Connection failed."));break;default:Nd()}}finally{Ed("Connection",'RPC "'+t+'" completed.')}});var s=JSON.stringify(r);a.send(e,"POST",s,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new fd,i=oh(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new wd({})),this.ki(o.initMessageHeaders,e),Object(dc.v)()||Object(dc.y)()||Object(dc.s)()||Object(dc.u)()||Object(dc.A)()||Object(dc.r)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Ed("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new Om({Ei:function(t){c?Ed("Connection","Not sending because WebChannel is closed:",t):(u||(Ed("Connection","Opening WebChannel transport."),s.open(),u=!0),Ed("Connection","WebChannel sending:",t),s.send(t))},Ti:function(){return s.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(s,_d.EventType.OPEN,function(){c||Ed("Connection","WebChannel transport opened.")}),h(s,_d.EventType.CLOSE,function(){c||(c=!0,Ed("Connection","WebChannel transport closed"),l.Vi())}),h(s,_d.EventType.ERROR,function(t){c||(c=!0,xd("Connection","WebChannel transport errored:",t),l.Vi(new Sd(jd.UNAVAILABLE,"The operation could not be completed")))}),h(s,_d.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Dd(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Ed("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Fv[t];if(void 0!==e)return Wv(e)}(i),a=r.message;void 0===o&&(o=jd.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Sd(o,a)),s.close()}else Ed("Connection","WebChannel received:",n),l.Si(n)}}),h(i,md.STAT_EVENT,function(t){10===t.stat?Ed("Connection","Detected buffering proxy"):11===t.stat&&Ed("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Ed("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(t,i,o,n).then(function(t){return Ed("RestConnection","Received: ",t),t},function(e){throw xd("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+_m[t]},t}());function jm(){return"undefined"!=typeof window?window:null}function Sm(){return"undefined"!=typeof document?document:null}function Im(t){return new yb(t,!0)}var Tm=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Ed("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Em=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Tm(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(fc.b)(this,void 0,void 0,function(){return Object(fc.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(fc.b)(this,void 0,void 0,function(){return Object(fc.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(fc.b)(this,void 0,void 0,function(){return Object(fc.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===jd.RESOURCE_EXHAUSTED?(Cd(e.toString()),Cd("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===jd.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Sd(jd.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(fc.b)(t,void 0,void 0,function(){return Object(fc.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return Ed("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(Ed("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Cm=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return Object(fc.c)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Nd()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Dd(void 0===e||"string"==typeof e),Jd.fromBase64String(e||"")):(Dd(void 0===e||e instanceof Uint8Array),Jd.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?jd.UNKNOWN:Wv(t.code);return new Sd(e,t.message||"")}(s);n=new lb(r,i,o,a||null)}else if("documentChange"in e){i=Sb(t,(r=e.documentChange).document.name),o=_b(r.document.updateTime);var s=new Op({mapValue:{fields:r.document.fields}}),u=(a=jp.newFoundDocument(i,o,s),r.targetIds||[]);n=new ub(u,r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e)i=Sb(t,(r=e.documentDelete).document),o=r.readTime?_b(r.readTime):qd.min(),s=jp.newNoDocument(i,o),n=new ub([],a=r.removedTargetIds||[],s.key,s);else if("documentRemove"in e)i=Sb(t,(r=e.documentRemove).document),n=new ub([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Nd();var c=e.filter;i=new Bv(r=c.count||0),n=new cb(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return qd.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?qd.min():e.readTime?_b(e.readTime):qd.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Eb(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Cp(r)?{documents:Rb(t,r)}:{query:Pb(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=mb(t,e.resumeToken):e.snapshotVersion.compareTo(qd.min())>0&&(n.readTime=gb(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Nd()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Eb(this.R),e.removeTarget=t,this.cr(e)},e}(Em),xm=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return Object(fc.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Dd(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Dd(void 0!==e),t.map(function(t){return function(t,e){var n=_b(t.updateTime?t.updateTime:e);return n.isEqual(qd.min())&&(n=_b(e)),new jv(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=_b(t.commitTime);return this.listener.Tr(n,e)}return Dd(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Eb(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Nb(e.R,t)})};this.cr(n)},e}(Em),Am=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(fc.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new Sd(jd.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===jd.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Sd(jd.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===jd.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Sd(jd.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Nm=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Cd(e),this.Vr=!1):Ed("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Dm=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(fc.b)(o,void 0,void 0,function(){return Object(fc.d)(this,function(t){switch(t.label){case 0:return Bm(this)?(Ed("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(fc.b)(this,void 0,void 0,function(){var e;return Object(fc.d)(this,function(n){switch(n.label){case 0:return(e=Rd(t)).Or.add(4),[4,Pm(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Rm(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Nm(n,r)};function Rm(t){return Object(fc.b)(this,void 0,void 0,function(){var e,n;return Object(fc.d)(this,function(r){switch(r.label){case 0:if(!Bm(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Pm(t){return Object(fc.b)(this,void 0,void 0,function(){var e,n;return Object(fc.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Lm(t,e){var n=Rd(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),qm(n)?Um(n):rw(n).er()&&Fm(n,e))}function Mm(t,e){var n=Rd(t),r=rw(n);n.$r.delete(e),r.er()&&Vm(n,e),0===n.$r.size&&(r.er()?r.ir():Bm(n)&&n.Br.set("Unknown"))}function Fm(t,e){t.qr.U(e.targetId),rw(t).mr(e)}function Vm(t,e){t.qr.U(e),rw(t).yr(e)}function Um(t){t.qr=new fb({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),rw(t).start(),t.Br.Sr()}function qm(t){return Bm(t)&&!rw(t).tr()&&t.$r.size>0}function Bm(t){return 0===Rd(t).Or.size}function Hm(t){t.qr=void 0}function Wm(t){return Object(fc.b)(this,void 0,void 0,function(){return Object(fc.d)(this,function(e){return t.$r.forEach(function(e,n){Fm(t,e)}),[2]})})}function zm(t,e){return Object(fc.b)(this,void 0,void 0,function(){return Object(fc.d)(this,function(n){return Hm(t),qm(t)?(t.Br.Nr(e),Um(t)):t.Br.set("Unknown"),[2]})})}function Km(t,e,n){return Object(fc.b)(this,void 0,void 0,function(){var r,i,o;return Object(fc.d)(this,function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof lb&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Object(fc.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(fc.d)(this,function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:a.sent(),t.$r.delete(o),t.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Ed("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Gm(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ub?t.qr.X(e):e instanceof cb?t.qr.rt(e):t.qr.et(e),n.isEqual(qd.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Ug(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(Jd.EMPTY_BYTE_STRING,n.snapshotVersion)),Vm(t,e);var r=new Ny(n.target,e,1,n.sequenceNumber);Fm(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Ed("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Gm(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Gm(t,e,n){return Object(fc.b)(this,void 0,void 0,function(){var r=this;return Object(fc.d)(this,function(i){switch(i.label){case 0:if(!ky(e))throw e;return t.Or.add(1),[4,Pm(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Ug(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(fc.b)(r,void 0,void 0,function(){return Object(fc.d)(this,function(e){switch(e.label){case 0:return Ed("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Rm(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Qm(t,e){return e().catch(function(n){return Gm(t,n,e)})}function Ym(t){return Object(fc.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(fc.d)(this,function(a){switch(a.label){case 0:e=Rd(t),n=iw(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return Bm(t)&&t.Fr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Hg(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.Fr.push(e);var n=iw(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,Gm(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Jm(e)&&Zm(e),[2]}})})}function Jm(t){return Bm(t)&&!iw(t).tr()&&t.Fr.length>0}function Zm(t){iw(t).start()}function Xm(t){return Object(fc.b)(this,void 0,void 0,function(){return Object(fc.d)(this,function(e){return iw(t).Ar(),[2]})})}function $m(t){return Object(fc.b)(this,void 0,void 0,function(){var e,n,r;return Object(fc.d)(this,function(i){for(e=iw(t),n=0,r=t.Fr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function tw(t,e,n){return Object(fc.b)(this,void 0,void 0,function(){var r,i;return Object(fc.d)(this,function(o){switch(o.label){case 0:return r=t.Fr.shift(),i=Ay.from(r,e,n),[4,Qm(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Ym(t)];case 2:return o.sent(),[2]}})})}function ew(t,e){return Object(fc.b)(this,void 0,void 0,function(){return Object(fc.d)(this,function(n){switch(n.label){case 0:return e&&iw(t).pr?[4,function(t,e){return Object(fc.b)(this,void 0,void 0,function(){var n,r;return Object(fc.d)(this,function(i){switch(i.label){case 0:return Hv(r=e.code)&&r!==jd.ABORTED?(n=t.Fr.shift(),iw(t).sr(),[4,Qm(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Ym(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Jm(t)&&Zm(t),[2]}})})}function nw(t,e){return Object(fc.b)(this,void 0,void 0,function(){var n;return Object(fc.d)(this,function(r){switch(r.label){case 0:return n=Rd(t),e?(n.Or.delete(2),[4,Rm(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Pm(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function rw(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Rd(t);return r.br(),new Cm(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Wm.bind(null,t),Ri:zm.bind(null,t),_r:Km.bind(null,t)}),t.Mr.push(function(n){return Object(fc.b)(e,void 0,void 0,function(){return Object(fc.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),qm(t)?Um(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Hm(t),e.label=3;case 3:return[2]}})})})),t.Ur}function iw(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=Rd(t);return r.br(),new xm(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Xm.bind(null,t),Ri:ew.bind(null,t),Ir:$m.bind(null,t),Tr:tw.bind(null,t)}),t.Mr.push(function(n){return Object(fc.b)(e,void 0,void 0,function(){return Object(fc.d)(this,function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,Ym(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.Fr.length>0&&(Ed("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),e.label=4;case 4:return[2]}})})})),t.Kr}var ow=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new yy,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Sd(jd.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function aw(t,e){if(Cd("AsyncQueue",e+": "+t),ky(t))return new Sd(jd.UNAVAILABLE,e+": "+t);throw t}var sw=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||sp.comparator(e.key,n.key)}:function(t,e){return sp.comparator(t.key,e.key)},this.keyedMap=$v(),this.sortedSet=new zv(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),uw=function(){function t(){this.Qr=new zv(sp.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Nd():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),cw=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,sw.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&nv(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),lw=function(){this.Wr=void 0,this.listeners=[]},hw=function(){this.queries=new gg(function(t){return rv(t)},nv),this.onlineState="Unknown",this.Gr=new Set};function fw(t,e){return Object(fc.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return Object(fc.d)(this,function(c){switch(c.label){case 0:if(n=Rd(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new lw),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=aw(s,"Initialization of query '"+iv(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&bw(n),[2]}})})}function dw(t,e){return Object(fc.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(fc.d)(this,function(s){return n=Rd(t),i=!1,(o=n.queries.get(r=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function pw(t,e){for(var n=Rd(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=n.queries.get(a.query);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Hr(a)&&(r=!0);s.Wr=a}}r&&bw(n)}function vw(t,e,n){var r=Rd(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function bw(t){t.Gr.forEach(function(t){t.next()})}var yw=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new cw(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=cw.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),gw=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),mw=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Sb(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Ab(this.R,t.document,!1):jp.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return _b(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new mw(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||rb()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(fc.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(fc.d)(this,function(o){switch(o.label){case 0:return[4,Jg(this.localStore,new mw(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Zg(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Ng(Object.assign({},this.progress),t))]}})})}}();var ww=function(t){this.key=t},_w=function(t){this.key=t},Ow=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=rb(),this.mutatedKeys=rb(),this.lo=av(t),this.fo=new sw(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new uw,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Qp(this.query)&&i.size===this.query.limit?i.last():null,c=Yp(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=ov(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),Qp(this.query)||Yp(this.query))for(;a.size>this.query.limit;){var l=Qp(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nd()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new cw(this.query,t.fo,i,o,t.mutatedKeys,0===s,u,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new uw,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=rb(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new _w(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new ww(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=rb();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return cw.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),kw=function(t,e,n){this.query=t,this.targetId=e,this.view=n},jw=function(t){this.key=t,this.bo=!1},Sw=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new gg(function(t){return rv(t)},nv),this.Vo=new Map,this.So=new Set,this.Do=new zv(sp.comparator),this.Co=new Map,this.No=new $g,this.xo={},this.ko=new Map,this.Fo=ag.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Iw(t,e){return Object(fc.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(fc.d)(this,function(s){switch(s.label){case 0:return n=e_(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Wg(n.localStore,tv(e))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Tw(n,e,o.targetId,"current"===a)];case 3:r=s.sent(),n.isPrimaryClient&&Lm(n.remoteStore,o),s.label=4;case 4:return[2,r]}})})}function Tw(t,e,n,r){return Object(fc.b)(this,void 0,void 0,function(){var i,o,a,s,u,c;return Object(fc.d)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Object(fc.b)(this,void 0,void 0,function(){var i,o,a;return Object(fc.d)(this,function(s){switch(s.label){case 0:return(i=e.view._o(n)).Nn?[4,Kg(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Uw(t,e.targetId,a.To),a.snapshot)]}})})}(t,e,n,r)},[4,Kg(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Ow(e,i.Bn),a=o._o(i.documents),s=sb.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(a,t.isPrimaryClient,s),Uw(t,n,u.To),c=new kw(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function Ew(t,e){return Object(fc.b)(this,void 0,void 0,function(){var n,r,i;return Object(fc.d)(this,function(o){switch(o.label){case 0:return n=Rd(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!nv(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,zg(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Mm(n.remoteStore,r.targetId),Fw(n,r.targetId)}).catch(hg)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Fw(n,r.targetId),[4,zg(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Cw(t,e,n){return Object(fc.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(fc.d)(this,function(s){switch(s.label){case 0:r=n_(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=Rd(t),i=Ud.now(),o=e.reduce(function(t,e){return t.add(e.key)},rb());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=xv(c,n.get(c.key));null!=l&&a.push(new Rv(c.key,l,kp(l.value.mapValue),Sv.exists(!0)))}return r._n.addMutationBatch(t,i,a,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new zv(Md)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Hw(r,i.changes)];case 3:return s.sent(),[4,Ym(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=aw(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function xw(t,e){return Object(fc.b)(this,void 0,void 0,function(){var n,r;return Object(fc.d)(this,function(i){switch(i.label){case 0:n=Rd(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,qg(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Dd(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Dd(r.bo):t.removedDocuments.size>0&&(Dd(r.bo),r.bo=!1))}),[4,Hw(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,hg(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Aw(t,e,n){var r=Rd(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Rd(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&bw(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Nw(t,e,n){return Object(fc.b)(this,void 0,void 0,function(){var r,i,o,a,s,u;return Object(fc.d)(this,function(c){switch(c.label){case 0:return(r=Rd(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new zv(sp.comparator)).insert(o,jp.newNoDocument(o,qd.min())),s=rb().add(o),u=new ab(qd.min(),new Map,new Qv(Md),a,s),[4,xw(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Bw(r),[3,4];case 2:return[4,zg(r.localStore,e,!1).then(function(){return Fw(r,e,n)}).catch(hg)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Dw(t,e){return Object(fc.b)(this,void 0,void 0,function(){var n,r,i;return Object(fc.d)(this,function(o){switch(o.label){case 0:n=Rd(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Vg(n.localStore,e)];case 2:return i=o.sent(),Mw(n,r,null),Lw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Hw(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,hg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Rw(t,e,n){return Object(fc.b)(this,void 0,void 0,function(){var r,i;return Object(fc.d)(this,function(o){switch(o.label){case 0:r=Rd(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Rd(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Dd(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),Mw(r,e,n),Lw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Hw(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,hg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Pw(t,e){return Object(fc.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(fc.d)(this,function(s){switch(s.label){case 0:Bm((n=Rd(t)).remoteStore)||Ed("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=Rd(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.ko.get(r)||[]).push(e),n.ko.set(r,i),[3,4]);case 3:return o=s.sent(),a=aw(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function Lw(t,e){(t.ko.get(e)||[]).forEach(function(t){t.resolve()}),t.ko.delete(e)}function Mw(t,e,n){var r=Rd(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Fw(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Vw(t,e)})}function Vw(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Mm(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Bw(t))}function Uw(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof ww?(t.No.addReference(o.key,e),qw(t,o)):o instanceof _w?(Ed("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Vw(t,o.key)):Nd()}}function qw(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Ed("SyncEngine","New document in limbo: "+n),t.So.add(r),Bw(t))}function Bw(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new sp(Kd.fromString(e)),r=t.Fo.next();t.Co.set(r,new jw(n)),t.Do=t.Do.insert(n,r),Lm(t.remoteStore,new Ny(tv(Gp(n.path)),r,2,kd.o))}}function Hw(t,e,n){return Object(fc.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(fc.d)(this,function(s){switch(s.label){case 0:return r=Rd(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,s){a.push(r.Oo(s,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Rg.Pn(s.targetId,t);o.push(e)}}))}),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(t,e){return Object(fc.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c;return Object(fc.d)(this,function(l){switch(l.label){case 0:n=Rd(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return gy.forEach(e,function(e){return gy.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return gy.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!ky(r=l.sent()))throw r;return Ed("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(u=n.kn.get(s),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.kn=n.kn.insert(s,c));return[2]}})})}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function Ww(t,e){return Object(fc.b)(this,void 0,void 0,function(){var n,r;return Object(fc.d)(this,function(i){switch(i.label){case 0:return(n=Rd(t)).currentUser.isEqual(e)?[3,3]:(Ed("SyncEngine","User change. New user:",e.toKey()),[4,Fg(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.ko.forEach(function(t){t.forEach(function(t){t.reject(new Sd(jd.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Hw(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function zw(t,e){var n=Rd(t),r=n.Co.get(e);if(r&&r.bo)return rb().add(r.key);var i=rb(),o=n.Vo.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.Po.get(s[a]);i=i.unionWith(u.view.wo)}return i}function Kw(t,e){return Object(fc.b)(this,void 0,void 0,function(){var n,r,i;return Object(fc.d)(this,function(o){switch(o.label){case 0:return[4,Kg((n=Rd(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Uw(n,e.targetId,i.To),i)]}})})}function Gw(t){return Object(fc.b)(this,void 0,void 0,function(){var e;return Object(fc.d)(this,function(n){return[2,Qg((e=Rd(t)).localStore).then(function(t){return Hw(e,t)})]})})}function Qw(t,e,n,r){return Object(fc.b)(this,void 0,void 0,function(){var i,o;return Object(fc.d)(this,function(a){switch(a.label){case 0:return[4,function(t,e){var n=Rd(t),r=Rd(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):gy.resolve(null)})})}((i=Rd(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Ym(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Mw(i,e,r||null),Lw(i,e),function(t,e){Rd(Rd(t)._n).Gt(e)}(i.localStore,e)):Nd(),a.label=4;case 4:return[4,Hw(i,o)];case 5:return a.sent(),[3,7];case 6:Ed("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function Yw(t,e){return Object(fc.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return Object(fc.d)(this,function(c){switch(c.label){case 0:return e_(n=Rd(t)),n_(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Jw(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,nw(n.remoteStore,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)Lm(n.remoteStore,a[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(s=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?s.push(e):u=u.then(function(){return Fw(n,e),zg(n.localStore,e,!0)}),Mm(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,Jw(n,s)];case 5:return c.sent(),function(t){var e=Rd(t);e.Co.forEach(function(t,n){Mm(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new zv(sp.comparator)}(n),n.$o=!1,[4,nw(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Jw(t,e,n){return Object(fc.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,l,h,f,d,p;return Object(fc.d)(this,function(v){switch(v.label){case 0:n=Rd(t),r=[],i=[],o=0,a=e,v.label=1;case 1:return o<a.length?(u=void 0,(c=n.Vo.get(s=a[o]))&&0!==c.length?[4,Wg(n.localStore,tv(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,h=c,v.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,Kw(n,f)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Gg(n.localStore,s)];case 8:return p=v.sent(),[4,Wg(n.localStore,p)];case 9:return u=v.sent(),[4,Tw(n,Zw(p),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function Zw(t){return Kp(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Xw(t){var e=Rd(t);return Rd(Rd(e.localStore).persistence).fn()}function $w(t,e,n,r){return Object(fc.b)(this,void 0,void 0,function(){var i,o,a;return Object(fc.d)(this,function(s){switch(s.label){case 0:return(i=Rd(t)).$o?(Ed("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Qg(i.localStore)];case 3:return o=s.sent(),a=ab.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Hw(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,zg(i.localStore,e,!0)];case 6:return s.sent(),Fw(i,e,r),[3,8];case 7:Nd(),s.label=8;case 8:return[2]}})})}function t_(t,e,n){return Object(fc.b)(this,void 0,void 0,function(){var r,i,o,a,s,u,c,l,h;return Object(fc.d)(this,function(f){switch(f.label){case 0:if(!(r=e_(t)).$o)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(a=o[i])?(Ed("SyncEngine","Adding an already active target "+a),[3,5]):[4,Gg(r.localStore,a)]:[3,6];case 2:return s=f.sent(),[4,Wg(r.localStore,s)];case 3:return u=f.sent(),[4,Tw(r,Zw(s),u.targetId,!1)];case 4:f.sent(),Lm(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(fc.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,zg(r.localStore,t,!1).then(function(){Mm(r.remoteStore,t),Fw(r,t)}).catch(hg)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function e_(t){var e=Rd(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Nw.bind(null,e),e.vo._r=pw.bind(null,e.eventManager),e.vo.Mo=vw.bind(null,e.eventManager),e}function n_(t){var e=Rd(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Dw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rw.bind(null,e),e}var r_=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(fc.b)(this,void 0,void 0,function(){return Object(fc.d)(this,function(e){switch(e.label){case 0:return this.R=Im(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return Mg(this.persistence,new Pg,t.initialUser,this.R)},t.prototype.qo=function(t){return new om(sm.bs,this.R)},t.prototype.Bo=function(t){return new gm},t.prototype.terminate=function(){return Object(fc.b)(this,void 0,void 0,function(){return Object(fc.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),i_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(fc.c)(e,t),e.prototype.initialize=function(e){return Object(fc.b)(this,void 0,void 0,function(){var n=this;return Object(fc.d)(this,function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,Yg(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,e)];case 3:return r.sent(),[4,n_(this.Qo.syncEngine)];case 4:return r.sent(),[4,Ym(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He(function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()})];case 6:return r.sent(),[2]}})})},e.prototype.Ko=function(t){return Mg(this.persistence,new Pg,t.initialUser,this.R)},e.prototype.Uo=function(t){return new pg(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Ag(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Xy.withCacheSize(this.cacheSizeBytes):Xy.DEFAULT;return new Eg(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,jm(),Sm(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new gm},e}(r_),o_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(fc.c)(e,t),e.prototype.initialize=function(e){return Object(fc.b)(this,void 0,void 0,function(){var n,r=this;return Object(fc.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof ym?(this.sharedClientState.syncEngine={ui:Qw.bind(null,n),ai:$w.bind(null,n),hi:t_.bind(null,n),fn:Xw.bind(null,n),ci:Gw.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(fc.b)(r,void 0,void 0,function(){return Object(fc.d)(this,function(e){switch(e.label){case 0:return[4,Yw(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=jm();if(!ym.yt(e))throw new Sd(jd.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ag(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new ym(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(i_),a_=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(fc.b)(this,void 0,void 0,function(){var n=this;return Object(fc.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Aw(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ww.bind(null,this.syncEngine),[4,nw(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new hw},t.prototype.createDatastore=function(t){var e=Im(t.databaseInfo.databaseId),n=new km(t.databaseInfo);return function(t,e,n){return new Am(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Aw(a.syncEngine,t,0)},o=wm.yt()?new wm:new mm,new Dm(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new Sw(t,e,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(fc.b)(this,void 0,void 0,function(){var e;return Object(fc.d)(this,function(n){switch(n.label){case 0:return e=Rd(t),Ed("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Pm(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),s_=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),u_=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new yy,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(fc.b)(this,void 0,void 0,function(){return Object(fc.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(fc.b)(this,void 0,void 0,function(){return Object(fc.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(fc.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(fc.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new gw(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(fc.b)(this,void 0,void 0,function(){var t,e;return Object(fc.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(fc.b)(this,void 0,void 0,function(){var e;return Object(fc.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(fc.b)(this,void 0,void 0,function(){var t,e;return Object(fc.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(fc.b)(this,void 0,void 0,function(){var e,n=this;return Object(fc.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Sd(jd.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(fc.b)(this,void 0,void 0,function(){var n,r,i,o,a,s;return Object(fc.d)(this,function(u){switch(u.label){case 0:return n=Rd(t),r=Eb(n.R)+"/documents",i={documents:e.map(function(t){return jb(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Dd(!!e.found);var n=Sb(t,e.found.name),r=_b(e.found.updateTime),i=new Op({mapValue:{fields:e.found.fields}});return jp.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Dd(!!e.missing),Dd(!!e.readTime);var n=Sb(t,e.missing),r=_b(e.readTime);return jp.newNoDocument(n,r)}(t,e):Nd()}(n.R,t);a.set(e.key.toString(),e)}),s=[],[2,(e.forEach(function(t){var e=a.get(t.toString());Dd(!!e),s.push(e)}),s)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Uv(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(fc.b)(this,void 0,void 0,function(){var t,e=this;return Object(fc.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=sp.fromPath(n);e.mutations.push(new qv(r,e.precondition(r)))}),[4,function(t,e){return Object(fc.b)(this,void 0,void 0,function(){var n,r,i;return Object(fc.d)(this,function(o){switch(o.label){case 0:return n=Rd(t),r=Eb(n.R)+"/documents",i={writes:e.map(function(t){return Nb(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Nd();e=qd.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Sd(jd.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Sv.updateTime(e):Sv.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(qd.min()))throw new Sd(jd.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Sv.updateTime(e)}return Sv.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),c_=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Tm(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(fc.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(fc.d)(this,function(r){return t=new u_(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!ip(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Hv(e)}return!1},t}(),l_=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=um.UNAUTHENTICATED,this.clientId=Ld.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return Object(fc.b)(r,void 0,void 0,function(){return Object(fc.d)(this,function(e){switch(e.label){case 0:return Ed("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return Object(fc.b)(this,void 0,void 0,function(){return Object(fc.d)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Sd(jd.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new yy;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(fc.b)(t,void 0,void 0,function(){var t,n;return Object(fc.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=aw(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function h_(t,e){return Object(fc.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(fc.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Ed("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return Object(fc.b)(i,void 0,void 0,function(){return Object(fc.d)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Fg(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function f_(t,e){return Object(fc.b)(this,void 0,void 0,function(){var n,r;return Object(fc.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,d_(t)];case 1:return n=i.sent(),Ed("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return Object(fc.b)(this,void 0,void 0,function(){var n,r;return Object(fc.d)(this,function(i){switch(i.label){case 0:return(n=Rd(t)).asyncQueue.verifyOperationInProgress(),Ed("RemoteStore","RemoteStore received new credentials"),r=Bm(n),n.Or.add(3),[4,Pm(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Rm(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function d_(t){return Object(fc.b)(this,void 0,void 0,function(){return Object(fc.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Ed("FirestoreClient","Using default OfflineComponentProvider"),[4,h_(t,new r_)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function p_(t){return Object(fc.b)(this,void 0,void 0,function(){return Object(fc.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Ed("FirestoreClient","Using default OnlineComponentProvider"),[4,f_(t,new a_)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function v_(t){return d_(t).then(function(t){return t.persistence})}function b_(t){return d_(t).then(function(t){return t.localStore})}function y_(t){return p_(t).then(function(t){return t.remoteStore})}function g_(t){return p_(t).then(function(t){return t.syncEngine})}function m_(t){return Object(fc.b)(this,void 0,void 0,function(){var e,n;return Object(fc.d)(this,function(r){switch(r.label){case 0:return[4,p_(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Iw.bind(null,e.syncEngine),n.onUnlisten=Ew.bind(null,e.syncEngine),n)]}})})}function w_(t,e,n){var r=this;void 0===n&&(n={});var i=new yy;return t.asyncQueue.enqueueAndForget(function(){return Object(fc.b)(r,void 0,void 0,function(){var r;return Object(fc.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new s_({next:function(o){e.enqueueAndForget(function(){return dw(t,a)});var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Sd(jd.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Sd(jd.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new yw(Gp(n.path),o,{includeMetadataChanges:!0,so:!0});return fw(t,a)},[4,m_(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function __(t,e,n){var r=this;void 0===n&&(n={});var i=new yy;return t.asyncQueue.enqueueAndForget(function(){return Object(fc.b)(r,void 0,void 0,function(){var r;return Object(fc.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new s_({next:function(n){e.enqueueAndForget(function(){return dw(t,a)}),n.fromCache&&"server"===r.source?i.reject(new Sd(jd.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new yw(n,o,{includeMetadataChanges:!0,so:!0});return fw(t,a)},[4,m_(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var O_=function(t,e,n,r,i,o,a,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},k_=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),j_=new Map,S_=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},I_=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(um.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),T_=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),E_=function(){function t(t){var e=this;this.currentUser=um.UNAUTHENTICATED,this.oc=new yy,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){Ed("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(Ed("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(Ed("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Dd("string"==typeof n.accessToken),new S_(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return Object(fc.b)(n,void 0,void 0,function(){return Object(fc.d)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Dd(null===t||"string"==typeof t),new um(t)},t}(),C_=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=um.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),x_=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new C_(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(um.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function A_(t,e,n){if(!n)throw new Sd(jd.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function N_(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Sd(jd.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function D_(t,e,n,r){if(!0===e&&!0===r)throw new Sd(jd.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function R_(t){if(!sp.isDocumentKey(t))throw new Sd(jd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function P_(t){if(sp.isDocumentKey(t))throw new Sd(jd.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function L_(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Nd()}function M_(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Sd(jd.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=L_(t);throw new Sd(jd.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function F_(t,e){if(e<=0)throw new Sd(jd.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var V_=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Sd(jd.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Sd(jd.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,D_("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),U_=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V_({}),this._settingsFrozen=!1,t instanceof k_?(this._databaseId=t,this._credentials=new I_):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Sd(jd.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new k_(t.options.projectId)}(t),this._credentials=new E_(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Sd(jd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Sd(jd.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V_(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new I_;switch(t.type){case"gapi":var e=t.client;return Dd(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new x_(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Sd(jd.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=j_.get(this))&&(Ed("ComponentProvider","Removing Datastore"),j_.delete(this),t.terminate()),Promise.resolve();var t},t}(),q_=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new H_(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),B_=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),H_=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Gp(r))||this)._path=r,i.type="collection",i}return Object(fc.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new q_(this.firestore,null,new sp(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(B_);function W_(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(dc.n)(t),A_("collection","path",e),t instanceof U_)return P_(n=Kd.fromString.apply(Kd,Object(fc.f)([e],r))),new H_(t,null,n);if(!(t instanceof q_||t instanceof H_))throw new Sd(jd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return P_(n=Kd.fromString.apply(Kd,Object(fc.f)([t.path],r)).child(Kd.fromString(e))),new H_(t.firestore,null,n)}function z_(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(dc.n)(t),1===arguments.length&&(e=Ld.u()),A_("doc","path",e),t instanceof U_)return R_(n=Kd.fromString.apply(Kd,Object(fc.f)([e],r))),new q_(t,null,new sp(n));if(!(t instanceof q_||t instanceof H_))throw new Sd(jd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return R_(n=t._path.child(Kd.fromString.apply(Kd,Object(fc.f)([e],r)))),new q_(t.firestore,t instanceof H_?t.converter:null,new sp(n))}function K_(t,e){return t=Object(dc.n)(t),e=Object(dc.n)(e),(t instanceof q_||t instanceof H_)&&(e instanceof q_||e instanceof H_)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function G_(t,e){return t=Object(dc.n)(t),e=Object(dc.n)(e),t instanceof B_&&e instanceof B_&&t.firestore===e.firestore&&nv(t._query,e._query)&&t.converter===e.converter}var Q_=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Tm(this,"async_queue_retry"),this.Ic=function(){var e=Sm();e&&Ed("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Sm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=Sm();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new yy;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},t.prototype.bc=function(){return Object(fc.b)(this,void 0,void 0,function(){var t,e=this;return Object(fc.d)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!ky(t=n.sent()))throw t;return Ed("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),n.label=5;case 5:return[2]}})})},t.prototype.Rc=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,Cd("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=ow.createAndSchedule(this,t,e,n,function(t){return r.vc(t)});return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&Nd()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return Object(fc.b)(this,void 0,void 0,function(){var t;return Object(fc.d)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()})},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function Y_(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new yy,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var J_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Q_,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(fc.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||X_(this),this._firestoreClient.terminate()},e}(U_);function Z_(t){return t._firestoreClient||X_(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function X_(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new O_(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new l_(t._credentials,t._queue,r)}function $_(t,e,n){var r=this,i=new yy;return t.asyncQueue.enqueue(function(){return Object(fc.b)(r,void 0,void 0,function(){var r;return Object(fc.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,h_(t,n)];case 1:return o.sent(),[4,f_(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===jd.FAILED_PRECONDITION||t.code===jd.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function tO(t){if(t._initialized||t._terminated)throw new Sd(jd.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var eO=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Sd(jd.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qd(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),nO=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Jd.fromBase64String(e))}catch(e){throw new Sd(jd.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Jd.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),rO=function(t){this._methodName=t},iO=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Sd(jd.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Sd(jd.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Md(this._lat,t._lat)||Md(this._long,t._long)},t}(),oO=/^__.*__$/,aO=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Rv(t,this.data,this.fieldMask,e,this.fieldTransforms):new Dv(t,this.data,e,this.fieldTransforms)},t}(),sO=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Rv(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function uO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nd()}}var cO=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return CO(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(uO(this.Nc)&&oO.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),lO=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Im(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new cO({Nc:t,methodName:e,qc:n,path:Qd.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function hO(t){var e=t._freezeSettings(),n=Im(t._databaseId);return new lO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fO(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);SO("Data must be an object, but it was:",a,r);var s,u,c=kO(r,a);if(o.merge)s=new Yd(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=IO(e,f[h],n);if(!a.contains(d))throw new Sd(jd.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");xO(l,d)||l.push(d)}s=new Yd(l),u=a.fieldTransforms.filter(function(t){return s.covers(t.field)})}else s=null,u=a.fieldTransforms;return new aO(new Op(c),s,u)}var dO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fc.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(rO);function pO(t,e,n){return new cO({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var vO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fc.c)(e,t),e.prototype._toFieldTransform=function(t){return new kv(t.path,new vv)},e.prototype.isEqual=function(t){return t instanceof e},e}(rO),bO=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(fc.c)(e,t),e.prototype._toFieldTransform=function(t){var e=pO(this,t,!0),n=this.Kc.map(function(t){return OO(t,e)}),r=new bv(n);return new kv(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(rO),yO=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(fc.c)(e,t),e.prototype._toFieldTransform=function(t){var e=pO(this,t,!0),n=this.Kc.map(function(t){return OO(t,e)}),r=new gv(n);return new kv(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(rO),gO=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return Object(fc.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new wv(t.R,lv(t.R,this.Qc));return new kv(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(rO);function mO(t,e,n,r){var i=t.Uc(1,e,n);SO("Data must be an object, but it was:",i,r);var o=[],a=Op.empty();Hd(r,function(t,r){var s=EO(e,t,n);r=Object(dc.n)(r);var u=i.Oc(s);if(r instanceof dO)o.push(s);else{var c=OO(r,u);null!=c&&(o.push(s),a.set(s,c))}});var s=new Yd(o);return new sO(a,s,i.fieldTransforms)}function wO(t,e,n,r,i,o){var a=t.Uc(1,e,n),s=[IO(e,r,n)],u=[i];if(o.length%2!=0)throw new Sd(jd.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(IO(e,o[c])),u.push(o[c+1]);for(var l=[],h=Op.empty(),f=s.length-1;f>=0;--f)if(!xO(l,s[f])){var d=s[f],p=u[f];p=Object(dc.n)(p);var v=a.Oc(d);if(p instanceof dO)l.push(d);else{var b=OO(p,v);null!=b&&(l.push(d),h.set(d,b))}}var y=new Yd(l);return new sO(h,y,a.fieldTransforms)}function _O(t,e,n,r){return void 0===r&&(r=!1),OO(n,t.Uc(r?4:3,e))}function OO(t,e){if(jO(t=Object(dc.n)(t)))return SO("Unsupported field value:",e,t),kO(t,e);if(t instanceof rO)return function(t,e){if(!uO(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=OO(o[i],e.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(dc.n)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return lv(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Ud.fromDate(t);return{timestampValue:gb(e.R,n)}}if(t instanceof Ud)return n=new Ud(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:gb(e.R,n)};if(t instanceof iO)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof nO)return{bytesValue:mb(e.R,t._byteString)};if(t instanceof q_){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Ob(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+L_(t))}(t,e)}function kO(t,e){var n={};return Wd(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hd(t,function(t,r){var i=OO(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function jO(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ud||t instanceof iO||t instanceof nO||t instanceof q_||t instanceof rO)}function SO(t,e,n){if(!jO(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=L_(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}}function IO(t,e,n){if((e=Object(dc.n)(e))instanceof eO)return e._internalPath;if("string"==typeof e)return EO(t,e);throw CO("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var TO=new RegExp("[~\\*/\\[\\]]");function EO(t,e,n){if(e.search(TO)>=0)throw CO("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(eO.bind.apply(eO,Object(fc.f)([void 0],e.split(".")))))._internalPath}catch(Ck){throw CO("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function CO(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Sd(jd.INVALID_ARGUMENT,(s+=". ")+t+u)}function xO(t,e){return t.some(function(t){return t.isEqual(e)})}var AO=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new q_(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new NO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(DO("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),NO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fc.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(AO);function DO(t,e){return"string"==typeof e?EO(t,e):e instanceof eO?e._internalPath:e._delegate._internalPath}var RO=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),PO=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Object(fc.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new LO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(DO("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(AO),LO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fc.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(PO),MO=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new RO(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new LO(n._firestore,n._userDataWriter,r.key,r,new RO(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Sd(jd.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new LO(t._firestore,t._userDataWriter,e.doc.key,e.doc,new RO(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new LO(t._firestore,t._userDataWriter,e.doc.key,e.doc,new RO(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:FO(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function FO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nd()}}function VO(t,e){return t instanceof PO&&e instanceof PO?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof MO&&e instanceof MO&&t._firestore===e._firestore&&G_(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function UO(t){if(Yp(t)&&0===t.explicitOrderBy.length)throw new Sd(jd.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var qO=function(){};function BO(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var HO=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return Object(fc.c)(e,t),e.prototype._apply=function(t){var e=hO(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Sd(jd.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){JO(a,o);for(var u=[],c=0,l=a;c<l.length;c++)u.push(YO(r,t,l[c]));s={arrayValue:{values:u}}}else s=YO(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||JO(a,o),s=_O(n,"where",a,"in"===o||"not-in"===o);var h=xp.create(i,o,s);return function(t,e){if(e.g()){var n=Zp(t);if(null!==n&&!n.isEqual(e.field))throw new Sd(jd.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Jp(t);null!==r&&ZO(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Sd(jd.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new B_(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new zp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(qO),WO=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return Object(fc.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Sd(jd.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Sd(jd.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new qp(e,n);return function(t,e){if(null===Jp(t)){var n=Zp(t);null!==n&&ZO(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new B_(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new zp(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(qO),zO=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(fc.c)(e,t),e.prototype._apply=function(t){return new B_(t.firestore,t.converter,ev(t._query,this.Hc,this.Jc))},e}(qO),KO=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return Object(fc.c)(e,t),e.prototype._apply=function(t){var e=QO(t,this.type,this.Yc,this.Xc);return new B_(t.firestore,t.converter,function(t,e){return new zp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(qO),GO=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return Object(fc.c)(e,t),e.prototype._apply=function(t){var e=QO(t,this.type,this.Yc,this.Xc);return new B_(t.firestore,t.converter,function(t,e){return new zp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(qO);function QO(t,e,n,r){if(n[0]=Object(dc.n)(n[0]),n[0]instanceof AO)return function(t,e,n,r,i){if(!r)throw new Sd(jd.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=$p(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(vp(e,r.key));else{var c=r.data.field(u.field);if(ep(c))throw new Sd(jd.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Sd(jd.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Vp(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=hO(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new Sd(jd.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Sd(jd.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Xp(t)&&-1!==c.indexOf("/"))throw new Sd(jd.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Kd.fromString(c));if(!sp.isDocumentKey(l))throw new Sd(jd.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new sp(l);s.push(vp(e,h))}else{var f=_O(n,r,c);s.push(f)}}return new Vp(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function YO(t,e,n){if("string"==typeof(n=Object(dc.n)(n))){if(""===n)throw new Sd(jd.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xp(e)&&-1!==n.indexOf("/"))throw new Sd(jd.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Kd.fromString(n));if(!sp.isDocumentKey(r))throw new Sd(jd.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return vp(t,new sp(r))}if(n instanceof q_)return vp(t,n._key);throw new Sd(jd.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+L_(n)+".")}function JO(t,e){if(!Array.isArray(t)||0===t.length)throw new Sd(jd.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Sd(jd.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function ZO(t,e,n){if(!n.isEqual(e))throw new Sd(jd.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var XO=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),up(t)){case 0:return null;case 1:return t.booleanValue;case 2:return $d(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(tp(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Nd()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Hd(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new iO($d(t.latitude),$d(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=np(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(rp(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Xd(t);return new Ud(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Kd.fromString(t);Dd(Gb(n));var r=new k_(n.get(1),n.get(3)),i=new sp(n.popFirst(5));return r.isEqual(e)||Cd("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function $O(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var tk=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(fc.c)(e,t),e.prototype.convertBytes=function(t){return new nO(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new q_(this.firestore,null,e)},e}(XO),ek=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=hO(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=nk(t,this._firestore),i=$O(r.converter,e,n),o=fO(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Sv.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=nk(t,this._firestore);return o="string"==typeof(e=Object(dc.n)(e))||e instanceof eO?wO(this._dataReader,"WriteBatch.update",a._key,e,n,r):mO(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,Sv.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=nk(t,this._firestore);return this._mutations=this._mutations.concat(new Uv(e._key,Sv.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Sd(jd.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function nk(t,e){if((t=Object(dc.n)(t)).firestore!==e)throw new Sd(jd.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var rk=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(fc.c)(e,t),e.prototype.convertBytes=function(t){return new nO(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new q_(this.firestore,null,e)},e}(XO);function ik(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=M_(t,q_);var o=M_(t.firestore,J_),a=hO(o);return ak(o,[("string"==typeof(e=Object(dc.n)(e))||e instanceof eO?wO(a,"updateDoc",t._key,e,n,r):mO(a,"updateDoc",t._key,e)).toMutation(t._key,Sv.exists(!0))])}function ok(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(dc.n)(t);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Y_(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(Y_(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof q_)c=M_(t.firestore,J_),l=Gp(t._key.path),u={next:function(e){i[s]&&i[s](sk(c,t,e))},error:i[s+1],complete:i[s+2]};else{var d=M_(t,B_);c=M_(d.firestore,J_),l=d._query;var p=new rk(c);u={next:function(t){i[s]&&i[s](new MO(c,p,d,t))},error:i[s+1],complete:i[s+2]},UO(t._query)}return function(t,e,n,r){var i=this,o=new s_(r),a=new yw(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(fc.b)(i,void 0,void 0,function(){var e;return Object(fc.d)(this,function(n){switch(n.label){case 0:return e=fw,[4,m_(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(fc.b)(i,void 0,void 0,function(){var e;return Object(fc.d)(this,function(n){switch(n.label){case 0:return e=dw,[4,m_(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})})}}(Z_(c),l,h,u)}function ak(t,e){return function(t,e){var n=this,r=new yy;return t.asyncQueue.enqueueAndForget(function(){return Object(fc.b)(n,void 0,void 0,function(){var n;return Object(fc.d)(this,function(i){switch(i.label){case 0:return n=Cw,[4,g_(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Z_(t),e)}function sk(t,e,n){var r=n.docs.get(e._key),i=new rk(t);return new PO(t,i,e._key,r,new RO(n.hasPendingWrites,n.fromCache),e.converter)}var uk=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(fc.c)(e,t),e.prototype.get=function(e){var n=this,r=nk(e,this._firestore),i=new rk(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new PO(n._firestore,i,r._key,t._document,new RO(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=hO(t)}return t.prototype.get=function(t){var e=this,n=nk(t,this._firestore),r=new tk(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Nd();var i=t[0];if(i.isFoundDocument())return new AO(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new AO(e._firestore,r,n._key,null,n.converter);throw Nd()})},t.prototype.set=function(t,e,n){var r=nk(t,this._firestore),i=$O(r.converter,e,n),o=fO(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=nk(t,this._firestore);return o="string"==typeof(e=Object(dc.n)(e))||e instanceof eO?wO(this._dataReader,"Transaction.update",a._key,e,n,r):mO(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=nk(t,this._firestore);return this._transaction.delete(e._key),this},t}());function ck(){if("undefined"==typeof Uint8Array)throw new Sd(jd.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function lk(){if("undefined"==typeof atob)throw new Sd(jd.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var hk=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return lk(),new t(nO.fromBase64String(e))},t.fromUint8Array=function(e){return ck(),new t(nO.fromUint8Array(e))},t.prototype.toBase64=function(){return lk(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return ck(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),fk=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){tO(t=M_(t,J_));var n=Z_(t),r=t._freezeSettings(),i=new a_;return $_(n,i,new i_(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){tO(t=M_(t,J_));var e=Z_(t),n=t._freezeSettings(),r=new a_;return $_(e,r,new o_(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Sd(jd.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new yy;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(fc.b)(e,void 0,void 0,function(){var e;return Object(fc.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(fc.b)(this,void 0,void 0,function(){return Object(fc.d)(this,function(e){switch(e.label){case 0:return wy.yt()?[4,wy.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Ag(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),dk=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof k_||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||xd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){var i;void 0===r&&(r={});var o=(t=M_(t,U_))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&xd("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:e+":"+n,ssl:!1})),r.mockUserToken){var a,s;if("string"==typeof r.mockUserToken)a=r.mockUserToken,s=um.MOCK_USER;else{a=Object(dc.i)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Sd(jd.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new um(u)}t._credentials=new T_(new S_(a,s))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(fc.b)(e,void 0,void 0,function(){var e,n;return Object(fc.d)(this,function(r){switch(r.label){case 0:return[4,v_(t)];case 1:return e=r.sent(),[4,y_(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Rd(t);return e.Or.delete(0),Rm(e)}(n))]}})})})}(Z_(M_(this._delegate,J_)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(fc.b)(e,void 0,void 0,function(){var e,n;return Object(fc.d)(this,function(r){switch(r.label){case 0:return[4,v_(t)];case 1:return e=r.sent(),[4,y_(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(fc.b)(this,void 0,void 0,function(){var e;return Object(fc.d)(this,function(n){switch(n.label){case 0:return(e=Rd(t)).Or.add(0),[4,Pm(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(Z_(M_(this._delegate,J_)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&D_("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new yy;return t.asyncQueue.enqueueAndForget(function(){return Object(fc.b)(e,void 0,void 0,function(){var e;return Object(fc.d)(this,function(r){switch(r.label){case 0:return e=Pw,[4,g_(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Z_(M_(this._delegate,J_)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new s_(e);return t.asyncQueue.enqueueAndForget(function(){return Object(fc.b)(n,void 0,void 0,function(){var e;return Object(fc.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Rd(t).Gr.add(e),e.next()},[4,m_(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(fc.b)(n,void 0,void 0,function(){var e;return Object(fc.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Rd(t).Gr.delete(e)},[4,m_(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Z_(t=M_(t,J_)),Y_(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new Sd(jd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Tk(this,W_(this._delegate,t))}catch(t){throw mk(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new gk(this,z_(this._delegate,t))}catch(t){throw mk(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new jk(this,function(t,e){if(t=M_(t,U_),A_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Sd(jd.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new B_(t,null,function(t){return new zp(Kd.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw mk(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new yy;return t.asyncQueue.enqueueAndForget(function(){return Object(fc.b)(n,void 0,void 0,function(){var n;return Object(fc.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return p_(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new c_(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(Z_(t),function(n){return e(new uk(t,n))})}(this._delegate,function(n){return t(new vk(e,n))})},t.prototype.batch=function(){var t=this;return Z_(this._delegate),new bk(new ek(this._delegate,function(e){return ak(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Sd(jd.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Sd(jd.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),pk=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(fc.c)(e,t),e.prototype.convertBytes=function(t){return new hk(new nO(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return gk.eu(e,this.firestore,null)},e}(XO),vk=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new pk(t)}return t.prototype.get=function(t){var e=this,n=Ek(t);return this._delegate.get(n).then(function(t){return new Ok(e._firestore,new PO(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=Ek(t);return n?(N_("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Ek(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Object(fc.f)([a,e,n],i)),this},t.prototype.delete=function(t){var e=Ek(t);return this._delegate.delete(e),this},t}(),bk=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Ek(t);return n?(N_("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Ek(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Object(fc.f)([a,e,n],i)),this},t.prototype.delete=function(t){var e=Ek(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),yk=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new LO(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new kk(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new pk(e),n),i.set(n,o)),o},t}();yk.su=new WeakMap;var gk=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new pk(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new Sd(jd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new q_(n._delegate,r,new sp(e)))},t.eu=function(e,n,r){return new t(n,new q_(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Tk(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Tk(this.firestore,W_(this._delegate,t))}catch(t){throw mk(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(dc.n)(t))instanceof q_&&K_(this._delegate,t)},t.prototype.set=function(t,e){e=N_("DocumentReference.set",e);try{return function(t,e,n){t=M_(t,q_);var r=M_(t.firestore,J_),i=$O(t.converter,e,n);return ak(r,[fO(hO(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Sv.none())])}(this._delegate,t,e)}catch(t){throw mk(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?ik(this._delegate,t):ik.apply(void 0,Object(fc.f)([this._delegate,t,e],n))}catch(t){throw mk(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return ak(M_((t=this._delegate).firestore,J_),[new Uv(t._key,Sv.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=wk(e),i=_k(e,function(e){return new Ok(t.firestore,new PO(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return ok(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=M_(t,q_);var e=M_(t.firestore,J_),n=Z_(e),r=new rk(e);return function(t,e){var n=this,r=new yy;return t.asyncQueue.enqueueAndForget(function(){return Object(fc.b)(n,void 0,void 0,function(){var n;return Object(fc.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(fc.b)(this,void 0,void 0,function(){var r,i;return Object(fc.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Rd(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Sd(jd.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=aw(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,b_(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new PO(e,r,t._key,n,new RO(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=M_(t,q_);var e=M_(t.firestore,J_);return w_(Z_(e),t._key,{source:"server"}).then(function(n){return sk(e,t,n)})}(this._delegate):function(t){t=M_(t,q_);var e=M_(t.firestore,J_);return w_(Z_(e),t._key).then(function(n){return sk(e,t,n)})}(this._delegate)).then(function(t){return new Ok(e.firestore,new PO(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?yk.nu(this.firestore,e):null))},t}();function mk(t,e,n){return t.message=t.message.replace(e,n),t}function wk(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Y_(r))return r}return{}}function _k(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Y_(t[0])?t[0]:Y_(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Ok=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new gk(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return VO(this._delegate,t._delegate)},t}(),kk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fc.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Ok),jk=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new pk(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,BO(this._delegate,function(t,e,n){var r=e,i=DO("where",t);return new HO(i,r,n)}(e,n,r)))}catch(e){throw mk(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,BO(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=DO("orderBy",t);return new WO(r,n)}(e,n)))}catch(e){throw mk(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,BO(this._delegate,function(t){return F_("limit",t),new zO("limit",t,"F")}(e)))}catch(e){throw mk(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,BO(this._delegate,function(t){return F_("limitToLast",t),new zO("limitToLast",t,"L")}(e)))}catch(e){throw mk(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,BO(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new KO("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw mk(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,BO(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new KO("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw mk(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,BO(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new GO("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw mk(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,BO(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new GO("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw mk(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return G_(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=M_(t,B_);var e=M_(t.firestore,J_),n=Z_(e),r=new rk(e);return function(t,e){var n=this,r=new yy;return t.asyncQueue.enqueueAndForget(function(){return Object(fc.b)(n,void 0,void 0,function(){var n;return Object(fc.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(fc.b)(this,void 0,void 0,function(){var r,i,o,a,s;return Object(fc.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Kg(t,e,!0)];case 1:return s=u.sent(),r=new Ow(e,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=aw(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}})})},[4,b_(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new MO(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=M_(t,B_);var e=M_(t.firestore,J_),n=Z_(e),r=new rk(e);return __(n,t._query,{source:"server"}).then(function(n){return new MO(e,r,t,n)})}(this._delegate):function(t){t=M_(t,B_);var e=M_(t.firestore,J_),n=Z_(e),r=new rk(e);return UO(t._query),__(n,t._query).then(function(n){return new MO(e,r,t,n)})}(this._delegate)).then(function(t){return new Ik(e.firestore,new MO(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=wk(e),i=_k(e,function(e){return new Ik(t.firestore,new MO(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return ok(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?yk.nu(this.firestore,e):null))},t}(),Sk=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new kk(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Ik=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new jk(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new kk(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Sk(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new kk(n._firestore,r))})},t.prototype.isEqual=function(t){return VO(this._delegate,t._delegate)},t}(),Tk=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(fc.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new gk(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new gk(this.firestore,void 0===t?z_(this._delegate):z_(this._delegate,t))}catch(t){throw mk(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=M_(t.firestore,J_),r=z_(t),i=$O(t.converter,e);return ak(n,[fO(hO(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Sv.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new gk(e.firestore,t)})},e.prototype.isEqual=function(t){return K_(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?yk.nu(this.firestore,t):null))},e}(jk);function Ek(t){return M_(t,q_)}var Ck,xk=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(eO.bind.apply(eO,Object(fc.f)([void 0],t)))}return t.documentId=function(){return new t(Qd.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(dc.n)(t))instanceof eO&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Ak=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new vO("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new dO("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new bO("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new yO("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new gO("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Nk=n("/6Yf"),Dk={Firestore:dk,GeoPoint:iO,Timestamp:Ud,Blob:hk,Transaction:vk,WriteBatch:bk,DocumentReference:gk,DocumentSnapshot:Ok,Query:jk,QueryDocumentSnapshot:kk,QuerySnapshot:Ik,CollectionReference:Tk,FieldPath:xk,FieldValue:Ak,setLogLevel:function(t){Id.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Nk.a("firestore",function(t){return function(t,e){return new dk(t,new J_(t,e),new fk)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Dk)))})(Ck=hc.a),Ck.registerVersion("@firebase/firestore","2.4.0");var Rk=n("UXun"),Pk=n("aGrj"),Lk=n("tf+s"),Mk=new r.s("angularfire2.auth.use-emulator"),Fk=new r.s("angularfire2.auth.settings"),Vk=new r.s("angularfire2.auth.tenant-id"),Uk=new r.s("angularfire2.auth.langugage-code"),qk=new r.s("angularfire2.auth.use-device-language"),Bk=new r.s("angularfire.auth.persistence"),Hk=function(){var t=function t(e,r,i,o,a,s,c,l,h,f){Object(u.a)(this,t);var p=new cc.d(o),v=Object(cc.h)(p),b=new rn.a,y=Object(Go.a)(void 0).pipe(Object(uc.b)(p.outsideAngular),Object(dn.a)(function(){return o.runOutsideAngular(function(){return Promise.resolve().then(n.bind(null,"6nsN"))})}),Object(ye.a)(function(){return Object(cc.g)(e,o,r)}),Object(ye.a)(function(t){return o.runOutsideAngular(function(){var e=a,n=s;return Object(cc.f)("".concat(t.name,".auth"),"AngularFireAuth",t,function(){var r=o.runOutsideAngular(function(){return t.auth()});if(e&&r.useEmulator("http://".concat(e.join(":"))),c&&(r.tenantId=c),r.languageCode=l,h&&r.useDeviceLanguage(),n)for(var i=0,a=Object.entries(n);i<a.length;i++){var s=Object(d.a)(a[i],2);r.settings[s[0]]=s[1]}return f&&r.setPersistence(f),r},[e,c,l,h,n,f])})}),Object(Rk.a)({bufferSize:1,refCount:!1}));if(Nt(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Go.a)(null);else{y.pipe(Object(na.a)()).subscribe();var g=y.pipe(Object(dn.a)(function(t){return t.getRedirectResult().then(function(t){return t},function(){return null})}),v,Object(Rk.a)({bufferSize:1,refCount:!1})),m=function(t){return new ln.a(function(e){return{unsubscribe:o.runOutsideAngular(function(){return t(e)})}})},w=y.pipe(Object(dn.a)(function(t){return m(t.onAuthStateChanged.bind(t))})),_=y.pipe(Object(dn.a)(function(t){return m(t.onIdTokenChanged.bind(t))}));this.authState=g.pipe(Object(Pk.a)(w),Object(Lk.a)(p.outsideAngular),Object(uc.b)(p.insideAngular)),this.user=g.pipe(Object(Pk.a)(_),Object(Lk.a)(p.outsideAngular),Object(uc.b)(p.insideAngular)),this.idToken=this.user.pipe(Object(dn.a)(function(t){return t?Object(be.a)(t.getIdToken()):Object(Go.a)(null)})),this.idTokenResult=this.user.pipe(Object(dn.a)(function(t){return t?Object(be.a)(t.getIdTokenResult()):Object(Go.a)(null)})),this.credential=Object(un.a)(g,b,this.authState.pipe(Object(vn.a)(function(t){return!t}))).pipe(Object(ye.a)(function(t){return(null==t?void 0:t.user)?t:null}),Object(Lk.a)(p.outsideAngular),Object(uc.b)(p.insideAngular))}return Object(cc.i)(this,y,o,{spy:{apply:function(t,e,n){(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(function(t){return b.next(t)})}}})};return t.\u0275fac=function(e){return new(e||t)(r.Zb(cc.c),r.Zb(cc.b,8),r.Zb(r.D),r.Zb(r.B),r.Zb(Mk,8),r.Zb(Fk,8),r.Zb(Vk,8),r.Zb(Uk,8),r.Zb(qk,8),r.Zb(Bk,8))},t.\u0275prov=r.Jb({factory:function(){return new t(r.Zb(cc.c),r.Zb(cc.b,8),r.Zb(r.D),r.Zb(r.B),r.Zb(Mk,8),r.Zb(Fk,8),r.Zb(Vk,8),r.Zb(Uk,8),r.Zb(qk,8),r.Zb(Bk,8))},token:t,providedIn:"any"}),t}();function Wk(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ac.b;return new ln.a(function(n){var r;return null!=e?e.schedule(function(){r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}})}(t,e)}function zk(t,e){return Wk(t,e).pipe(Object(ye.a)(function(t){return{payload:t,type:"query"}}))}function Kk(t,e){return zk(t,e).pipe(Object(hn.a)(void 0),Object(sc.a)(),Object(ye.a)(function(t){var e=Object(d.a)(t,2),n=e[0],r=e[1],i=r.payload.docChanges(),o=i.map(function(t){return{type:t.type,payload:t}});return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach(function(t,e){var r=i.find(function(e){return e.doc.ref.isEqual(t.ref)}),a=null==n?void 0:n.payload.docs.find(function(e){return e.ref.isEqual(t.ref)});r&&JSON.stringify(r.doc.metadata)===JSON.stringify(t.metadata)||!r&&a&&JSON.stringify(a.metadata)===JSON.stringify(t.metadata)||o.push({type:"modified",payload:{oldIndex:e,newIndex:e,type:"modified",doc:t}})}),o}))}function Gk(t,e,n){return Kk(t,n).pipe(Object($o.a)(function(t,n){return function(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Qk(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){var n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Qk(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Qk(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(function(t){return t.payload}),e)},[]),Object(fn.a)(),Object(ye.a)(function(t){return t.map(function(t){return{type:t.type,payload:t}})}))}function Qk(t,e,n){for(var r=t.slice(),i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return r.splice.apply(r,[e,n].concat(o)),r}function Yk(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(cc.e)(Hk,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);var Jk=function(){function t(e,n,r){Object(u.a)(this,t),this.ref=e,this.query=n,this.afs=r}return Object(c.a)(t,[{key:"stateChanges",value:function(t){var e=Kk(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(ye.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}))),e.pipe(Object(hn.a)(void 0),Object(sc.a)(),Object(vn.a)(function(t){var e=Object(d.a)(t,2);return e[1].length>0||!e[0]}),Object(ye.a)(function(t){return Object(d.a)(t,2)[1]}),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Object($o.a)(function(t,e){return[].concat(Object(ve.a)(t),Object(ve.a)(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=Yk(t);return Gk(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return zk(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ye.a)(function(e){return e.payload.docs.map(function(e){return t.idField?Object.assign(Object.assign({},e.data()),Object(Ko.a)({},t.idField,e.id)):e.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(be.a)(this.query.get(t)).pipe(Object(uc.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new Zk(this.ref.doc(t),this.afs)}}]),t}(),Zk=function(){function t(e,n){Object(u.a)(this,t),this.ref=e,this.afs=n}return Object(c.a)(t,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=rj(this.ref.collection(t),e);return new Jk(n.ref,n.query,this.afs)}},{key:"snapshotChanges",value:function(){return Wk(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(hn.a)(void 0),Object(sc.a)(),Object(ye.a)(function(t){var e=Object(d.a)(t,2),n=e[0],r=e[1];return r.exists?(null==n?void 0:n.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}})).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe(Object(ye.a)(function(e){var n=e.payload;return t.idField?Object.assign(Object.assign({},n.data()),Object(Ko.a)({},t.idField,n.id)):n.data()}))}},{key:"get",value:function(t){return Object(be.a)(this.ref.get(t)).pipe(Object(uc.b)(this.afs.schedulers.insideAngular))}}]),t}(),Xk=function(){function t(e,n){Object(u.a)(this,t),this.query=e,this.afs=n}return Object(c.a)(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?Kk(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ye.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),Object(vn.a)(function(t){return t.length>0}),this.afs.keepUnstableUntilFirst):Kk(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Object($o.a)(function(t,e){return[].concat(Object(ve.a)(t),Object(ve.a)(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=Yk(t);return Gk(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=zk(this.query,this.afs.schedulers.outsideAngular);return e.pipe(Object(ye.a)(function(e){return e.payload.docs.map(function(e){return t.idField?Object.assign(Object(Ko.a)({},t.idField,e.id),e.data()):e.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(be.a)(this.query.get(t)).pipe(Object(uc.b)(this.afs.schedulers.insideAngular))}}]),t}(),$k=new r.s("angularfire2.enableFirestorePersistence"),tj=new r.s("angularfire2.firestore.persistenceSettings"),ej=new r.s("angularfire2.firestore.settings"),nj=new r.s("angularfire2.firestore.use-emulator");function rj(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t},n=e(t);return{query:n,ref:t}}var ij=function(){var t=function(){function t(e,n,r,i,o,a,s,c,l){Object(u.a)(this,t),this.schedulers=new cc.d(a),this.keepUnstableUntilFirst=Object(cc.h)(this.schedulers);var h=Object(cc.g)(e,a,n);!lc.a.auth&&l&&Object(cc.j)();var f=c,p=Object(cc.f)("".concat(h.name,".firestore"),"AngularFirestore",h,function(){var t=a.runOutsideAngular(function(){return h.firestore()});return i&&t.settings(i),f&&t.useEmulator.apply(t,Object(ve.a)(f)),r&&!Nt(o)?[t,a.runOutsideAngular(function(){try{return Object(be.a)(t.enablePersistence(s||void 0).then(function(){return!0},function(){return!1}))}catch(Ck){return"undefined"!=typeof console&&console.warn(Ck),Object(Go.a)(!1)}})]:[t,Object(Go.a)(!1)]},[i,f,r]),v=Object(d.a)(p,2);this.firestore=v[0],this.persistenceEnabled$=v[1]}return Object(c.a)(t,[{key:"collection",value:function(t,e){var n=rj("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query,o=this.schedulers.ngZone.run(function(){return r});return new Jk(o,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new Xk(n(r),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run(function(){return e});return new Zk(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Zb(cc.c),r.Zb(cc.b,8),r.Zb($k,8),r.Zb(ej,8),r.Zb(r.D),r.Zb(r.B),r.Zb(tj,8),r.Zb(nj,8),r.Zb(Mk,8))},t.\u0275prov=r.Jb({factory:function(){return new t(r.Zb(cc.c),r.Zb(cc.b,8),r.Zb($k,8),r.Zb(ej,8),r.Zb(r.D),r.Zb(r.B),r.Zb(tj,8),r.Zb(nj,8),r.Zb(Mk,8))},token:t,providedIn:"any"}),t}(),oj=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(Ck){o(Ck)}}function s(t){try{u(r.throw(t))}catch(Ck){o(Ck)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})},aj=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(Ck){o=[6,Ck],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},sj=function(){function t(t){this.firestore=t}return t.prototype.getProfile=function(){return this.firestore.collection("profile",function(t){return t.where("state","==",!0)}).snapshotChanges()},t.prototype.getSkills=function(){return this.firestore.collection("skills",function(t){return t.where("state","==",!0)}).snapshotChanges()},t.prototype.getAllLinks=function(){var t;return this.firestore.collection("links",function(t){return t.where("state","==",!0)}).snapshotChanges().subscribe(function(e){e.forEach(function(e){t.push({id:e.payload.doc.id,name:e.payload.doc.data().name,state:e.payload.doc.data().state,icon_1:e.payload.doc.data().icon_1,icon_2:e.payload.doc.data().icon_2,url:e.payload.doc.data().url})})}),t},t.prototype.cargarDatosInicialesProfile=function(){i&&this.addProfile(i)},t.prototype.cargarDatosInicialesSkills=function(){var t=this;o&&o.forEach(function(e){t.addSkill(e)})},t.prototype.addProfile=function(t){return oj(this,void 0,void 0,function(){return aj(this,function(e){switch(e.label){case 0:return[4,this.firestore.collection("profile").add(t)];case 1:return[2,e.sent()]}})})},t.prototype.addSkill=function(t){return oj(this,void 0,void 0,function(){return aj(this,function(e){switch(e.label){case 0:return[4,this.firestore.collection("skills").add(t)];case 1:return[2,e.sent()]}})})},t.\u0275fac=function(e){return new(e||t)(r.Zb(ij))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),uj=function(){function t(t){this._firebaseService=t}return t.prototype.getProfile=function(){return i},t.prototype.getSkills=function(){return o},t.prototype.getAllLinks=function(){return null},t.\u0275fac=function(e){return new(e||t)(r.Zb(sj))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),cj=function(){return function(){}}(),lj={apiKey:"AIzaSyCyI4fb220UvAIOxMaaWZbhLMsHQNcQ02U",authDomain:"blog-app-stemensooh.firebaseapp.com",projectId:"blog-app-stemensooh",storageBucket:"blog-app-stemensooh.appspot.com",messagingSenderId:"876679081121",appId:"1:876679081121:web:782a577c6a78831f8814e0"},hj={id:"",profesion:"Computer Systems Engineer",description:"<p>I am simply a FullStack developer but also a Computer Systems Engineer, graduated from Milagro State University. I learned a lot about software development and still am.</p><p>I am passionate about learning new technologies. Some of my qualities are: Actodidact, Adaptability, Communication</p>",image:"./assets/img/personal/perfil.jpg",name:"Bol\xedvar C\xe1rdenas",state:!0,year:1997,url_linklin:"https://www.linkedin.com/in/bolivar-cardenas-perez-10a316199/",url_twiter:"https://twitter.com/bolo_bolivar",url_github:"https://github.com/stemensooh",url_facebook:"https://www.facebook.com/bolivar.cardenas.509",url_instagram:"https://www.instagram.com/stemen_sooh/"};function fj(t,e){1&t&&(r.Sb(0,"h3",73),r.Dc(1,"My Skills"),r.Rb())}function dj(t,e){if(1&t&&(r.Sb(0,"div",74),r.Sb(1,"div",75),r.Sb(2,"div",76),r.Ob(3,"img",77),r.Sb(4,"span"),r.Dc(5),r.Rb(),r.Rb(),r.Sb(6,"div",78),r.Sb(7,"span"),r.Dc(8),r.Rb(),r.Rb(),r.Rb(),r.Ob(9,"ngb-progressbar",79),r.Rb()),2&t){var n=e.$implicit;r.Ab(3),r.lc("src",n.image,r.wc),r.Ab(2),r.Ec(n.name),r.Ab(3),r.Fc("",n.percent,"%"),r.Ab(1),r.mc("type",n.type),r.mc("value",n.percent)}}var pj=function(){return["/"]},vj=function(){function t(t){this._profileService=t,this.skills=new Array,this.isCollapsed=!0,this.fecha=new Date,this.anio=this.fecha.getFullYear(),this.url_imagen_fondo="./assets/img/personal/fondo-pantalla.jpg",this.buildSkill()}return t.prototype.ngAfterViewInit=function(){},t.prototype.ngOnInit=function(){this.profile=this._profileService.getProfile(),this.profile||(this.profile=hj),this.anio-=this.profile.year},t.prototype.buildSkill=function(){var t=this,e=this._profileService.getSkills();e&&e.forEach(function(e){var n=new cj;n.name=e.name,n.percent=e.percent,n.image=e.image,e.percent>0&&e.percent<=20&&(n.type="danger"),e.percent>20&&e.percent<=40&&(n.type="warning"),e.percent>40&&e.percent<=60&&(n.type="primary"),e.percent>60&&e.percent<=80&&(n.type="info"),e.percent>80&&e.percent<=100&&(n.type="success"),t.skills.push(n)})},t.\u0275fac=function(e){return new(e||t)(r.Nb(uj))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-root"]],decls:126,vars:28,consts:[["id","navbar-main",1,"navbar","navbar-main","navbar-expand-lg","navbar-transparent","navbar-light","headroom","headroom--top","headroom--pinned"],[1,"container"],[1,"navbar-brand","mr-lg-5",3,"routerLink"],[2,"color","white"],["type","button","aria-controls","navbar_global",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["id","navbar_global",1,"navbar-collapse","collapse",3,"ngbCollapse"],[1,"navbar-collapse-header"],[1,"row"],[1,"col-6","collapse-brand"],[3,"routerLink"],[2,"color","black"],[1,"col-6","collapse-close"],[1,"navbar-nav","align-items-lg-center","ml-lg-auto"],[1,"nav-item"],["target","_blank","data-toggle","tooltip","title","Like me on LinkedIn",1,"nav-link","nav-link-icon",3,"href"],[1,"fa","fa-linkedin-square"],[1,"nav-link-inner--text","d-lg-none"],["target","_blank","data-toggle","tooltip","title","Like me on Facebook",1,"nav-link","nav-link-icon",3,"href"],[1,"fa","fa-facebook-square"],["target","_blank","data-toggle","tooltip","title","Follow me on Instagram",1,"nav-link","nav-link-icon",3,"href"],[1,"fa","fa-instagram"],["target","_blank","data-toggle","tooltip","title","Follow me on Twitter",1,"nav-link","nav-link-icon",3,"href"],[1,"fa","fa-twitter-square"],["target","_blank","data-toggle","tooltip","title","Star me on Github",1,"nav-link","nav-link-icon",3,"href"],[1,"fa","fa-github"],[1,"profile-page"],[1,"section-profile-cover","section-shaped","my-0"],[1,"",2,"height","100%","display","block","margin","auto"],["src","../../assets/img/personal/fondo-pantalla.jpg","alt","",1,"shape","shape-style-1","alpha-4"],[1,"separator","separator-bottom","separator-skew"],["x","0","y","0","viewBox","0 0 2560 100","preserveAspectRatio","none","version","1.1","xmlns","http://www.w3.org/2000/svg"],["points","2560 0 2560 100 0 100",1,"fill-white"],[1,"section"],[1,"card","card-profile","shadow","mt--300"],[1,"px-4"],[1,"row","justify-content-center"],[1,"col-lg-3","order-lg-2"],[1,"card-profile-image"],["href","javascript:void(0)"],[1,"rounded-circle",3,"src"],[1,"text-center","mt-5"],[1,"font-weight-light"],[1,"h4"],[1,"ni","location_pin","mr-2"],[1,"py-5","border-top","text-center"],[1,"col-lg-9",3,"innerHtml"],[1,"row","justify-content-between","align-items-center"],[1,"col-lg-12"],["class","h4 text-success font-weight-bold",4,"ngIf"],["class","",4,"ngFor","ngForOf"],[1,"footer"],[1,"row","row-grid","align-items-center"],[1,"col-lg-6"],[1,"text-primary","font-weight-light","mb-2"],[1,"mb-0","font-weight-light"],[1,"col-lg-6","text-lg-center","btn-wrapper"],["target","_blank","ngbTooltip","Follow us",1,"btn","btn-neutral","btn-icon-only","btn-facebook","btn-round","btn-lg",2,"background-color","#047cb4",3,"href"],[1,"fa","fa-linkedin"],["target","_blank","ngbTooltip","Like us",1,"btn","btn-neutral","btn-icon-only","btn-facebook","btn-round","btn-lg",3,"href"],["target","_blank","ngbTooltip","Follow us",1,"btn","btn-neutral","btn-icon-only","btn-dribbble","btn-lg","btn-round",3,"href"],["target","_blank","ngbTooltip","Follow us",1,"btn","btn-neutral","btn-icon-only","btn-twitter","btn-round","btn-lg",3,"href"],[1,"fa","fa-twitter"],["target","_blank","ngbTooltip","Star on Github",1,"btn","btn-neutral","btn-icon-only","btn-github","btn-round","btn-lg",3,"href"],[1,"row","align-items-center","justify-content-md-between"],[1,"col-md-6"],[1,"copyright"],["href","https://www.creative-tim.com?ref=adsa-footer","target","_blank"],[1,"nav","nav-footer","justify-content-end"],["href","https://www.creative-tim.com?ref=adsa-footer","target","_blank",1,"nav-link"],["href","https://www.creative-tim.com/presentation?ref=adsa-footer","target","_blank",1,"nav-link"],["href","http://blog.creative-tim.com?ref=adsa-footer","target","_blank",1,"nav-link"],["href","https://github.com/creativetimofficial/argon-design-system-angular/blob/master/LICENSE.md","target","_blank",1,"nav-link"],[1,"h4","text-success","font-weight-bold"],[1,""],[1,"progress-info"],[1,"progress-label"],["alt","",1,"rounded-circle",2,"height","30px",3,"src"],[1,"progress-percentage"],[3,"type","value"]],template:function(t,e){1&t&&(r.Sb(0,"nav",0),r.Sb(1,"div",1),r.Sb(2,"a",2),r.Sb(3,"h2",3),r.Sb(4,"b"),r.Dc(5,"BCAR"),r.Rb(),r.Rb(),r.Rb(),r.Sb(6,"button",4),r.cc("click",function(){return e.isCollapsed=!e.isCollapsed}),r.Ob(7,"span",5),r.Rb(),r.Sb(8,"div",6),r.Sb(9,"div",7),r.Sb(10,"div",8),r.Sb(11,"div",9),r.Sb(12,"a",10),r.Sb(13,"h2",11),r.Sb(14,"b"),r.Dc(15,"BCAR"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(16,"div",12),r.Sb(17,"button",4),r.cc("click",function(){return e.isCollapsed=!e.isCollapsed}),r.Ob(18,"span"),r.Ob(19,"span"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(20,"ul",13),r.Sb(21,"li",14),r.Sb(22,"a",15),r.Ob(23,"i",16),r.Sb(24,"span",17),r.Dc(25,"LinkedIn"),r.Rb(),r.Rb(),r.Rb(),r.Sb(26,"li",14),r.Sb(27,"a",18),r.Ob(28,"i",19),r.Sb(29,"span",17),r.Dc(30,"Facebook"),r.Rb(),r.Rb(),r.Rb(),r.Sb(31,"li",14),r.Sb(32,"a",20),r.Ob(33,"i",21),r.Sb(34,"span",17),r.Dc(35,"Instagram"),r.Rb(),r.Rb(),r.Rb(),r.Sb(36,"li",14),r.Sb(37,"a",22),r.Ob(38,"i",23),r.Sb(39,"span",17),r.Dc(40,"Twitter"),r.Rb(),r.Rb(),r.Rb(),r.Sb(41,"li",14),r.Sb(42,"a",24),r.Ob(43,"i",25),r.Sb(44,"span",17),r.Dc(45,"Github"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(46,"main",26),r.Sb(47,"section",27),r.Sb(48,"div",28),r.Ob(49,"img",29),r.Rb(),r.Sb(50,"div",30),r.fc(),r.Sb(51,"svg",31),r.Ob(52,"polygon",32),r.Rb(),r.Rb(),r.Rb(),r.ec(),r.Sb(53,"section",33),r.Sb(54,"div",1),r.Sb(55,"div",34),r.Sb(56,"div",35),r.Sb(57,"div",36),r.Sb(58,"div",37),r.Sb(59,"div",38),r.Sb(60,"a",39),r.Ob(61,"img",40),r.Rb(),r.Rb(),r.Rb(),r.Ob(62,"br"),r.Ob(63,"br"),r.Ob(64,"br"),r.Ob(65,"br"),r.Rb(),r.Sb(66,"div",41),r.Sb(67,"h2"),r.Sb(68,"b"),r.Dc(69),r.Sb(70,"span",42),r.Dc(71),r.Rb(),r.Rb(),r.Rb(),r.Sb(72,"div",43),r.Ob(73,"i",44),r.Sb(74,"b"),r.Dc(75),r.Rb(),r.Rb(),r.Rb(),r.Sb(76,"div",45),r.Sb(77,"div",36),r.Ob(78,"div",46),r.Rb(),r.Sb(79,"div",47),r.Sb(80,"div",48),r.Bc(81,fj,2,0,"h3",49),r.Bc(82,dj,10,5,"div",50),r.Rb(),r.Rb(),r.Rb(),r.Ob(83,"div"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(84,"footer",51),r.Sb(85,"div",1),r.Sb(86,"div",52),r.Sb(87,"div",53),r.Sb(88,"h3",54),r.Dc(89,"Thank you for visiting me!"),r.Rb(),r.Sb(90,"h4",55),r.Dc(91,"Let's get in touch on any of these platforms."),r.Rb(),r.Rb(),r.Sb(92,"div",56),r.Sb(93,"a",57),r.Ob(94,"i",58),r.Rb(),r.Sb(95,"a",59),r.Ob(96,"i",19),r.Rb(),r.Sb(97,"a",60),r.Ob(98,"i",21),r.Rb(),r.Sb(99,"a",61),r.Ob(100,"i",62),r.Rb(),r.Sb(101,"a",63),r.Ob(102,"i",25),r.Rb(),r.Rb(),r.Rb(),r.Ob(103,"hr"),r.Sb(104,"div",64),r.Sb(105,"div",65),r.Sb(106,"div",66),r.Dc(107),r.hc(108,"date"),r.Sb(109,"a",67),r.Dc(110,"Creative Tim"),r.Rb(),r.Dc(111,". "),r.Rb(),r.Rb(),r.Sb(112,"div",65),r.Sb(113,"ul",68),r.Sb(114,"li",14),r.Sb(115,"a",69),r.Dc(116,"Creative Tim"),r.Rb(),r.Rb(),r.Sb(117,"li",14),r.Sb(118,"a",70),r.Dc(119,"About Us"),r.Rb(),r.Rb(),r.Sb(120,"li",14),r.Sb(121,"a",71),r.Dc(122,"Blog"),r.Rb(),r.Rb(),r.Sb(123,"li",14),r.Sb(124,"a",72),r.Dc(125,"MIT License"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.Ab(2),r.lc("routerLink",r.oc(26,pj)),r.Ab(4),r.Bb("aria-expanded",!e.isCollapsed),r.Ab(2),r.lc("ngbCollapse",e.isCollapsed),r.Ab(4),r.lc("routerLink",r.oc(27,pj)),r.Ab(5),r.Bb("aria-expanded",!e.isCollapsed),r.Ab(5),r.mc("href",e.profile.url_linklin,r.wc),r.Ab(5),r.mc("href",e.profile.url_facebook,r.wc),r.Ab(5),r.mc("href",e.profile.url_instagram,r.wc),r.Ab(5),r.mc("href",e.profile.url_twiter,r.wc),r.Ab(5),r.mc("href",e.profile.url_github,r.wc),r.Ab(19),r.mc("src",e.profile.image,r.wc),r.Ab(8),r.Fc("",e.profile.name," "),r.Ab(2),r.Fc(", ",e.anio,""),r.Ab(4),r.Ec(e.profile.profesion),r.Ab(3),r.lc("innerHtml",e.profile.description,r.vc),r.Ab(3),r.lc("ngIf",e.skills),r.Ab(1),r.lc("ngForOf",e.skills),r.Ab(11),r.mc("href",e.profile.url_linklin,r.wc),r.Ab(2),r.mc("href",e.profile.url_facebook,r.wc),r.Ab(2),r.mc("href",e.profile.url_instagram,r.wc),r.Ab(2),r.mc("href",e.profile.url_twiter,r.wc),r.Ab(2),r.mc("href",e.profile.url_github,r.wc),r.Ab(6),r.Fc(" \xa9 ",r.ic(108,23,e.fecha,"yyyy")," "))},directives:[Di,Mu,Vr,St,kt,To,io],pipes:[xt],styles:[""]}),t}(),bj=[{path:"",component:vj},{path:"",redirectTo:"",pathMatch:"full"}],yj=function(){function t(){}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[At,de,Ju.forRoot(bj,{useHash:!0})]]}),t}(),gj=n("32Ea");function mj(t){return null==t}function wj(t){return"function"==typeof t.set}function _j(t,e){return wj(e)?e:t.ref(e)}function Oj(t,e){if("string"==typeof t)return e.stringCase();if(wj(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: ".concat(typeof t))}function kj(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"on",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ac.b;return new ln.a(function(i){var o;return o=t[n](e,function(t,e){r.schedule(function(){i.next({snapshot:t,prevKey:e})}),"once"===n&&r.schedule(function(){return i.complete()})},function(t){r.schedule(function(){return i.error(t)})}),"on"===n?{unsubscribe:function(){null!=o&&t.off(e,o)}}:{unsubscribe:function(){}}}).pipe(Object(ye.a)(function(t){var n=t.snapshot,r=t.prevKey,i=null;return n.exists()&&(i=n.key),{type:e,payload:n,prevKey:r,key:i}}),Object(wn.a)())}function jj(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function Sj(t,e){var n=e.payload,r=e.prevKey,i=e.key,o=jj(t,i),a=function(t,e){if(mj(e))return 0;var n=jj(t,e);return-1===n?t.length:n+1}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){var s=null;e.payload.forEach(function(e){var n={payload:e,type:"value",prevKey:s,key:e.key};return s=e.key,t=[].concat(Object(ve.a)(t),[n]),!1})}return t;case"child_added":if(o>-1){var u=t[o-1];(u&&u.key||null)!==r&&(t=t.filter(function(t){return t.payload.key!==n.key})).splice(a,0,e)}else{if(null==r)return[e].concat(Object(ve.a)(t));(t=t.slice()).splice(a,0,e)}return t;case"child_removed":return t.filter(function(t){return t.payload.key!==n.key});case"child_changed":return t.map(function(t){return t.payload.key===i?e:t});case"child_moved":if(o>-1){var c=t.splice(o,1)[0];return(t=t.slice()).splice(a,0,c),t}return t;default:return t}}function Ij(t){return(mj(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function Tj(t,e,n){return function(t,e,n){return kj(t,"value","once",n).pipe(Object(dn.a)(function(r){var i=[Object(Go.a)(r)];return e.forEach(function(e){return i.push(kj(t,e,"on",n))}),un.a.apply(void 0,i).pipe(Object($o.a)(Sj,[]))}),Object(fn.a)())}(t,e=Ij(e),n)}function Ej(t,e,n){var r=(e=Ij(e)).map(function(e){return kj(t,e,"on",n)});return un.a.apply(void 0,Object(ve.a)(r))}function Cj(t,e){return function(n,r){return Oj(n,{stringCase:function(){return t.child(n)[e](r)},firebaseCase:function(){return n[e](r)},snapshotCase:function(){return n.ref[e](r)}})}}function xj(t,e){return function(){return kj(t,"value","on",e)}}n("6Uf2");var Aj=new r.s("angularfire2.realtimeDatabaseURL"),Nj=new r.s("angularfire2.database.use-emulator"),Dj=function(){var t=function(){function t(e,n,r,i,o,a,s){Object(u.a)(this,t),this.schedulers=new cc.d(o),this.keepUnstableUntilFirst=Object(cc.h)(this.schedulers);var c=a,l=Object(cc.g)(e,o,n);!lc.a.auth&&s&&Object(cc.j)(),this.database=Object(cc.f)("".concat(l.name,".database.").concat(r),"AngularFireDatabase",l,function(){var t=o.runOutsideAngular(function(){return l.database(r||void 0)});return c&&t.useEmulator.apply(t,Object(ve.a)(c)),t},[c])}return Object(c.a)(t,[{key:"list",value:function(t,e){var n=this,r=this.schedulers.ngZone.runOutsideAngular(function(){return _j(n.database,t)}),i=r;return e&&(i=e(r)),function(t,e){var n,r=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(function(){return t.ref});return{query:t,update:Cj(i,"update"),set:Cj(i,"set"),push:function(t){return i.push(t)},remove:(n=i,function(t){return t?Oj(t,{stringCase:function(){return n.child(t).remove()},firebaseCase:function(){return t.remove()},snapshotCase:function(){return t.ref.remove()}}):n.remove()}),snapshotChanges:function(n){return Tj(t,n,r).pipe(e.keepUnstableUntilFirst)},stateChanges:function(n){return Ej(t,n,r).pipe(e.keepUnstableUntilFirst)},auditTrail:function(n){return function(t,e,n){return function(t,e,n){return function(t,e){return kj(t,"value","on",e).pipe(Object(ye.a)(function(t){var e;return t.payload.forEach(function(t){return e=t.key,!1}),{data:t,lastKeyToLoad:e}}))}(t,n).pipe(Object(gn.a)(e),Object(ye.a)(function(t){var e=Object(d.a)(t,2),n=e[1],r=e[0].lastKeyToLoad,i=n.map(function(t){return t.key});return{actions:n,lastKeyToLoad:r,loadedKeys:i}}),Object(gj.a)(function(t){return-1===t.loadedKeys.indexOf(t.lastKeyToLoad)}),Object(ye.a)(function(t){return t.actions}))}(t,Ej(t,e).pipe(Object($o.a)(function(t,e){return[].concat(Object(ve.a)(t),[e])},[])),n)}(t,n,r).pipe(e.keepUnstableUntilFirst)},valueChanges:function(n,i){return Tj(t,n,r).pipe(Object(ye.a)(function(t){return t.map(function(t){return i&&i.idField?Object.assign(Object.assign({},t.payload.val()),Object(Ko.a)({},i.idField,t.key)):t.payload.val()})}),e.keepUnstableUntilFirst)}}}(i,this)}},{key:"object",value:function(t){var e,n,r=this,i=this.schedulers.ngZone.runOutsideAngular(function(){return _j(r.database,t)});return n=this,{query:e=i,snapshotChanges:function(){return xj(e,n.schedulers.outsideAngular)().pipe(n.keepUnstableUntilFirst)},update:function(t){return e.ref.update(t)},set:function(t){return e.ref.set(t)},remove:function(){return e.ref.remove()},valueChanges:function(){return xj(e,n.schedulers.outsideAngular)().pipe(n.keepUnstableUntilFirst,Object(ye.a)(function(t){return t.payload.exists()?t.payload.val():null}))}}}},{key:"createPushId",value:function(){var t=this;return this.schedulers.ngZone.runOutsideAngular(function(){return t.database.ref()}).push().key}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Zb(cc.c),r.Zb(cc.b,8),r.Zb(Aj,8),r.Zb(r.D),r.Zb(r.B),r.Zb(Nj,8),r.Zb(Mk,8))},t.\u0275prov=r.Jb({factory:function(){return new t(r.Zb(cc.c),r.Zb(cc.b,8),r.Zb(Aj,8),r.Zb(r.D),r.Zb(r.B),r.Zb(Nj,8),r.Zb(Mk,8))},token:t,providedIn:"any"}),t}(),Rj=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[Dj]}),t}(),Pj=(n("6nsN"),function(){function t(){}return t.\u0275mod=r.Lb({type:t,bootstrap:[vj]}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[],imports:[[de,Uo,xe,Ju,yj,cc.a.initializeApp(lj),Rj]]}),t}());Object(r.U)(),he().bootstrapModule(Pj).catch(function(t){return console.error(t)})},zp1y:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("KQm4"),i=n("JX7q"),o=n("Ji7U"),a=n("LK+K"),s=n("1OyB"),u=n("vuIU"),c=n("l7GE"),l=n("ZUHj");function h(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new f(e,n))}}var f=function(){function t(e,n){Object(s.a)(this,t),this.observables=e,this.project=n}return Object(u.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new d(t,this.observables,this.project))}}]),t}(),d=function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(t,r,o){var a;Object(s.a)(this,n),(a=e.call(this,t)).observables=r,a.project=o,a.toRespond=[];var u=r.length;a.values=new Array(u);for(var c=0;c<u;c++)a.toRespond.push(c);for(var h=0;h<u;h++){var f=r[h];a.add(Object(l.a)(Object(i.a)(a),f,void 0,h))}return a}return Object(u.a)(n,[{key:"notifyNext",value:function(t,e,n){this.values[n]=e;var r=this.toRespond;if(r.length>0){var i=r.indexOf(n);-1!==i&&r.splice(i,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(t){if(0===this.toRespond.length){var e=[t].concat(Object(r.a)(this.values));this.project?this._tryProject(e):this.destination.next(e)}}},{key:"_tryProject",value:function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(c.a)},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f});var r=n("1OyB"),i=n("vuIU"),o=n("Ji7U"),a=n("LK+K"),s=n("7o/Q"),u=n("HDdC"),c=n("SeVD"),l=function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(t){var i;return Object(r.a)(this,n),(i=e.call(this)).parent=t,i}return Object(i.a)(n,[{key:"_next",value:function(t){this.parent.notifyNext(t)}},{key:"_error",value:function(t){this.parent.notifyError(t),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(s.a),h=function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(s.a);function f(t,e){if(!e.closed)return t instanceof u.a?t.subscribe(e):Object(c.a)(t)(e)}}},[[0,0]]]);